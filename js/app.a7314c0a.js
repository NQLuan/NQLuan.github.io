(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0058":function(t,e,a){},"0d43":function(t,e,a){"use strict";var s=a("ede1"),n=a.n(s);n.a},1235:function(t,e,a){"use strict";var s=a("4d17"),n=a.n(s);n.a},1458:function(t,e,a){"use strict";var s=a("c8ed"),n=a.n(s);n.a},1473:function(t,e,a){"use strict";(function(t){a("4de4"),a("d81d"),a("b0c0"),a("ac1f"),a("841c"),a("96cf");var s=a("1da1"),n=a("8ebc"),r=a("9814"),i=a("efa4"),o=a("9ac7"),c=a("c7a0"),l=a("ec45"),u=(a("411c"),a("2b0e")),d=a("c1df"),m=a.n(d);t.client&&a("a78e");e["a"]={components:{FilterBox:n["a"],DatePicker:l["a"],InviteBox:r["a"]},name:"id_list_table",middleware:"authen",data:function(){var t=this;return{json_fields:{Name:{field:"profile",callback:function(t){return"".concat(t.name)}},Email:"email","Birth day":{field:"profile",callback:function(t){return"".concat(t.birth_day)}},Phone:{field:"profile",callback:function(t){return"".concat(t.phone)}},"Join date":{field:"profile",callback:function(t){return"".concat(t.join_date)}},Team:{field:"profile",callback:function(e){return t.getCallBack(e.teams)}}},bus:new u["default"],admin:localStorage.getItem("is_admin"),items:[{text:"Homepage",to:{name:"Index"}},{text:"Employee List",active:!0}],borderradius:{borderRadius:"1.25rem",textAlign:"center"},tablewidth:{width:"250px"},tableteamwidth:{width:"220px"},color:{color:"#25c9d0",fontSize:"40px",marginLeft:"16px"},text:{fontSize:"20px"},pageInfo:{pageNumber:"",previous:"",next:""},errors:"",subject:"",content:"",page_size:8,employeesData:{searching:!1,rows:[],currentPage:0,totalPage:10}}},head:function(){return{title:"Employee List"}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getData(1,t.page_size);case 2:case"end":return e.stop()}}),e)})))()},computed:{GENDERS:function(){return i["a"]}},methods:{getCallBack:function(t){var e=t.map((function(t){return t.name}));return e},fetchDataForExportExcel:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=null,!t.employeesData.searching){e.next=9;break}return s=t.$refs.filter.getSearchData(),n=t.format_date(s.joinDate),e.next=6,c["a"].search(s.name,s.email,s.birthdayMonth,n,s.gender,s.title,s.team,s.active);case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,c["a"].get();case 11:a=e.sent;case 12:return e.abrupt("return",a.data);case 13:case"end":return e.stop()}}),e)})))()},getDataFilterOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page_size;this.employeesData.searching?this.$refs.filter.search(t):this.getData(t,e)},getData:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:1,n=t.length>1&&void 0!==t[1]?t[1]:e.page_size,a.next=4,o["a"].get(n,s);case 4:r=a.sent,r&&r.data&&e.loadData(r,!1);case 6:case"end":return a.stop()}}),a)})))()},loadData:function(t,e){this.employeesData.searching=e,this.employeesData.rows=t.data.results,this.employeesData.totalPage=t.data.page_number,this.employeesData.currentPage=t.data.current},format_date:function(t){if(t)return m()(String(t)).format("YYYY-MM")}}}}).call(this,a("4362"))},"16f6":function(t,e,a){},1753:function(t,e,a){"use strict";var s=a("c253"),n=a.n(s);n.a},"18f5":function(t,e,a){"use strict";var s=a("be92"),n=a.n(s);n.a},"1f8a":function(t,e,a){"use strict";var s=a("8ae2"),n=a.n(s);n.a},"262d":function(t,e,a){"use strict";var s=a("8a36"),n=a.n(s);n.a},"26b3":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var s=a("d4ec"),n=a("bee2"),r=(a("d3b7"),a("bc3a")),i=a.n(r),o=a("560a"),c=function(){function t(e){return Object(s["a"])(this,t),this.isAuth=!(!e||!e.auth)&&e.auth,this.instance=i.a.create({baseURL:o["a"]}),this.init()}return Object(n["a"])(t,[{key:"init",value:function(){return this.isAuth?(this.instance.interceptors.request.use((function(t){return t.headers["Authorization"]="".concat(localStorage.getItem("token")),t}),(function(t){return Promise.reject(t)})),this.instance):this.instance}}]),t}(),l=function(){function t(){if(Object(s["a"])(this,t),!this.entity)throw new Error("Child service class not provide entity")}return Object(n["a"])(t,[{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1};return new c(t)}}]),t}()},"2a47":function(t,e,a){"use strict";var s=a("16f6"),n=a.n(s);n.a},"2d67":function(t,e,a){},"2f90":function(t,e,a){"use strict";var s=a("658a"),n=a.n(s);n.a},3018:function(t,e,a){},"313a":function(t,e,a){},3374:function(t,e,a){"use strict";var s=a("404c"),n=a.n(s);n.a},"34d6":function(t,e,a){"use strict";var s=a("a06b"),n=a.n(s);n.a},"3a4d":function(t,e,a){"use strict";var s=a("48e8"),n=a.n(s);n.a},"3ce7":function(t,e,a){},"3e61":function(t,e,a){"use strict";var s=a("3018"),n=a.n(s);n.a},"3f7d":function(t,e,a){},"404c":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="4678"},"474f":function(t,e,a){t.exports=a.p+"img/logo-paradox-white-01.24b90a32.png"},"48e8":function(t,e,a){},"4d17":function(t,e,a){},5235:function(t,e,a){"use strict";var s=a("e3d1"),n=a.n(s);n.a},5445:function(t,e,a){},"549e":function(t,e,a){"use strict";var s=a("a011"),n=a.n(s);n.a},5540:function(t,e,a){"use strict";var s=a("d28f"),n=a.n(s);n.a},"560a":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));var s="8001",n="http://localhost:".concat(s,"/api/v1"),r="http://localhost:".concat(s)},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=a("1dce"),r=a.n(n),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid col-12 p-0 m-0"},[a("div",{staticClass:"row"},[t.hidden?a("aside",[a("Siderbar")],1):t._e(),a("main",{staticClass:"col-xl"},[t.hidden?a("div",[a("Navbar")],1):t._e(),a("router-view")],1)])])},o=[],c=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{staticClass:"sidebar-brand"},[a("div",{attrs:{id:"close-sidebar"}},[a("button",{ref:"brand",staticClass:"btn btn-info btn-sm",on:{click:function(e){return t.toggle()}}},[t._v("=")])])]),a("nav",{ref:"dropdown",staticClass:"pl-3 col-md-2",attrs:{id:"id_sidebar"}},[a("ul",{staticClass:"list-unstyled components p-0"},[a("li",{attrs:{id:"siderbar_header"}},[a("router-link",{attrs:{to:"/"}},[a("h4",{staticClass:"text-center"},[t._v("Company Management")])])],1),a("div",{staticClass:"ml-2 font-weight-bold",attrs:{id:"button_container"}},[a("li",[a("router-link",{attrs:{to:"/"}},[a("font-awesome-icon",{attrs:{icon:["fas","home"]}}),t._v(" Homepage ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[0]},on:{click:function(e){return t.highlightButtons(0)}}},[a("router-link",{attrs:{to:"/employeelist"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","list"]}}),t._v(" Employee List ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[1]},on:{click:function(e){return t.highlightButtons(1)}}},[a("router-link",{attrs:{to:"/team"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","users"]}}),t._v(" Team List ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[4]},on:{click:function(e){return t.highlightButtons(4)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/full-calendar"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-week"]}}),t._v(" My Calendar ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[3]},on:{click:function(e){return t.highlightButtons(3)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/calendar"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-week"]}}),t._v(" Company Calendar ")],1)],1),a("li",{staticClass:"dropdown_list_container"},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropdown_header mx-auto dropdown-toggle",on:{click:function(e){return t.show_leave_dropdown()}}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar"]}}),a("v-badge",{directives:[{name:"show",rawName:"v-show",value:t.showNoti,expression:"showNoti"}],staticClass:"badge-vue",attrs:{color:"red",content:t.showNoti}},[t._v(" Leave Management ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.showNoti,expression:"!showNoti"}]},[t._v(" Leave Management ")])],1)])]),a("div",{staticClass:"dropdown_content",class:{active:t.checkedLeave}},[a("ul",{staticClass:"list-unstyled components p-0"},[a("li",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin==='true'"}],class:{clicked:t.buttonIsHighlighted[15]},on:{click:function(e){return t.highlightButtons(15)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/type_off"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-alt"]}}),t._v(" Requirements ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[25]},on:{click:function(e){return t.highlightButtons(25)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/leavedayuserstatistic"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-week"]}}),t._v(" Leave Statistic ")],1)],1),a("li",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin==='true'"}],class:{clicked:t.buttonIsHighlighted[17]},on:{click:function(e){return t.highlightButtons(17)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/leavedaystatistic"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-week"]}}),t._v(" Company Statistic ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[5]},on:{click:function(e){return t.highlightButtons(5)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/leavemanage"}},[a("v-row",[a("v-col",{staticClass:"pt-0 pb-0"},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-alt"]}}),a("v-badge",{directives:[{name:"show",rawName:"v-show",value:t.showNoti,expression:"showNoti"}],staticClass:"badge-vue",attrs:{color:"red",content:t.showNoti}},[t._v(" Management ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.showNoti,expression:"!showNoti"}]},[t._v(" Management ")])],1)],1)],1)],1)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin==='true'"}],staticClass:"dropdown_list_container"},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropdown_header mx-auto dropdown-toggle",on:{click:function(e){return t.show()}}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","hamburger"]}}),a("span",[t._v("Lunch Management")])],1)])]),a("div",{staticClass:"dropdown_content",class:{active:t.checked}},[a("ul",{staticClass:"list-unstyled components p-0"},[a("li",{class:{clicked:t.buttonIsHighlighted[8]},on:{click:function(e){return t.highlightButtons(8)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/manage-userLunch"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","utensils"]}}),t._v(" Lunch Management ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[12]},on:{click:function(e){return t.highlightButtons(12)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/manage-lunch"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","utensils"]}}),t._v(" Lunch Provider ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[13]},on:{click:function(e){return t.highlightButtons(13)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/statistic-userLunch"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","utensils"]}}),t._v(" Statistic ")],1)],1)])]),a("li",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin==='true'"}],staticClass:"dropdown_list_container"},[a("div",{staticClass:"dropdown"},[a("div",{staticClass:"dropdown_header mx-auto dropdown-toggle",on:{click:function(e){return t.showProvider()}}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","plus-square"]}}),a("span",[t._v(" General")])],1)])]),a("div",{staticClass:"dropdown_content",class:{active:t.checkProvider}},[a("ul",{staticClass:"list-unstyled components p-0"},[a("li",{class:{clicked:t.buttonIsHighlighted[10]},on:{click:function(e){return t.highlightButtons(10)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/manage-provider"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","utensils"]}}),t._v(" Provider ")],1)],1),a("li",{class:{clicked:t.buttonIsHighlighted[14]},on:{click:function(e){return t.highlightButtons(14)}}},[a("router-link",{staticClass:"btn font-weight-bold text-left",attrs:{to:"/manage-events"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","birthday-cake"]}}),t._v(" Birthday ")],1)],1)])])])])])])}),l=[],u=a("5530"),d=a("2f62"),m=a("bc3a"),f=a.n(m),v={name:"id_sidebar",mounted:function(){},data:function(){return{object:{color:"#25c9d0",background:"white"},checked:!1,checkProvider:!1,checkLunch:!1,checkedLeave:!1,admin:localStorage.getItem("is_admin"),check:!0,buttonIsHighlighted:[]}},computed:Object(u["a"])({},Object(d["b"])({showNoti:"showNoti"})),watch:{$route:"fetchData"},methods:{fetchData:function(){},highlightButtons:function(t){this.buttonIsHighlighted=[],this.buttonIsHighlighted[t]=!0},toggle:function(){var t=this.$refs.dropdown;this.$refs.brand;"none"===t.style.display?t.style.display="grid":t.style.display="none"},show:function(){this.checked=!this.checked},show_leave_dropdown:function(){this.checkedLeave=!this.checkedLeave},showProvider:function(){this.checkProvider=!this.checkProvider},showLunch:function(){this.checkLunch=!this.checkLunch}}},h=v,p=(a("2f90"),a("2877")),g=Object(p["a"])(h,c,l,!1,null,"7d2945c2",null),_=g.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"focus",rawName:"v-focus",value:t.handleFocusOut,expression:"handleFocusOut"}],staticClass:"navbar-container"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("div",{staticClass:"container-fluid"},[s("ul",{staticClass:"nav justify-content-end navbar-nav ml-auto",attrs:{id:"mydrop"}},[s("li",{staticClass:"nav-item",on:{click:t.toggle}},[s("button",{staticClass:"btn dropdown-toggle pr-4"},["null"!==t.imageurl&"undefined"!==t.imageurl?s("img",{staticClass:"img-fluid",attrs:{src:t.imageurl}}):t._e(),"null"===t.imageurl||"undefined"===t.imageurl?s("img",{staticClass:"img-fluid",attrs:{src:a("7d5f")}}):t._e(),s("v-icon",{attrs:{mdium:""}},[t._v("mdi-arrow-down-drop-circle-outline")])],1)]),s("ul",{ref:"dropdown",staticClass:"collapse list-unstyled ml-auto rounded my-drop-content"},[s("div",[s("li",{staticClass:"ml-auto mr-2 pl-2 mt-1 text-muted"},[s("router-link",{staticClass:"my-2 btn btn-block text-left",attrs:{to:"/profile/"+t.profileId}},[t._v(" "+t._s(t.email)+" ")])],1),s("hr"),s("li",{staticClass:"ml-auto pl-2 mr-2"},[s("router-link",{staticClass:"my-2 btn btn-block text-left",attrs:{to:"/changepassword"},on:{click:function(e){return t.toggle()}}},[t._v(" Change password ")])],1),s("li",{staticClass:"ml-auto pl-2 mb-1"},[s("a",{staticClass:"btn btn-block text-left",on:{click:t.logout}},[t._v(" Log out ")])])])])])])])])},w=[],y=a("ade3"),x=a("a78e"),k={name:"mydrop",directives:{focus:{bind:function(t,e,a){var s=function(s){t==s.target||t.contains(s.target)||a.context[e.expression](s)};document.body.addEventListener("click",s)}}},data:function(){return{formError:"",profileId:localStorage.getItem("user_id"),email:localStorage.getItem("email"),imageurl:localStorage.getItem("imageurl"),items:[{text:"Homepage",to:{name:"Index"}},{text:"Invite",active:!0}]}},created:function(){this.fetchData()},watch:Object(y["a"])({$route:"fetchData"},"$route","hide"),methods:{handleFocusOut:function(){var t=this.$refs.dropdown;""!==t.style.display&&t&&(t.style.display="")},toggle:function(){var t=this.$refs.dropdown;""===t.style.display?(t.style.display="grid",t.style.position="absolute",t.style.backgroundColor="#ffffff",t.style.minWidth="200px",t.style.zIndex="10000",t.style.border="0.5px solid #dee2e6",t.style.boxShadow="5px 5px 5px 0px rgba(0,0,0,0.11)"):t.style.display=""},hide:function(){var t=this.$refs.dropdown;t.style.display=""},logout:function(){x.remove("token"),localStorage.removeItem("user_id"),localStorage.removeItem("is_admin"),localStorage.removeItem("currentid"),localStorage.removeItem("profile_id"),localStorage.removeItem("imageurl"),localStorage.removeItem("email"),localStorage.removeItem("param_id"),this.$router.push("/login")},fetchData:function(){this.imageurl=localStorage.getItem("imageurl")}}},C=k,D=(a("fd33"),Object(p["a"])(C,b,w,!1,null,"30abdc7e",null)),j=D.exports,R=(a("a78e"),{layout:"empty",head:function(){return{title:"Homepage"}},components:{Siderbar:_,Navbar:j},data:function(){return{token:"Cookie.get('token')",admin:localStorage.getItem("is_admin"),profileid:localStorage.getItem("profile_id")}},computed:{hidden:function(){return"Login"!==this.$route.name&&"Index"!==this.$route.name&&"Verify"!==this.$route.name&&"ResetPassword"!==this.$route.name}}}),O=R,I=(a("798c"),Object(p["a"])(O,i,o,!1,null,"1d1c81cc",null)),E=I.exports,$=a("8c4f"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container col-12 p-0 m-0"},[a("dashboarNavbar"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row flex-xl-nowrap"},[a("main",{staticClass:"col-12 col-md-12 col-xl-12 pt-0 pb-0 bd-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-4 pt-5 mt-5 d-inline-block"},[a("center",{staticClass:"mt-5",class:{"d-none":null===t.token}},[a("div",{staticClass:"mt-5"},[a("router-link",{attrs:{to:"/employeelist"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],staticClass:"ml-3 ubuton lbuton text-sm"},[a("font-awesome-icon",{attrs:{icon:["fas","list"]}}),t._v(" Employee List ")],1)]),a("router-link",{attrs:{to:"/login"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:!t.token,expression:"!token"}],staticClass:"ml-3 ubuton lbuton text-sm"},[a("font-awesome-icon",{attrs:{icon:["fas","sign-in-alt"]}}),t._v(" Login ")],1)]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],attrs:{to:{path:"/profile/"+t.userid}}},[a("button",{staticClass:"ml-3 ubuton rbuton text-sm"},[a("font-awesome-icon",{attrs:{icon:["fas","user"]}}),t._v(" My profile ")],1)]),a("router-link",{attrs:{to:"/leavesday"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],staticClass:"mt-3 ml-3 dbuton lbuton text-sm"},[a("font-awesome-icon",{attrs:{icon:["fas","calendar-alt"]}}),t._v(" My request ")],1)]),a("router-link",{attrs:{to:"/team"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],staticClass:"mt-3 ml-3 dbuton rbuton text-sm"},[a("font-awesome-icon",{attrs:{icon:["fas","users"]}}),t._v(" Team List ")],1)]),a("router-link",{attrs:{to:"/full-calendar"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],staticClass:"mt-3 ml-3 dbuton rbuton text-sm"},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-week"]}}),t._v(" My Lunch ")],1)]),a("router-link",{attrs:{to:"/manage-provider"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:"true"==t.admin,expression:"admin=='true'"}],staticClass:"mt-3 ml-3 dbuton rbuton text-sm"},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","plus-square"]}}),t._v(" General ")],1)])],1)])],1),t._m(0)])])])]),t._m(1)],1)},q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-11 col-md-8 d-inline-block pt-0 pb-0"},[s("img",{staticClass:"ml-3 mt-0 py-0",attrs:{src:a("9cf5")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[a("span",{staticClass:"mx-auto my-3 text-light h5 "})])])}],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark top-nav row mr-0"},[t._m(0),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.$currentUser.profile_id,expression:"$currentUser.profile_id"}],staticClass:"nav navbar-nav justify-content-end col-1 btnl"},[a("button",{staticClass:"nav-item text-white btn btn-primary-outline",on:{click:t.logout}},[t._v(" Logout ")])])])},M=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"navbar-brand col-8",attrs:{href:"/"}},[t._v(" Paradox Management "),s("img",{staticClass:"px-auto mx-auto",attrs:{src:a("6502")}})])}],P=a("a78e"),L={data:function(){return{token:P.get("token")}},computed:{tokena:function(){return this.token}},methods:{logout:function(){this.token="",P.remove("token"),localStorage.removeItem("user_id"),localStorage.removeItem("is_admin"),localStorage.removeItem("currentid"),localStorage.removeItem("profile_id"),localStorage.removeItem("imageurl"),localStorage.removeItem("email"),localStorage.removeItem("param_id"),this.$router.push("/login")}}},A=L,T=(a("5b71"),Object(p["a"])(A,N,M,!1,null,"49d9fc78",null)),F=T.exports,U=a("a78e"),B={name:"Index",components:{dashboarNavbar:F},data:function(){return{token:U.get("token"),admin:localStorage.getItem("is_admin"),userid:localStorage.getItem("user_id"),profileid:localStorage.getItem("profile_id")}},head:function(){return{title:"Homepage"}}},z=B,H=(a("e5db"),Object(p["a"])(z,S,q,!1,null,"84571bac",null)),Y=H.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"background"},[s("center",[s("img",{staticClass:"icon",attrs:{src:a("474f")}})]),s("div",{staticClass:"hero-content text-info"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.check_forgot_password,expression:"check_forgot_password === false"}],staticClass:"container",attrs:{id:"loginform"}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-8 col-12"},[s("div",{staticClass:"card o-hidden border-0 shadow-lg my-5"},[s("div",{staticClass:"card-body p-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"p-5"},[t._m(0),s("form",{staticClass:"user text-danger",attrs:{id:"login",method:"POST"},on:{submit:t.checkForm,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkForm(e)}}},[""!==t.error?s("div",[t._v(" "+t._s(t.error)+" ")]):t._e(),s("br"),s("div",{staticClass:"form-group mb-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control form-control-user borderform",attrs:{id:"email","aria-describedby":"emailHelp",type:"email",placeholder:"Email Address"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),s("div",{staticClass:"form-group my-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control form-control-user borderform",attrs:{id:"password",type:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})]),s("hr",{staticClass:"my-4"}),s("input",{staticClass:"btn btn-info btn-user btn-block borderform mt-4",attrs:{type:"submit",value:"Login"}})]),s("div",{staticClass:"text-center mt-3"},[s("a",{staticClass:"no-underline pointer",attrs:{title:"Click to find your password"},on:{click:t.display_forgotPass_box}},[t._v("Forgotten Account?")])])])])])])])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.check_forgot_password,expression:"check_forgot_password === true"}],staticClass:"container"},[s("div",{staticClass:"d-block mt-5 pt-5"},[t.success?s("div",{staticClass:"col-sm-6 mx-auto bg-light p-5"},[t._m(3),s("div",{staticClass:"border-bottom"},[s("div",{staticClass:"pt-2 pb-2"},[s("table",[s("tbody",[s("tr",[s("td",{staticClass:"alert alert-success mb-2"},[t._v(" Reset password link had been sent to email "+t._s(t.email_to_get_password)+". ")])])])])])]),s("div",{staticClass:"pt-2"},[s("div",{staticClass:"justify-content-end d-flex"},[s("button",{staticClass:"btn btn-info ml-1",on:{click:t.display_forgotPass_box}},[t._v(" Return to login ")])])])]):s("div",{staticClass:"col-sm-6 mx-auto bg-light p-5"},[t._m(1),s("div",{staticClass:"border-bottom"},[s("div",{staticClass:"pt-2 pb-2"},[s("table",[s("tbody",[s("tr",[s("td",{directives:[{name:"show",rawName:"v-show",value:""!==t.forgot_pass_error.title,expression:"forgot_pass_error.title !== ''"}],staticClass:"alert alert-danger mb-2"},[s("strong",[t._v(t._s(t.forgot_pass_error.title))]),s("br"),t._v(" "+t._s(t.forgot_pass_error.content)+" ")])]),t._m(2),s("tr",[s("td",[s("div",{staticClass:"col-sm-12 mx-auto mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email_to_get_password,expression:"email_to_get_password"}],staticClass:"w-100 p-1",attrs:{type:"text",id:"identify_email",name:"email",placeholder:"Email address",autofocus:"1","aria-label":"email address"},domProps:{value:t.email_to_get_password},on:{input:function(e){e.target.composing||(t.email_to_get_password=e.target.value)}}})])])])])])])]),s("div",{staticClass:"pt-2"},[s("div",{staticClass:"justify-content-end d-flex"},[s("button",{staticClass:"btn btn-success",on:{click:t.submit_forgotPass_box}},[t._v(" Search ")]),s("button",{staticClass:"btn btn-danger ml-1",on:{click:t.display_forgotPass_box}},[t._v(" Cancel ")])])])])])])])],1)},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("h1",{staticClass:"h4 text-info mb-4"},[t._v(" Welcome Back! ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"border-bottom ml-0 text-dark font-weight-bold"},[a("h3",[t._v("Find your account")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[a("div",{staticClass:"col-sm-12 mx-auto text-dark font-weight-bold my-2"},[t._v("Please enter your email address to search for your account.")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"border-bottom ml-0 text-success font-weight-bold"},[a("h3",[t._v("Success")])])}],G=(a("eed9"),a("a78e")),J={name:"login",layout:"empty",middleware:"afterlogin",data:function(){return{email_to_get_password:"",showbutton:!0,error:"",login:{email:"",password:""},check_forgot_password:!1,forgot_pass_error:{title:"",content:""},success:!1}},head:function(){return{title:"Login"}},methods:{submit_forgotPass_box:function(){var t=this;if(console.log(this.email_to_get_password),""===this.email_to_get_password)this.forgot_pass_error.title="Please fill in at least one field",this.forgot_pass_error.content="Fill in at least one field to search for your account";else if(!0!==this.validEmail(this.email_to_get_password))this.email_to_get_password="",this.forgot_pass_error.title="Email not valid",this.forgot_pass_error.content="Fill in valid email to search for your account";else{this.forgot_pass_error={title:"",content:""};var e=new FormData;e.append("email",this.email_to_get_password),f.a.post("/actions/forgot_password/",e).then((function(e){t.display_forgotPass_box,t.forgot_pass_error={title:"",content:""},t.success=!0}))["catch"]((function(e){console.log(11),t.forgot_pass_error.title="No search results",t.forgot_pass_error.content="Your search did not return any results. Please try again with other information"}))}},display_forgotPass_box:function(){this.check_forgot_password=!this.check_forgot_password,this.forgot_pass_error={title:"",content:""},this.email_to_get_password="",this.success=!1},checkForm:function(t){var e=this;this.error="",this.login.email?this.validEmail(this.login.email)?(!this.login.password||this.login.password.length<6)&&(this.error="Password required more than 6 characters."):this.error="Valid email required.":this.error="Email required.",""===this.error&&f.a.post("/login/",this.login).then((function(t){var a=t.data.active;a||(e.error="Users is Deactivated",e.login.email="",e.login.password="");var s=t.data.token;G.set("token",s);var n=t.data.user,r=t.data.profile_id,i=t.data.email,o=t.data.admin,c=t.data.pm,l=t.data.image,u=(t.data.leader,t.data.team,t.data.name);e.$store.commit("user/SET_CURRENT_USER",t.data),localStorage.setItem("email",i),localStorage.setItem("user_id",n),localStorage.setItem("profile_id",r),localStorage.setItem("is_admin",o),localStorage.setItem("imageurl",l),localStorage.setItem("project manager",c),localStorage.setItem("name",u),localStorage.setItem("token",s),e.$router.push("/"),e.$router.go(0)}))["catch"]((function(t){console.log(t),e.error="Email or Password is not correct",e.login.email="",e.login.password=""})),t.preventDefault()},validEmail:function(t){var e=/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}}},Z=J,Q=(a("3a4d"),Object(p["a"])(Z,V,W,!1,null,"7d14accb",null)),K=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("v-app",{staticClass:"mr-3 bg-light"},[a("v-row",{staticClass:"m-4"},[a("v-col",{attrs:{cols:"2"}},[a("v-row",{staticStyle:{height:"60px"}}),a("v-row",[a("v-list",{staticClass:"bg-light"},[a("v-list-group",{attrs:{value:!0},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("My Calendar")])],1)]},proxy:!0}])},[a("v-list-item",[a("v-checkbox",{staticClass:"m-0 p-0",attrs:{color:"#F2CD5E",label:"My Lunch"},on:{click:t.checkBox},model:{value:t.lunch,callback:function(e){t.lunch=e},expression:"lunch"}},[t._v("My Lunch ")])],1),a("v-list-item",[a("v-checkbox",{staticClass:"m-0 p-0",attrs:{color:"info",label:"My Leave"},on:{click:t.checkBox},model:{value:t.leave,callback:function(e){t.leave=e},expression:"leave"}})],1)],1)],1)],1),a("v-row",[a("div",{staticClass:"m-3"},[a("strong",[t._v("Descriptions")])]),a("div",{staticClass:"text-center rounded text-light color-bg m-2 w-100"},[a("small",[t._v("Lunar Day")])]),a("div",{staticClass:"text-center rounded text-dark color-bg-2 m-2 w-100"},[a("small",[t._v("Current Day")])])])],1),a("v-col",{attrs:{cols:"10"}},[a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}})],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.dialogDetail,callback:function(e){t.dialogDetail=e},expression:"dialogDetail"}},[null!=t.selectedEvent.has_veggie?a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.selectedEvent.title)+" ")]),t._l(t.selectedEvent.detail,(function(e,s){return a("v-card-text",{key:s},[t._v(" "+t._s(s+1)+" - "+t._s(e.profile.name)+" ")])}))],2):a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.selectedEvent.title)+" ")]),t._l(t.selectedEvent.detail,(function(e,s){return a("v-card-text",{key:s},[t._v(" "+t._s(s+1)+" - "+t._s(e.name)+" - "+t._s(e.typeOff)+" - "+t._s(e.timeType)+" ")])}))],2)],1)],1)],1)},tt=[],et=(a("99af"),a("4de4"),a("7db0"),a("d81d"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("b85c")),at=a("2909"),st=(a("96cf"),a("1da1")),nt=(a("b55b"),{getCalendar:rt});function rt(){return f.a.get("workday/calendar/admin").then((function(t){return it(t.data)}))}function it(t){return t.map((function(t){return{id:t.id,start:t.date,end:t.date,title:t.request_off.type_off.title,typeOff:t.request_off.type_off.title,name:t.name,email:t.email,class:0===t.request_off.type_off.type?"Company":"Insurance",reason:t.request_off.reason,lunch:t.lunch?"Yes":"No",type:t.request_off.type_off.type,timeType:t.type,is_ot_days:t.request_off.type_off.is_ot_days,is_paid_salary:t.request_off.type_off.is_paid_salary,add_sub_day_off:t.request_off.type_off.add_sub_day_off,color:"",detail:[]}}))}var ot=a("d4ec"),ct=a("bee2"),lt=a("262e"),ut=a("2caf"),dt=a("26b3"),mt=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/create"),t);return e}},{key:"adminCreate",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/admin-create"),{list_data:t});return e}},{key:"createMany",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/create-many"),t);return e}},{key:"get",value:function(){var t=this.request({auth:!0}).get("/".concat(this.entity));return t}},{key:"getAll",value:function(){var t=this.request({auth:!0}).get("/".concat(this.entity,"/all"));return t}},{key:"getPagi",value:function(t){var e=this.request({auth:!0}).get("/".concat(this.entity,"/get-paginate?date=").concat(t));return e}},{key:"update",value:function(t){var e=t.data,a=t.id,s=this.request({auth:!0}).put("/".concat(this.entity,"/action/").concat(a),e);return s}},{key:"updateByAdmin",value:function(t){var e=t.data,a=t.id,s=this.request({auth:!0}).put("/".concat(this.entity,"/admin-update/").concat(a),e);return s}},{key:"delete",value:function(t){var e=this.request({auth:!0})["delete"]("/".concat(this.entity,"/action/").concat(t));return e}},{key:"deleteMany",value:function(t){var e=this.request({auth:!0}).put("/".concat(this.entity,"/delete-many"),t);return e}},{key:"setVeggieMonth",value:function(t){var e=this.request({auth:!0}).put("/".concat(this.entity,"/set-veggie"),t);return e}},{key:"cancelSetVeggieMonth",value:function(t){var e=this.request({auth:!0}).put("/".concat(this.entity,"/cancel-veggie"),t);return e}},{key:"statistic",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/statistic"),t);return e}},{key:"entity",get:function(){return"user-lunch"}}]),a}(dt["a"]),ft=new mt,vt=a("f5ff"),ht=a("3cdd"),pt=a("3e32"),gt=a("a20c"),_t=a("c1df"),bt=a.n(_t),wt={name:"datepicker",components:{FullCalendar:vt["a"]},middleware:"authen",data:function(){return{selectedEvent:{},title:"",content:"",dialogDetail:!1,lunch:!0,leave:!0,items:[{text:"Homepage",to:{name:"Index"}},{text:"Company Calendar",active:!0}],showDialog:!1,calendarOptions:{themeSystem:"bootstrap",plugins:[ht["b"],pt["a"],gt["a"]],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},contentHeight:800,events:[],eventClick:this.handleEventClick},leaveEvents:[],lunchEvents:[],lunarDay:[]}},head:function(){return{title:"Company Calendar"}},mounted:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getLeave();case 2:return e.next=4,t.getUserLunches();case 4:case"end":return e.stop()}}),e)})))()},methods:{lunarDays:function(){for(var t=this.$refs.fullCalendar.getApi(),e=t.getDate(),a=e.getFullYear(),s=e.getMonth(),n=0;n<32;n++){var r=bt()().year(a).month(s).date(n).lunar().format("DD");if(15==r||1==r){var i="".concat(a,"-").concat(s+1,"-").concat(n),o="".concat(a,"-").concat(s+1,"-").concat(n+1);s<9?(i="".concat(a,"-0").concat(s+1,"-").concat(n),o="".concat(a,"-0").concat(s+1,"-").concat(n+1),31==n&&(o="".concat(a,"-0").concat(s+2,"-01")),n<10&&(i="".concat(a,"-0").concat(s+1,"-0").concat(n),o="".concat(a,"-0").concat(s+1,"-0").concat(n+1))):(31==n&&(o="".concat(a,"-").concat(s+2,"-01")),n<10&&(i="".concat(a,"-").concat(s+1,"-0").concat(n),o="".concat(a,"-").concat(s+1,"-0").concat(n+1)));var c={start:i,end:o,display:"background",backgroundColor:"#45BCF3"};this.lunarDay.push(c)}}},getLeave:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nt.getCalendar().then((function(e){for(var a=[],s=[],n=[],r=0;r<e.length;r++)1===e[r].is_ot_days?(e[r].color="#F9844A",a.push(e[r])):!0===e[r].is_paid_salary&&0===e[r].type&&0===e[r].add_sub_day_off?(e[r].color="#43AA8B",s.push(e[r])):(e[r].title="Days off",e[r].color="#277DA1",n.push(e[r]));t.leaveEvents=t.changeFormatLeave(n).concat(t.changeFormatLeave(a),t.changeFormatLeave(s))}));case 2:case"end":return e.stop()}}),e)})))()},checkBox:function(){!1===this.leave&&!0===this.lunch?this.calendarOptions.events=this.lunchEvents.concat(this.lunarDay):!1===this.leave&&!1===this.lunch?this.calendarOptions.events=this.lunarDay:!0===this.leave&&!1===this.lunch?this.calendarOptions.events=this.leaveEvents.concat(this.lunarDay):this.calendarOptions.events=this.leaveEvents.concat(this.lunchEvents,this.lunarDay)},handleEventClick:function(t){this.selectedEvent=this.calendarOptions.events.find((function(e){return e.id===t.event.id})),this.dialogDetail=!0},changeFormatLunch:function(t){var e=t.map((function(t){return[t.date,t]})),a=new Map(e),s=Object(at["a"])(a.values()),n=s.map((function(e){var a,s=[],n=Object(et["a"])(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;e.date===r.date&&s.push(r)}}catch(i){n.e(i)}finally{n.f()}return{title:e.has_veggie?"Veggie Lunch : ".concat(s.length):"Lunch: ".concat(s.length),id:e.id,detail:s,start:e.date,end:e.date,has_veggie:e.has_veggie,color:e.has_veggie?"#90BE6D":"#F9C74F"}}));return n},changeFormatLeave:function(t){var e=t.map((function(t){return[t.start,t]})),a=new Map(e),s=Object(at["a"])(a.values()),n=s.map((function(e){var a,s=[],n=Object(et["a"])(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;e.start===r.start&&s.push(r)}}catch(i){n.e(i)}finally{n.f()}return{title:e.title+": "+s.length,id:e.id,detail:s,start:e.start,end:e.end,color:e.color}}));return n},getUserLunches:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ft.getAll();case 2:a=e.sent,s=a.data.filter((function(t){return!1===t.has_veggie})),n=a.data.filter((function(t){return!0===t.has_veggie})),r=t.changeFormatLunch(s),i=t.changeFormatLunch(n),t.lunchEvents=r.concat(i),t.calendarOptions.events=t.leaveEvents.concat(t.lunchEvents,t.lunarDay);case 9:case"end":return e.stop()}}),e)})))()},hideModal:function(){this.$refs.mymodal.hide()}}},yt=wt,xt=(a("9ebc"),Object(p["a"])(yt,X,tt,!1,null,null,null)),kt=xt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content row"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),t.sent?a("div",{staticClass:"my-3 ml-5 col-12"},[t._m(0)]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.errors,expression:"errors"}],staticClass:"my-3 ml-5 col-12"},[a("ul",[a("li",{staticClass:"text-danger ml-5"},[t._v(t._s(t.errors))])])]),a("div",{staticClass:"table-responsive mx-auto p-auto col-md-8"},[a("h2",{staticClass:"card-header text-white bg-info text-left py-4"},[t._v(" Change password ")]),a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"id_change_password",method:"PUT"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group row"},[t._m(1),a("div",{staticClass:"col-md-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],ref:"file",staticClass:"custom-password-input",attrs:{id:"id_input_password",type:"password",name:"current_password"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(2),a("div",{staticClass:"col-md-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],ref:"file",staticClass:"custom-password-input",attrs:{id:"id_input_new_password",type:"password",name:"current_password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(3),a("div",{staticClass:"col-md-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.repeatedNewPassword,expression:"repeatedNewPassword"}],ref:"file",staticClass:"custom-password-input",attrs:{id:"id_input_confirm_password",type:"password",name:"current_password"},domProps:{value:t.repeatedNewPassword},on:{input:function(e){e.target.composing||(t.repeatedNewPassword=e.target.value)}}})])]),a("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v(" Save ")])])])])},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",{staticClass:"text-info ml-5"},[t._v(" Your password is changed successfully")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_password"}},[t._v("Current Password"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_new_password"}},[t._v("New Password"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_confirm_password"}},[t._v("Confirm Password"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])}],jt=a("589a"),Rt=jt["a"],Ot=(a("8b79"),Object(p["a"])(Rt,Ct,Dt,!1,null,"5844970b",null)),It=Ot.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("div",{staticClass:"table-responsive p-3 col-md-7"},[a("h2",{staticClass:"card-header text-white bg-info text-left py-4"},[t._v(" Create New Team ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error.length>0,expression:"error.length > 0"}],staticClass:"text-danger pb-2 pl-4 pt-2 text-center"},[a("span",[t._v(t._s(t.error))])]),a("form",{staticClass:"bg-white p-4 text-info pl-5"},[a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.team_name.$error}},[t._m(0),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.team_name,expression:"formData.team_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Team Name"},domProps:{value:t.formData.team_name},on:{input:function(e){e.target.composing||t.$set(t.formData,"team_name",e.target.value)}}}),t.$v.formData.team_name.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row d-flex align-items-center",class:{"form-group--error":t.formData.team_email.$error}},[a("label",{staticClass:"col-sm-2 col-form-label"},[t._v(" Team Email ")]),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.team_email,expression:"formData.team_email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.formData.team_email},on:{input:function(e){e.target.composing||t.$set(t.formData,"team_email",e.target.value)}}}),t.$v.formData.team_email.email?t._e():a("div",{staticClass:"error"},[t._v(" Not a valid email ")])])]),a("div",{staticClass:"form-group row d-flex align-items-center"},[t._m(1),a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"custom-file"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.team_leader,expression:"formData.team_leader"}],staticClass:"btn mr-2 border-dark",attrs:{list:"names"},domProps:{value:t.formData.team_leader},on:{keyup:t.filterUsers,focus:t.filterUsers,input:function(e){e.target.composing||t.$set(t.formData,"team_leader",e.target.value)}}}),a("datalist",{attrs:{id:"names"}},t._l(t.listUsers,(function(e){return a("option",{attrs:{"value-data":e.name}},[t._v(" "+t._s(String(e.name).concat(" ("+String(e.email)+")"))+" ")])})),0)])])]),a("br"),a("div",{staticClass:"form-group row "},[a("div",{staticClass:"col-sm-11 d-flex"},[a("b-button",{staticClass:"btn btn-info ml-auto",on:{click:function(e){return t.submit()}}},[t._v("Create")])],1)])])])])},$t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label mt-3"},[t._v("Team Name"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label"},[t._v("Team Leader"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])}],St=(a("4160"),a("c975"),a("fb6a"),a("4e82"),a("ac1f"),a("1276"),a("159b"),a("b5ae")),qt={name:"CreateTeam",middleware:"authen",data:function(){return{error:"",team_email:"",team_name:"",team_leaders:"",team_leader_email:"",items:[{text:"Homepage",to:{name:"Index"}},{text:"Team",to:{name:"team"}},{text:"Create",active:!0}],formData:{team_name:"",team_email:"",team_leader:""},managerEmail:"",managerId:"",listUsers:[]}},validations:{formData:{team_name:{required:St["required"]},team_email:{email:St["email"]}}},head:function(){return{title:"Create new teams"}},methods:{filterUsers:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",f.a.get("/team/send_leader?name=".concat(t.target.value)).then((function(t){e.listUsers=[],t.data.forEach((function(t){e.listUsers.push({email:t.email,name:t.name,id:t.id})}))})));case 1:case"end":return a.stop()}}),a)})))()},sortFunction:function(t){return t.slice().sort((function(t,e){return t.name.split(" ")[t.name.split(" ").length-1].localeCompare(e.name.split(" ")[e.name.split(" ").length-1])}))},submit:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.formData.team_leader.indexOf("("),t.formData.team_leader=t.formData.team_leader.substring(a+1,t.formData.team_leader.length-1),e.abrupt("return",f()({method:"POST",url:"team/",data:t.formData}).then((function(e){t.$router.push("/team")}))["catch"]((function(){t.error="Input is not valid"})));case 3:case"end":return e.stop()}}),e)})))()}}},Nt=qt,Mt=(a("1458"),Object(p["a"])(Nt,Et,$t,!1,null,"d35a7b26",null)),Pt=Mt.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("div",{staticClass:"px-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"md-form col-6 mb-2"},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},placeholder:"Select date",name:"date",required:""},on:{input:t.send,click:t.checkWeekend},model:{value:t.startday,callback:function(e){t.startday=e},expression:"startday"}})],1),a("div",{staticClass:"col-6 inner-addon right-addon"},[a("i",{staticClass:"glyphicon mr-3 text-muted"},[a("font-awesome-icon",{attrs:{icon:["fas","search"]}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),a("div",[a("todaylunch",{attrs:{data:t.array}})],1),a("table",{staticClass:"mx-auto table table-bordered table-rounded table-fixed ml-2 col-12 text-center"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"},on:{click:function(e){return t.nameSort()}}},[a("button",{staticClass:"btn center dropdown-toggle text-white text-uppercase font-weight-bold"},[t._v(" User Name ")])]),a("th",{attrs:{scope:"col"},on:{click:function(e){return t.statusSort()}}},[a("button",{staticClass:"btn dropdown-toggle text-white text-uppercase font-weight-bold"},[t._v(" Status ")])]),t._m(0)])]),a("tbody",t._l(t.sortFunction(t.filteredList),(function(e){return a("tr",{key:e.index},[a("td",{staticClass:"text-muted text-center"},[t._v(" "+t._s(e.name)+" ")]),a("td",{staticClass:"text-muted text-center"},[t._v(" "+t._s(e.status)+" ")]),a("td",[a("div",{staticClass:"d-flex justify-content-center"},["Lunch"===e.status?a("b-button",{key:"on",staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.del(e.lunch_id)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","minus"]}})],1):a("b-button",{key:"off",staticClass:"btn btn-success btn-sm",on:{click:function(a){return t.add(e.id)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","plus"]}})],1),a("b-button",{staticClass:"btn btn-info btn-sm ml-2",on:{click:function(a){return t.Edit_day(e.status,e.id,e.lunch_id)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","calendar-plus"]}})],1),a("b-button",{staticClass:"btn btn-info btn-sm ml-2",on:{click:function(a){return a.preventDefault(),t.mass_edit(e.id)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","edit"]}})],1)],1)])])})),0)]),a("b-modal",{ref:"editlunchmodal",attrs:{"hide-footer":"","hide-header":""}},[a("div",{staticClass:"d-flex justify-content-between row mx-auto my-auto"},[a("b-button",{staticClass:"btn btn-success col-md-5 mt-1",on:{click:function(e){return e.preventDefault(),t.Edit_Week()}}},[t._v(" Add whole week ")]),a("b-button",{staticClass:"btn btn-success col-md-5 mt-1",on:{click:function(e){return e.preventDefault(),t.Edit_Month()}}},[t._v(" Add whole month ")]),a("b-button",{staticClass:"btn btn-danger mt-2 col-md-5 mt-1",on:{click:function(e){return e.preventDefault(),t.Remove_Week()}}},[t._v(" Remove whole week ")]),a("b-button",{staticClass:"btn btn-danger mt-2 col-md-5 mt-1",on:{click:function(e){return e.preventDefault(),t.Remove_Month()}}},[t._v(" Remove whole month ")])],1)]),a("b-modal",{ref:"lunchdaymodal",attrs:{"hide-footer":"","hide-header":""}},[a("div",{staticClass:"main-content text-center"},[a("h3",{staticClass:"my-2 text-info font-weight-bold"},[t._v(" Lunch ")]),a("label",{staticClass:"switch my-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedActive,expression:"checkedActive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checkedActive)?t._i(t.checkedActive,null)>-1:t.checkedActive},on:{change:[function(e){var a=t.checkedActive,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.checkedActive=a.concat([r])):i>-1&&(t.checkedActive=a.slice(0,i).concat(a.slice(i+1)))}else t.checkedActive=n},function(e){return t.change_status(t.checkedActive)}]}}),a("span",{staticClass:"slider round"})])]),a("div",{staticClass:"d-grid form-check header main-content mt-2 ml-4"},[t._l(t.days,(function(e){return a("span",{directives:[{name:"show",rawName:"v-show",value:t.checkedActive,expression:"checkedActive"}],key:e.id,staticClass:"mt-3"},[a("label",{staticClass:"container col-2 row"},[t._v(" "+t._s(e.name)+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"form-check-input",attrs:{id:e.id,type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selected)?t._i(t.selected,e.id)>-1:t.selected},on:{change:function(a){var s=t.selected,n=a.target,r=!!n.checked;if(Array.isArray(s)){var i=e.id,o=t._i(s,i);n.checked?o<0&&(t.selected=s.concat([i])):o>-1&&(t.selected=s.slice(0,o).concat(s.slice(o+1)))}else t.selected=r}}}),a("span",{staticClass:"checkmark"})])])})),a("span",{staticClass:"text-danger text-center",attrs:{else:""}},[t._v(t._s(t.error))])],2),a("hr"),a("div",{staticClass:"d-grid form-check header main-content ml-4"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.checkedActive,expression:"checkedActive"}],staticClass:"mt-3"},[a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between"},[a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),t._v(" Veggie "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vegetarian,expression:"vegetarian"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.vegetarian)?t._i(t.vegetarian,null)>-1:t.vegetarian},on:{change:function(e){var a=t.vegetarian,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.vegetarian=a.concat([r])):i>-1&&(t.vegetarian=a.slice(0,i).concat(a.slice(i+1)))}else t.vegetarian=n}}}),a("span",{staticClass:"checkmark",attrs:{id:"veggiecheckmark"}})],1)]),a("span",{staticClass:"text-danger text-center",attrs:{else:""}},[t._v(t._s(t.error))])]),a("div",{staticClass:"footer text-center"},[a("button",{staticClass:"btn btn-info text-center mt-3",on:{click:function(e){return t.sendDate()}}},[t._v(" Save ")])])])],1)])},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn text-center text-white text-uppercase font-weight-bold"},[t._v(" Action ")])])}],Tt=(a("caad"),a("accc"),a("0d03"),a("2532"),a("841c"),a("4795"),a("b1f8")),Ft=a("c38f"),Ut=a.n(Ft),Bt=(a("0952"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"p-2"},[a("div",{staticClass:"d-flex justify-content-between"},[a("p",{staticClass:"text-success m-2"},[t._v(" The number of person having lunch today: "),a("strong",[t._v(t._s(t.eat))])]),a("p",{staticClass:"text-danger m-2"},[t._v(" The number of person not having lunch today: "),a("strong",[t._v(t._s(t.data.length-t.eat))])]),a("router-link",{staticClass:"btn btn-info px-4 py-2 font-weight-bold",attrs:{to:"/lunchStatistic"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","pizza-slice"]}}),t._v(" Lunch Calendar ")],1)],1)])])}),zt=[],Ht={computed:{eat:function(){for(var t=0,e=0;e<this.data.length;e++)"Lunch"===this.data[e].status&&t++;return t}},data:function(){return{}},props:{data:Array}},Yt=Ht,Vt=Object(p["a"])(Yt,Bt,zt,!1,null,null,null),Wt=Vt.exports,Gt={name:"EditLunch",middleware:"authen",components:{flatPickr:Ut.a,todaylunch:Wt},data:function(){return{name_sort:!1,name_count:0,status_sort:!1,status_count:0,days:[{id:"0",name:"Monday"},{id:"1",name:"Tuesday"},{id:"2",name:"Wednesday"},{id:"3",name:"Thursday"},{id:"4",name:"Friday"}],array:[],startday:this.checkWeekend().toISOString().slice(0,10),items:[{text:"Homepage",to:{name:"Index"}},{text:"Lunch Management",active:!0}],status:"",info_id:"",selected:[],get_profile_lunch:{id:"",lunch:!1,lunch_weekly:[]},checkedActive:!0,error:"",mass_edit_modal_id:"",search:"",vegetarian:!1}},computed:{filteredList:function(){var t=this;if(""===this.search){var e=this.array;return e}var a=this.array.filter((function(e){return t.isEmployee(e)}));return a}},created:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUserLunches();case 2:case"end":return e.stop()}}),e)})))()},asyncData:function(t){var e=t.$axios,a=new Date;return 6===a.getDay()&&a.setDate(a.getDate()+1),0===a.getDay()&&a.setDate(a.getDate()+1),e.get("/lunch/get_lunch_status/",{params:{date:a.toISOString().slice(0,10)}}).then((function(t){return{array:t.data}}))},head:function(){return{title:"Lunch Management"}},methods:{getdata:function(){var t=this;return this.$axios.get("/lunch/get_lunch_status/",{params:{date:this.startday}}).then((function(e){t.array=e.data}))["catch"]((function(t){}))},getUserLunches:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ft.getPagi(t.startday);case 2:a=e.sent,t.array=a.data.results;case 4:case"end":return e.stop()}}),e)})))()},del:function(t){var e=this;return this.$axios["delete"]("/lunch/".concat(t,"/")).then((function(t){e.getdata()}))["catch"]((function(t){var a="Lunch time order is over",s="lunch",n="danger";e.makeToast(s,a,n)}))},add:function(t){var e=this,a=new FormData;return a.append("profile",t),a.append("date",this.startday),this.$axios.post("/lunch/",a).then((function(t){e.getdata()}))["catch"]((function(t){var a="Lunch time order is over",s="lunch",n="danger";e.makeToast(s,a,n)}))},send:function(){var t=this;return this.$axios.get("/lunch/get_lunch_status/",{params:{date:this.startday}}).then((function(e){t.array=e.data}))},Edit_day:function(t,e,a){var s=this;return this.info_id=e,this.status=t,this.$refs.editlunchmodal.hide(),this.$refs.lunchdaymodal.show(),this.$axios.get("/profile/".concat(this.info_id,"/get_profile_lunch/")).then((function(t){s.vegetarian=t.data.veggie,s.checkedActive=t.data.lunch,s.selected=[],s.get_profile_lunch.lunch_weekly=t.data.lunch_weekly,null!==s.get_profile_lunch.lunch_weekly?s.get_profile_lunch.lunch_weekly=s.get_profile_lunch.lunch_weekly.split(","):(s.get_profile_lunch.lunch_weekly=[s.get_profile_lunch.lunch_weekly],null===s.get_profile_lunch.lunch_weekly[0]&&(s.checkedActive=!1)),s.selected=s.get_profile_lunch.lunch_weekly}))},sendDate:function(){var t=this;if(this.checkError()){var e=new FormData;return e.append("check",this.checkedActive),e.append("lunch_weekly",this.selected),e.append("veggie",this.vegetarian),this.$axios.put("/profile/".concat(this.info_id,"/update_lunch/"),e).then((function(e){t.makeToast("Lunch","Success","success"),t.getdata(),t.$refs.lunchdaymodal.hide()}))}},change_status:function(t){if(!1===t)this.selected=null,this.disable_status=!0;else{this.error="",this.selected=[];for(var e=0;e<this.days.length;e++)this.selected.push(this.days[e].id)}},checkError:function(){return this.error="",!0!==this.checkedActive||0!==this.selected.length||(this.error="No lunch has been found",!1)},sortFunction:function(t){return this.status_sort?this.status_count%2===0?t.slice().sort((function(t,e){return t.status.localeCompare(e.status)})):t.slice().sort((function(t,e){return e.status.localeCompare(t.status)})):this.name_sort?this.name_count%2===0?t.slice().sort((function(t,e){return t.name.split(" ")[t.name.split(" ").length-1].localeCompare(e.name.split(" ")[e.name.split(" ").length-1])})):t.slice().sort((function(t,e){return e.name.split(" ")[e.name.split(" ").length-1].localeCompare(t.name.split(" ")[t.name.split(" ").length-1])})):t.slice().sort((function(t,e){return t.name.split(" ")[t.name.split(" ").length-1].localeCompare(e.name.split(" ")[e.name.split(" ").length-1])}))},nameSort:function(){return this.name_count++,this.status_sort=!1,this.name_sort=!0},statusSort:function(){return this.status_count++,this.name_count=!1,this.status_sort=!0},checkWeekend:function(){var t=new Date;return 6===t.getDay()&&t.setDate(t.getDate()+1),0===t.getDay()&&t.setDate(t.getDate()+1),t},mass_edit:function(t){this.mass_edit_modal_id=t,this.$refs.editlunchmodal.show()},Edit_Week:function(){var t=this,e="Add week successfully",a="Lunch",s="success",n=new FormData;return n.append("date",this.startday),this.$axios.post("/lunch/".concat(this.mass_edit_modal_id,"/create_user_lunch_week/"),n).then((function(n){t.getdata(),t.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500),t.makeToast(a,e,s),t.$refs.editlunchmodal.hide()}))["catch"]((function(n){e="Lunch time order is over",s="danger",t.makeToast(a,e,s)}))},Edit_Month:function(){var t=this,e="Add month successfully",a="Lunch",s="success",n=new FormData;return n.append("date",this.startday),this.$axios.post("/lunch/".concat(this.mass_edit_modal_id,"/create_user_lunch_month/"),n).then((function(n){t.getdata(),t.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500),t.makeToast(a,e,s),t.$refs.editlunchmodal.hide()}))["catch"]((function(n){e="Lunch time order is over",Object(Tt["a"])("variant"),s="danger",t.makeToast(a,e,s)}))},Remove_Week:function(){var t=this;return this.$axios["delete"]("/lunch/".concat(this.mass_edit_modal_id,"/remove_user_lunch_week/"),{data:{date:this.startday}}).then((function(e){t.getdata(),t.$nextTick((function(){t.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500);var e="Remove week successfully",a="Leave",s="success";t.makeToast(a,e,s),t.$refs.editlunchmodal.hide()}))}))},Remove_Month:function(){var t=this;return this.$axios["delete"]("/lunch/".concat(this.mass_edit_modal_id,"/remove_user_lunch_month/"),{data:{date:this.startday}}).then((function(e){t.getdata();var a="Remove month successfully",s="Lunch",n="success";t.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500),t.makeToast(s,a,n),t.$refs.editlunchmodal.hide()}))},makeToast:function(t,e,a){this.$bvToast.toast(e,{title:t,variant:a,autoHideDelay:5e3})},isEmployee:function(t){return t.name.toLowerCase().includes(this.search.toLowerCase())}}},Jt=Gt,Zt=(a("a527"),Object(p["a"])(Jt,Lt,At,!1,null,"2905a94c",null)),Qt=Zt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{staticClass:"main-content"},[a("div",{staticClass:"main-profile row p-3",attrs:{id:"id_profile"}},[a("div",{staticClass:"col-md-6 mx-auto"},[a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("General profile")])]),a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"profile"}},[a("div",{class:t.msg[0]},[t._v(" "+t._s(t.msg[1])+" ")]),a("div",{staticClass:"form-group row my-3"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"}),a("div",{staticClass:"col-sm-6 ml-2"},[a("img",{staticClass:"p-edit_profile__photo",attrs:{alt:"","aria-hidden":"true",src:t.uploadFileUrl,height:"100px"}})])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"}),a("div",{staticClass:"col-sm-6 ml-2"},[a("button",{staticClass:"btn btn-info",attrs:{variant:"outline-danger"},on:{click:function(e){return e.preventDefault(),t.onPickFile()}}},[t._v(" Upload file ")]),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Email")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("v-text-field",{attrs:{"error-messages":t.emailErrors,outlined:"",dense:"",disabled:"true"!==t.admin,required:""},on:{input:function(e){return t.$v.formData.email.$touch()},blur:function(e){return t.$v.formData.email.$touch()}},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Name")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("v-text-field",{attrs:{"error-messages":t.nameErrors,outlined:"",dense:"",required:"",disabled:"true"!==t.admin},on:{input:function(e){return t.$v.formData.name.$touch()},blur:function(e){return t.$v.formData.name.$touch()}},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Personal Email")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("v-text-field",{staticClass:"border-secondary",attrs:{outlined:"",dense:""},model:{value:t.formData.personal_email,callback:function(e){t.$set(t.formData,"personal_email",e)},expression:"formData.personal_email"}})],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Phone")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("v-text-field",{staticClass:"border-secondary",attrs:{outlined:"",dense:""},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Slack ID")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("v-text-field",{staticClass:"border-secondary",attrs:{outlined:"",dense:""},model:{value:t.formData.slack_id,callback:function(e){t.$set(t.formData,"slack_id",e)},expression:"formData.slack_id"}})],1)]),a("div",{staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Gender")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.gender,expression:"formData.gender"}],staticClass:"form-control border-secondary",attrs:{value:"0"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"gender",e.target.multiple?a:a[0])}}},t._l(this.GENDERS,(function(e){return a("option",{domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),0)])]),a("div",{staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Birth day")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("div",{staticClass:"md-form"},[a("flat-pickr",{staticClass:"form-control bg-white border-secondary",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},placeholder:"Select date",name:"date",required:""},model:{value:t.formData.birth_day,callback:function(e){t.$set(t.formData,"birth_day",e)},expression:"formData.birth_day"}})],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Join date")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("div",{staticClass:"md-form"},[a("flat-pickr",{staticClass:"form-control bg-white border-secondary",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},placeholder:"Select date",name:"date",required:""},model:{value:t.formData.join_date,callback:function(e){t.$set(t.formData,"join_date",e)},expression:"formData.join_date"}})],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Title")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],staticClass:"form-control border-secondary",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"title",e.target.multiple?a:a[0])}}},t._l(this.roleList,(function(e){return a("option",{domProps:{value:e.title}},[t._v(" "+t._s(e.title)+" ")])})),0)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"}),a("div",{staticClass:"col-sm-8 ml-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.admin,expression:"formData.admin"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.formData.admin)?t._i(t.formData.admin,null)>-1:t.formData.admin},on:{change:function(e){var a=t.formData.admin,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.formData,"admin",a.concat([r])):i>-1&&t.$set(t.formData,"admin",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.formData,"admin",n)}}}),a("span",{staticClass:"mt-1 ml-3 text-dark"},[t._v(" Set Admin")])])]),a("div",{staticClass:"text-center"},[a("v-btn",{attrs:{dark:"",color:"#43c9d0",depressed:""},on:{click:function(e){return t.submit()}}},[t._v(" Save ")])],1)])])]),a("b-modal",{ref:"my-modal",attrs:{"hide-footer":"",title:"Create profile picture!"}},[a("div",[a("vue-croppie",{ref:"croppieRef",attrs:{"enable-orientation":!0,"enable-exif":!1,"mouse-wheel-zoom":!0,"show-zoomer":!0,boundary:{width:300,height:300},"enable-resize":!0,viewport:{width:150,height:150,type:"circle"}},on:{update:t.update,result:t.result}},[t._v(" > ")]),a("div",{staticClass:"d-flex justify-content-between mb-3 mt-3"},[a("b-button",{attrs:{variant:"outline-success"},on:{click:function(e){return t.rotate(-90)}}},[t._v(" Rotate Left ")]),a("b-button",{attrs:{variant:"outline-success"},on:{click:function(e){return t.rotate(90)}}},[t._v(" Rotate Right ")])],1)],1),a("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:function(e){return t.crop()}}},[t._v(" Save ")])],1)],1)])},Xt=[],te=(a("c0b6"),a("2b3d"),a("dee1"),function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"getAllProjectManager",value:function(){var t=this.request({auth:!0}).get("".concat(this.entity,"/get_project_managers"));return t}},{key:"getAllRoles",value:function(){var t=this.request({auth:!0}).get("".concat(this.entity,"/title"));return t}},{key:"entity",get:function(){return"user"}}]),a}(dt["a"])),ee=new te,ae=a("7d5f"),se=a.n(ae),ne=a("efa4"),re={name:"ListTable",middleware:"authen",components:{flatPickr:Ut.a},mixins:[n["validationMixin"]],validations:{formData:{name:{required:St["required"]},email:{required:St["required"],email:St["email"]}}},props:{content:!0},data:function(){return{name:"",email:"",select:null,checkbox:!1,photos:[],userid:"",uploadfile:"",uploadFileUrl:"",formData:{email:"",name:"",slack_id:"",join_date:"",personal_email:"",phone:"",birth_day:"",title:"",gender:0,admin:0,user:""},user:"",files:"",file_name:"",profile:"",id:"",profileid:"",msg:[],roleList:[],current_user:localStorage.getItem("user_id"),admin:localStorage.getItem("is_admin")}},computed:{nameErrors:function(){var t=[];return this.$v.formData.name.$dirty?(!this.$v.formData.name.required&&t.push("Name is required."),t):t},emailErrors:function(){var t=[];return this.$v.formData.email.$dirty?(!this.$v.formData.email.email&&t.push("Must be valid e-mail"),!this.$v.formData.email.required&&t.push("E-mail is required"),t):t},GENDERS:function(){return ne["a"]}},created:function(){this.asyncData(this.$route.params)},methods:{clear:function(){this.$v.$reset(),this.name="",this.email="",this.select=null,this.checkbox=!1},asyncData:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ee.getAllRoles();case 2:return e.roleList=a.sent.data,a.abrupt("return",f.a.get("/user/".concat(t.id)).then((function(t){e.user=t.data,e.profile=t.data.profile,e.photos=t.data.profile.photo,e.uploadFileUrl=t.data.profile.image?t.data.profile.image:se.a,e.formData={email:e.user.email,name:e.profile.name,personal_email:e.profile.personal_email,phone:e.profile.phone,join_date:e.profile.join_date,gender:e.profile.gender,slack_id:e.profile.slack_id,birth_day:e.profile.birth_day?e.profile.birth_day:(new Date).toLocaleDateString(),title:e.user.title,user:e.user.id,admin:e.user.staff},e.currentUserId=t.data.profile.user}))["catch"]((function(t){error({statusCode:404,message:"Post not found"})})));case 4:case"end":return a.stop()}}),a)})))()},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},onPickFile:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this;this.selectedFile=t.target.files[0];var a=new FileReader;a.readAsDataURL(this.selectedFile),a.addEventListener("load",(function(){e.$refs.croppieRef.bind({url:a.result})})),this.showModal()},result:function(t){return t},update:function(t){},crop:function(){var t=this,e={type:"blob",format:"png",size:{width:100,height:100},circle:!0};this.$refs.croppieRef.result(e).then((function(e){var a=new File([e],"myfile.jpg");t.uploadfile=a,t.uploadFileUrl=URL.createObjectURL(a),t.hideModal()}))},rotate:function(t){this.$refs.croppieRef.rotate(t)},handleFileUpload:function(t){this.files=t.target.files[0],void 0!==t.target.files[0]?this.file_name=t.target.files[0].name:this.file_name="";var e=this.$refs.fName;e.textContent=this.file_name},submit:function(){var t=this;if(this.$v.$touch(),!this.$v.$invalid){var e=new FormData;for(var a in e.append("image",this.uploadfile),this.formData)("gender"===a||this.formData[a])&&e.append(a,this.formData[a]);f.a.put("user/profile/".concat(this.profile.id),e).then((function(e){var a=e.data.image;localStorage.setItem("imageurl",a),t.$toast.success("Update profile successfully")}))["catch"]((function(e){t.$toast.error("Input data is invalid")}))}}},head:function(){return{title:"Edit Profile"}}},ie=re,oe=(a("d12d"),Object(p["a"])(ie,Kt,Xt,!1,null,"25e870cc",null)),ce=oe.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content mt-2"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("div",{staticClass:"col-md-6 inner-addon right-addon mt-2"},[a("i",{staticClass:"glyphicon mr-3 text-muted"},[a("font-awesome-icon",{attrs:{icon:["fas","search"]}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"main-profile row p-3",attrs:{id:"id_edit_team"}},[a("div",{staticClass:"mx-auto col-md-6"},[t._m(0),t._l(t.filteredList,(function(e){return a("div",{key:e.id,staticClass:"border d-flex justify-content-between px-1 pointer",on:{click:function(a){return t.add(e)}}},[t._v(" "+t._s(e.name+" - ( "+e.email+" )")+" "),a("font-awesome-icon",{staticClass:"text-success",attrs:{icon:["fas","plus"]}})],1)}))],2),a("div",{staticClass:"col-md-6 mx-auto"},[t._m(1),t._l(t.rows,(function(e){return a("div",{key:e.id,staticClass:"border text-muted px-1 font-weight-bold"},[t._v(" "+t._s(e.name+" - ( "+e.email+" )")+" ")])})),t._l(t.receives,(function(e){return a("div",{key:e.id,staticClass:"border d-flex justify-content-between px-1 pointer",on:{click:function(a){return t.remove(e)}}},[t._v(" "+t._s(e.name+" - ( "+e.email+" )")+" "),a("font-awesome-icon",{staticClass:"text-danger",attrs:{icon:["fas","minus"]}})],1)})),a("div",{staticClass:"text-center mt-3"},[a("button",{staticClass:"btn btn-info",attrs:{disabled:0===t.receives.length},on:{click:function(e){return t.send()}}},[t._v("Save")])])],2)])])},ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"card-header text-white bg-info text-center py-4"},[a("strong",{staticClass:"text-center"},[t._v("Employees")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"card-header text-white bg-info py-4 text-center"},[a("strong",[t._v("Team Members")])])}],de=(a("a15b"),a("a434"),function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t){var e=this.request({auth:!0}).post("".concat(this.entity),t);return e}},{key:"getAll",value:function(){var t=this.request({auth:!0}).get("".concat(this.entity));return t}},{key:"get",value:function(t){var e=this.request({auth:!0}).get("".concat(this.entity,"/").concat(t));return e}},{key:"update",value:function(t,e){return this.request({auth:!0}).put("".concat(this.entity,"/").concat(t),e)}},{key:"delete",value:function(t){return this.request({auth:!0})["delete"]("".concat(this.entity,"/").concat(t))}},{key:"addMember",value:function(t,e){var a=this.request({auth:!0}).put("".concat(this.entity,"/").concat(t,"/add_member"),e);return a}},{key:"removeMember",value:function(t,e){var a=this.request({auth:!0}).put("".concat(this.entity,"/").concat(t,"/remove_member"),e);return a}},{key:"getNewTeams",value:function(t){var e=this.request({auth:!0}).get("".concat(this.entity,"/").concat(t,"/get_new_teams"));return e}},{key:"moveTeam",value:function(t){var e=this.request({auth:!0}).put("".concat(this.entity,"/move_team"),t);return e}},{key:"setLeader",value:function(t,e){var a=this.request({auth:!0}).put("".concat(this.entity,"/").concat(t,"/set_leader"),e);return a}},{key:"setManager",value:function(t,e){var a=this.request({auth:!0}).put("".concat(this.entity,"/").concat(t,"/set_project_manager"),e);return a}},{key:"removeTeam",value:function(t){var e=this.request({auth:!0})["delete"]("".concat(this.entity,"/").concat(t));return e}},{key:"entity",get:function(){return"team"}}]),a}(dt["a"])),me=new de,fe={name:"id_edit_team",middleware:"authen",data:function(){return{rows:[],member_rows:[],receives:[],team_id:"",items:[],search:""}},head:function(){return{title:"Add Member"}},computed:{filteredList:function(){var t=this;if(""===this.search){var e=this.member_rows;return e}var a=this.member_rows.filter((function(e){return t.isEmployee(e)}));return a}},methods:{asyncData:function(){var t=this;me.get("".concat(this.$route.params.id)).then((function(e){t.rows=e.data.employee_list,t.member_rows=e.data.non_members,t.team_id=t.$route.params.id,t.items=[{text:"Homepage",to:{name:"Index"}},{text:"Team",to:{name:"Team"}},{text:"Team Info",to:"/team/".concat(t.$route.params.id)},{text:"Add member",active:!0}]}))},add:function(t){this.receives.push(t);var e=this.member_rows.indexOf(t);this.member_rows.splice(e,1)},remove:function(t){this.member_rows.push(t);var e=this.receives.indexOf(t);this.receives.splice(e,1)},send:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in a=new FormData,s=[],t.receives)s.push(t.receives[n].email);return a.append("emails",s.join(",")),e.next=6,me.addMember(t.$route.params.id,a);case 6:if(r=e.sent,r.status&&r.data&&r.data.Success){for(i in t.receives)t.rows.push(t.receives[i]);t.receives=[],t.$toast.success("Success")}else t.$toast.error("Error: "+r.data.detail);case 8:case"end":return e.stop()}}),e)})))()},isEmployee:function(t){return t.name.toLowerCase().includes(this.search.toLowerCase())}},mounted:function(){this.asyncData()}},ve=fe,he=(a("9667"),Object(p["a"])(ve,le,ue,!1,null,"65ff8b4e",null)),pe=he.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content mt-2"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("div",{staticClass:"col-md-6 mx-auto"},[t._m(0),a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"profile"}},[t.errors.length?a("div",{staticClass:"text-danger"},t._l(t.errors,(function(e){return a("div",{key:e},[t._v(" "+t._s(e)+" ")])})),0):t._e(),a("div",{staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"input_name"}},[t._v("Team Name")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.team_name,expression:"team_name"}],staticClass:"form-control",attrs:{id:"id_input_teamname",type:"text",placeholder:t.team_name,required:""},domProps:{value:t.team_name},on:{input:function(e){e.target.composing||(t.team_name=e.target.value)}}})])]),a("div",{staticClass:"form-group row my-3"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"input_name"}},[t._v("Team Email")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.team_email,expression:"team_email"}],staticClass:"form-control",attrs:{id:"id_input_teamname",type:"text",placeholder:t.team_email,required:""},domProps:{value:t.team_email},on:{input:function(e){e.target.composing||(t.team_email=e.target.value)}}})])])]),a("br"),a("button",{staticClass:"btn btn-info",on:{click:t.submit}},[t._v("Save")])])])},_e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("Team profile")])])}],be={name:"EditTeam",data:function(){return{team_id:"",items:[],errors:[]}},head:function(){return{title:"Edit Team"}},asyncData:function(t){t.req;var e=t.params,a=t.error,s=t.$axios,n=new FormData;return n.append("id",e.id),s.get("/team/".concat(e.id,"/"),n).then((function(t){return{team_name:t.data.team.team_name,team_email:t.data.team.team_email,team_id:e.id,items:[{text:"Homepage",to:{name:"Index"}},{text:"Team",to:{name:"team"}},{text:"Team Info",to:"/team/".concat(e.id)},{text:"Edit Team",active:!0}]}}))["catch"]((function(t){a({statusCode:404,message:"Post not found"})}))},methods:{submit:function(t){var e=this;if(this.errors=[],this.team_name?this.team_name.length<3&&this.errors.push("Team name required more than 3 characters"):this.errors.push("Team name is not null."),this.team_email?this.validEmail(this.team_email)||this.errors.push("Valid team email required."):this.errors.push("Team email is not null"),0===this.errors.length){var a=new FormData,s=this.team_id;a.append("team_name",this.team_name),a.append("team_email",this.team_email),this.$axios.put("/team/".concat(s,"/"),a).then((function(t){return e.$axios.get("/team/".concat(s,"/")).then((function(t){e.$router.push("/team")}))["catch"]((function(t){}))}))["catch"]((function(t){alert(t)}))}},validEmail:function(t){var e=/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}}},we=be,ye=(a("6d94"),Object(p["a"])(we,ge,_e,!1,null,null,null)),xe=ye.exports,ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[s("b-breadcrumb",{attrs:{items:t.items}})],1),s("div",{staticClass:"m-4"},["true"===t.admin?s("div",{staticClass:"table-responsive p-3",attrs:{id:"id_list_table"}},[s("div",{staticClass:"float-right"},[s("download-excel",{staticClass:"btn btn-info ml-3 px-2",attrs:{fetch:t.fetchDataForExportExcel,fields:t.json_fields,worksheet:"My Worksheet",title:"Click to export excel",name:"user.xls"}},[s("font-awesome-icon",{attrs:{icon:["fas","file-export"]}}),t._v(" Export file ")],1),s("router-link",{staticClass:"btn btn-info pr-3 ml-3 mr-4",attrs:{to:"/invite"}},[s("font-awesome-icon",{attrs:{icon:["fas","user-plus"]}}),s("span",{staticClass:"ml-3"},[t._v("Invite")])],1)],1)]):t._e(),s("div",{staticClass:"mr-4 ml-4"},[s("FilterBox",{ref:"filter",attrs:{page_size:this.page_size},on:{getData:t.getData,loadData:t.loadData}}),s("table",{staticClass:"table table-bordered table-striped table-rounded table-fixed table-responsive"},[t._m(0),s("tbody",t._l(t.employeesData.rows,(function(e,n){return s("tr",{key:n},[s("td",{staticClass:"text-center",attrs:{scope:"row"}},[s("router-link",{attrs:{to:"/profile/"+e.id}},[null!==e.profile.image?s("img",{staticClass:"img-fluid",attrs:{src:e.profile.image}}):s("img",{staticClass:"img-fluid",attrs:{src:a("7d5f")}})])],1),s("td",{style:t.tablewidth,attrs:{scope:"row"}},[s("router-link",{attrs:{to:"/profile/"+e.id,title:"Click to move to Profile page"}},[s("strong",[t._v(t._s(e.profile.name))])])],1),s("td",{attrs:{scope:"row"}},[s("a",{staticClass:"btn text-muted",attrs:{href:"mailto:"+e.profile.email,title:"Click to send mail"}},[t._v(" "+t._s(e.email))])]),s("td",{style:t.tablewidth,attrs:{scope:"row"}},[s("strong",[t._v(t._s(e.title))])]),s("td",{style:t.tablewidth,attrs:{scope:"row"}},[void 0!==t.GENDERS[e.profile.gender]?s("strong",[t._v(t._s(t.GENDERS[e.profile.gender].text))]):t._e()]),s("td",{style:t.tablewidth,attrs:{scope:"row"}},[s("strong",[t._v(t._s(e.profile.birth_day))])]),s("td",{staticClass:"text-center text-muted",style:t.tableteamwidth,attrs:{scope:"row"}},[s("strong",[t._v(t._s(e.profile.phone))])]),s("td",{staticClass:"px-4",style:t.tableteamwidth,attrs:{scope:"row"}},t._l(e.profile.teams,(function(e){return s("router-link",{key:e.index,staticClass:"font-weight-bold text-center d-block w-100 py-2 badge my-2 badge-pill",class:{"badge-light text-dark ":parseInt(e.id)%9===0,"badge-primary text-white ":parseInt(e.id)%9===1,"badge-danger text-white ":parseInt(e.id)%9===2,"badge-secondary text-white ":parseInt(e.id)%9===3,"badge-success text-white ":parseInt(e.id)%9===4,"badge-dark text-white ":parseInt(e.id)%9===5,"badge-info text-white ":parseInt(e.id)%9===6,"badge-warning text-dark ":parseInt(e.id)%9===7,"badge-success text-dark ":parseInt(e.id)%9===8},staticStyle:{"font-size":"0.9em"},attrs:{to:"/team/"+e.id}},[t._v(" "+t._s(e.name?e.name:"No team")+" ")])})),1),s("td",{style:t.tablewidth,attrs:{scope:"row"}},[s("strong",[t._v(t._s(e.profile.join_date))])])])})),0)]),s("nav",{staticClass:"mt-3",attrs:{"aria-label":"Page navigation example"}},[s("ul",{staticClass:"pagination justify-content-center"},t._l(t.employeesData.totalPage,(function(e){return s("li",{key:e.index,staticClass:"page-item",class:{active:e===t.employeesData.currentPage}},[s("a",{staticClass:"page-link btn",on:{click:function(a){return t.getDataFilterOption(e,t.page_size)}}},[t._v(t._s(e))])])})),0)])],1)])])},Ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"firstrow",attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Avatar ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Name ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Email ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Title ")])]),a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Gender ")])]),a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Birthday ")])]),a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Phone ")])]),a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Team ")])]),a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Join date ")])])])])}],De=a("1473"),je=De["a"],Re=(a("b810"),Object(p["a"])(je,ke,Ce,!1,null,"d6d49b18",null)),Oe=Re.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content d-flex justify-content-center"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("div",{staticClass:"table-responsive p-3 col-md-6 col-lg-9"},[a("h2",{staticClass:"card-header text-white bg-info text-left py-4"},[t._v(" Import File ")]),a("form",{staticClass:"p-4 text-info ",attrs:{id:"id_import",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.checkfile(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkfile(e)}}},[t.error_form.length?a("div",{staticClass:"text-danger"},[a("ul",t._l(t.error_form,(function(e){return a("li",{key:e.index},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"ml-2 col-sm-2 col-form-label"},[t._v("File")]),a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"custom-file"},[a("input",{ref:"file",staticClass:"custom-file-input",attrs:{id:"id_file",type:"file",accept:".xlsx"},on:{change:t.handleFileUpload}}),a("label",{ref:"fName",staticClass:"custom-file-label",attrs:{for:"custom_file"}},[t._v("Choose file")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""===this.files,expression:"this.files === ''"}],staticClass:"form-group row my-3 text-center"},[a("label",{staticClass:"col-sm-12 mx-auto col-form-label alert alert-success",attrs:{for:"input_endday"}},[t._v("Please input excel file (.xlsx, .xls)")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.files,expression:"files !== ''"}],staticClass:"form-group row"},[a("label",{staticClass:"ml-2 col-sm-2 col-form-label"},[t._v("Email")]),a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"custom-file"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.email=e.target.multiple?a:a[0]}}},t._l(t.columns,(function(e){return a("option",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.files,expression:"files !== ''"}],staticClass:"form-group row"},[a("label",{staticClass:"ml-2 col-sm-2 col-form-label"},[t._v("Name")]),a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"custom-file"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.name=e.target.multiple?a:a[0]}}},t._l(t.columns,(function(e){return a("option",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.files,expression:"files !== ''"}],staticClass:"form-group row"},[a("label",{staticClass:"ml-2 col-sm-2 col-form-label"},[t._v("Phone")]),a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"custom-file"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.phone=e.target.multiple?a:a[0]}}},t._l(t.columns,(function(e){return a("option",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.files,expression:"files !== ''"}],staticClass:"form-group row"},[a("div",{staticClass:"col-md-2"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.showbutton,expression:"showbutton"}],staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v(" Import ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.showbutton,expression:"!showbutton"}],staticClass:"btn btn-warning",attrs:{type:"submit",disabled:""}},[t._v(" Waiting... ")])])])]),a("p",[t._v(t._s(t.error_msg))]),!t.success&&t.sent?a("div",[a("p",{staticClass:"text-success"},[t._v("Success: "+t._s(t.valid.length))]),a("p",{staticClass:"text-danger"},[t._v("Failure : "+t._s(t.invalid.length))]),a("table",{staticClass:"table table-bordered table-striped table-rounded table-fixed"},[t._m(0),a("tbody",t._l(t.rows,(function(e){return a("tr",{key:e.index,class:{"text-danger":!e.success,"text-info":e.success}},[a("td",{staticClass:"text-center",attrs:{scope:"row"}},[t._v(" "+t._s(e.row)+" ")]),a("td",{attrs:{scope:"row"}},[t._v(" "+t._s(e.name)+" ")]),a("td",{attrs:{scope:"row"}},[t._v(" "+t._s(e.email)+" ")]),a("td",{attrs:{scope:"row"}},[t._v(" "+t._s(e.personal_email)+" ")]),a("td",{attrs:{scope:"row"}},[t._v(" "+t._s(e.phone)+" ")]),a("td",{class:{"bg-danger text-white":!e.success,"bg-success text-white":e.success},attrs:{scope:"row"}},[t._v(" "+t._s(e.status)+" ")])])})),0)])]):t._e(),t.sent?a("div",[a("button",{directives:[{name:"show",rawName:"v-show",value:t.showbutton&&0!==t.valid.length,expression:"showbutton && valid.length !== 0"}],staticClass:"btn btn-success",on:{click:function(e){return t.submitfile()}}},[t._v(" Confirm ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.showbutton,expression:"showbutton"}],staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(e){return t.cancelfile()}}},[t._v(" Cancel ")])]):t._e()])])},Ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{},[a("tr",{},[a("th",{staticClass:"firstrow",attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Row ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Name ")])]),a("th",{staticClass:"px-5",attrs:{scope:"col"}},[a("button",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Email ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Personal Email ")])]),a("th",{staticClass:"px-4",attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Phone ")])]),a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Status ")])])])])}],$e={name:"id_import",middleware:"authen",data:function(){return{data:"",files:"",file_name:"",email:"",personal_email:"",name:"",phone:"",rows:[],columns:[],accept:!1,success:"",success_emails:"",failure_emails:"",error_msg:"",valid:"",invalid:"",sent:!1,error_form:[],showbutton:!0,items:[{text:"Homepage",to:{name:"Index"}},{text:"Employee List",to:{name:"EmployeeList"}},{text:"Import",active:!0}]}},head:function(){return{title:"Import File"}},methods:{handleFileUpload:function(t){var e=this;this.files=t.target.files[0],void 0!==t.target.files[0]?this.file_name=t.target.files[0].name:this.file_name="",this.email="",this.phone="",this.name="";var a=this.$refs.fName,s=/^.+\.xlsx$/;if(s.test(this.file_name)){var n=new FormData;a.textContent=this.file_name,n.append("files",this.files),f.a.post("/admin/send_first_row/",n).then((function(t){e.columns=t.data.columns;var a="",s="",n="";e.columns.forEach((function(t){"email"===t&&(a=t),"name"===t&&(n=t),"phone"===t&&(s=t)})),e.email=a,e.phone=s,e.name=n})),this.accept=!0}else t.target.classList.add("was-validated")},checkfile:function(){var t=this;if(!0===this.accept)if(0===this.email.length||0===this.name.length)this.error_form.push("Please input fields and name");else{var e=new FormData;e.append("files",this.files),e.append("email",this.email),e.append("personal_email",this.personal_email),e.append("name",this.name),e.append("phone",this.phone),this.showbutton=!1,f.a.post("/admin/check_import/",e).then((function(e){t.data=e.data,t.rows=e.data.rows,t.valid=e.data.valid,t.invalid=e.data.invalid,t.sent=!0,t.showbutton=!0}))["catch"]((function(t){this.showbutton=!0,alert(t)}))}},submitfile:function(){var t=this;this.showbutton=!1,f.a.post("/admin/import_file/",this.data).then((function(e){t.sent=!1,t.showbutton=!0,t.$router.push("/employeelist")}))["catch"]((function(t){this.showbutton=!0,alert(t)}))},cancelfile:function(){this.sent=!1}}},Se=$e,qe=(a("1235"),Object(p["a"])(Se,Ie,Ee,!1,null,"0926f1c7",null)),Ne=qe.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" d-flex justify-content-center"},[a("div",{staticClass:"main-content position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-app",[a("v-container",[a("div",{},[a("h2",{staticClass:"card-header text-white bg-info text-left py-4"},[t._v(" Invite user ")]),a("div",{staticClass:"bg-white mt-0",attrs:{align:"center"}},[a("validation-observer",{ref:"observer",attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",{staticClass:"ml-5 mr-2 pt-3"},[a("v-col",{staticClass:"mt-2",attrs:{cols:"12",sm:"11"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("validation-provider",{attrs:{name:"Name",rules:"required|max:50"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{ref:"nameA",attrs:{counter:50,"error-messages":s,label:"Name",outlined:"",dense:"",required:""},model:{value:t.invite.name,callback:function(e){t.$set(t.invite,"name",e)},expression:"invite.name"}})]}}])})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("validation-provider",{attrs:{name:"Email",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-text-field",{attrs:{"error-messages":s,label:"E-mail",outlined:"",dense:"",required:"",suffix:"@paradox.ai"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)}},model:{value:t.invite.email,callback:function(e){t.$set(t.invite,"email",e)},expression:"invite.email"}})]}}])})],1)],1)],1),a("v-col",{staticClass:"mt-5",attrs:{cols:"12",sm:"1"}},[a("v-icon",{attrs:{color:"#43C9D0",large:""},on:{click:t.add}},[t._v("mdi-plus-thick")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-card",{staticClass:"mx-3",attrs:{outlined:""}},[a("v-simple-table",{staticClass:"table-striped",attrs:{"fixed-header":"",height:"400px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"py-2"},[a("tr",[a("th",{staticClass:"text-uppercase ",attrs:{scope:"row"}},[t._v("Name")]),a("th",{staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("Company email")]),a("th",{directives:[{name:"show",rawName:"v-show",value:!t.showResult,expression:"!showResult"}],staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("Action")]),a("th",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("Status")])])]),a("tbody",[t._l(t.listInvite,(function(e){return a("tr",{key:e.name},[a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.name))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.email))]),a("td",{attrs:{align:"left",scope:"row"}},[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.remove(e)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","times"]}})],1)])])})),t._l(t.invalidUser,(function(e){return a("tr",{key:e.name,staticClass:"text-danger"},[a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.name))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.email))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(" "+t._s(e.status)+" ")])])})),t._l(t.validUser,(function(e){return a("tr",{key:e.name,staticClass:"text-success"},[a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.name))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.email))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(" "+t._s(e.status)+" ")])])}))],2)]},proxy:!0}])})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"float-left",attrs:{align:"left"}},[a("div",{staticClass:"pt-2"},[a("div",{staticClass:"text-success ml-3"},[t._v(" Success: "+t._s(t.validUser.length)+" ")]),a("div",{staticClass:"text-danger ml-3",on:{click:t.sendList}},[t._v(" Failure: "+t._s(t.invalidUser.length)+" ")])])])],1),a("v-col",{attrs:{align:"right",cols:"12",sm:"6"}},[a("v-btn",{staticClass:"btn btn-secondary mr-2 btn-width",attrs:{dark:"",text:""},on:{click:t.clearTable}},[t._v(" clear ")]),a("v-btn",{staticClass:"mr-4 btn btn-info btn-width",attrs:{dark:"",text:""},on:{click:t.sendList}},[t._v(" Send invitations ")])],1)],1)]},proxy:!0}])})],1)])])],1)],1)},Pe=[],Le=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"sendList",value:function(t){var e=this.request({auth:!0}).post("".concat(this.entity,"/invite_list_user/"),t);return e}},{key:"entity",get:function(){return"admin"}}]),a}(dt["a"]),Ae=new Le,Te=a("4c93"),Fe=a("7bb1");Object(Fe["d"])("eager"),Object(Fe["c"])("required",Object(u["a"])(Object(u["a"])({},Te["c"]),{},{message:"{_field_} can not be empty"})),Object(Fe["c"])("max",Object(u["a"])(Object(u["a"])({},Te["b"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Fe["c"])("email",Object(u["a"])(Object(u["a"])({},Te["a"]),{},{message:"Email must be valid"}));var Ue={name:"id_invite_form",middleware:"authen",components:{ValidationProvider:Fe["b"],ValidationObserver:Fe["a"]},data:function(){return{showResult:!1,errors:"",listInvite:[],invalidUser:[],validUser:[],invite:{name:"",email:""},defaultInvite:{name:"",email:""},check:null,showbutton:!0,character:"",items:[{text:"Homepage",to:{name:"Index"}},{text:"Employee List",to:{name:"EmployeeList"}},{text:"Invite",active:!0}]}},methods:{sendList:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.listInvite.length){e.next=2;break}return e.abrupt("return");case 2:return t.resetForm(),e.next=5,Ae.sendList(t.listInvite);case 5:a=e.sent,201===a.status&&a.data?(t.listInvite=[],t.invalidUser=a.data.invalid_user,t.validUser=a.data.valid_user,t.invalidUser.length?t.$toast.warning("Failure: ".concat(t.invalidUser.length)):t.$toast.success("Success"),t.showResult=!0):t.$toast.error("Error");case 7:case"end":return e.stop()}}),e)})))()},add:function(){this.invite.name&&this.invite.email&&(this.invite.email+="@paradox.ai",this.listInvite.unshift(this.invite),this.resetForm(),this.$refs.nameA.focus())},clearTable:function(){this.validUser=[],this.listInvite=[],this.invalidUser=[],this.showResult=!1,this.resetForm()},resetForm:function(){this.invite=Object.assign({},this.defaultInvite),this.$refs.observer.reset()},remove:function(t){var e=this.listInvite.indexOf(t);this.listInvite.splice(e,1)}},computed:{noneData:function(){return!this.listInvite.length&&!this.invalidUser.length&&!this.validUser.length}}},Be=Ue,ze=(a("9e67"),Object(p["a"])(Be,Me,Pe,!1,null,"0275d127",null)),He=ze.exports,Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-app",{staticClass:"ml-5 mr-5"},[a("v-card",{staticClass:"m-4",attrs:{outlined:"true"}},[a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("h2",[t._v("Leave management in month")])]),a("v-spacer"),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",placeholder:"Search name or email",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchWithNameOrEmail()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{attrs:{cols:"2"}},[a("date-picker",{attrs:{type:"month",placeholder:"Select date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("v-col",{attrs:{cols:"2"}},[a("download-excel",{staticClass:"bg-info text-center rounded text-light",attrs:{fetch:t.fetchDataForExportExcel,fields:t.json_fields_detail,worksheet:"My Worksheet",name:t.year.toString()+"-"+t.month.toString()+".xls"}},[a("small",[t._v("Export Excel")])])],1)],1)],1),a("v-data-table",{staticClass:"table-striped",attrs:{headers:t.headers,items:t.data,"items-per-page":t.count,"hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",{staticClass:"specialClass"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"specialClass"},[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.working_days))]),a("td",[t._v(t._s(e.item.leave_days_number)+" "),e.item.leave_days_number?a("a",{staticClass:"btn text-info",on:{click:function(a){return t.getDetailData(e.item.id,"leave_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.OT_days_number)+" "),e.item.OT_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.id,"OT_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.night_days_number)+" "),e.item.night_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.id,"night_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.remote_days_number)+" "),e.item.remote_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.id,"remote_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.insurance_days_number)+" "),e.item.insurance_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.id,"insurance_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.unpaid_days_number)+" "),e.item.unpaid_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.id,"unpaid_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.current_days_off))]),a("td",[t._v(t._s(e.item.annual_leave_last_year))])])]}}])})],1),t.dialogPagination?a("v-pagination",{attrs:{color:"#43c9d0",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1),a("v-dialog",{staticClass:"color",attrs:{width:"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline color mb-6"},[t._v("Detail")]),a("v-card-text",[a("v-data-table",{staticClass:"elevation-1 ",attrs:{headers:t.headersDetail,items:t.detailData,"hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",[t._v(t._s(t.detailData.indexOf(e.item)+1))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.type))]),e.item.lunch?a("td",[t._v("Yes")]):a("td",[t._v("No")]),a("td",[t._v(t._s(e.item.type_off_title))])])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"#43c9d0",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},Ve=[],We=(a("e25e"),function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"get",value:function(t,e,a,s,n,r){var i=this.request({auth:!0}).get("".concat(this.entity,"?m=").concat(t,"&y=").concat(e,"&page_size=").concat(s,"&page=").concat(a,"&n=").concat(n,"&e=").concat(r));return i}},{key:"create_annual_leave",value:function(){var t=this.request({auth:!0}).post("workday/remain_leave");return t}},{key:"check_annual_leave_next_year",value:function(){var t=this.request({auth:!0}).get("workday/check_annual_leave");return t}},{key:"entity",get:function(){return"workday/admin"}}]),a}(dt["a"])),Ge=new We,Je=a("ec45"),Ze={name:"LeaveDayStatistic",components:{DatePicker:Je["a"]},data:function(){var t=this;return{date:(new Date).toISOString().substr(0,7),menu:!1,count:0,search:"",dialog:!1,data:[],detailData:[],month:(new Date).getMonth()+1,year:(new Date).getFullYear(),page:1,pageCount:0,dialogPagination:!0,nightWorking:[],json_fields_detail:{Name:"name","Night 1 (Date)":"Ok","Night 2 (Date)":"Ok","Team Lead/ Sr":"Sr",Jr:"Jr","Total (Night)":"night_days_number"},json_fields:{Name:"name",Email:"email","Working days in month":"working_days","Remain leaves":"current_days_off","Number of leave days":"leave_days_number","Leave days in month":{field:"leave_days",callback:function(e){return t.getCallBack(e)}},"Number of OT days":"OT_days_number","OT days in month":{field:"OT_days",callback:function(e){return t.getCallBack(e)}},"Number of night days":"night_days_number","Night days in month":{field:"night_days",callback:function(e){return t.getCallBack(e)}},"Number of remote days":"remote_days_number","Remote days in month":{field:"remote_days",callback:function(e){return t.getCallBack(e)}},"Number of insurance days":"insurance_days_number","Insurance days in month":{field:"insurance_days",callback:function(e){return t.getCallBack(e)}},"Number of unpaid days":"unpaid_days_number","Unpaid days in month":{field:"unpaid_days",callback:function(e){return t.getCallBack(e)}},"Remaining annual leave":"current_days_off"},items:[{text:"Homepage",to:{name:"Index"}},{text:"Calendar",to:{name:"calendar"}},{text:"Leave Day Statistic",active:!0}],headers:[{text:"Name",value:"name"},{text:"Email",sortable:!1,value:"email"},{text:"Working days",value:"working_days"},{text:"Leave days",value:"leave_days"},{text:"OT days",value:"OT_days_number"},{text:"Night days",value:"night_days_number"},{text:"Remote days",value:"remote_days_number"},{text:"Insurance leave days",value:"insurance_days_number"},{text:"Unpaid leave days",value:"unpaid_days_number"},{text:"Remaining annual leave",value:"current_days_off"},{text:"Annual leave last year",value:"current_days_off"}],headersDetail:[{text:"STT",value:"stt"},{text:"Date",value:"date"},{text:"Time",value:"type"},{text:"Lunch",value:"lunch"},{text:"Type of leave",value:"date_off_number"}]}},watch:{page:function(){this.getData()},month:function(){this.getData()},date:function(){this.getData(this.date)}},created:function(){this.getData(),this.getNightWorking()},methods:{getCallBack:function(t){for(var e=[],a=0;a<t.length;a++){var s="".concat(a+1,". ").concat(t[a].date," - ").concat(t[a].type);t[a].lunch?s+=" - Have eat lunch":s+=" - Don't have eat lunch",e.push(s)}return e},getNightWorking:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.get(t.month,t.year,1,t.count,"","");case 2:for(a=e.sent,s=a.data.results,n=0;n<s.length;n++)for(r=0;r<s[n].night_days.length;r++)s[n].night_days[r].date;case 5:case"end":return e.stop()}}),e)})))()},fetchDataForExportExcel:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ge.get(t.month,t.year,1,t.count,"","");case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})))()},allowedYears:function(t){return!(parseInt(t.split("-")[0],10)>(new Date).getFullYear())},validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())},searchWithNameOrEmail:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.search){e.next=2;break}return e.abrupt("return");case 2:if(a=[],t.dialogPagination=!1,!t.validateEmail(t.search)){e.next=10;break}return e.next=7,Ge.get(t.month,t.year,1,t.count,"",t.search);case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,Ge.get(t.month,t.year,1,t.count,t.search,"");case 12:a=e.sent;case 13:t.data=a.data.results;case 14:case"end":return e.stop()}}),e)})))()},getData:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&(e.month=parseInt(t.slice(5,7)),e.year=parseInt(t.slice(0,4)),e.page=1),a.next=3,Ge.get(e.month,e.year,e.page,50,"","");case 3:s=a.sent,e.data=s.data.results,e.pageCount=s.data.page_number,e.count=s.data.count;case 7:case"end":return a.stop()}}),a)})))()},getDetailData:function(t,e){this.dialog=!0,this.detailData=this.data.find((function(e){return e.id===t}))[e]}},head:function(){return{title:"Leave Day Statistic"}}},Qe=Ze,Ke=(a("d1c7"),Object(p["a"])(Qe,Ye,Ve,!1,null,null,null)),Xe=Ke.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-app",{staticClass:"ml-5 mr-5"},[a("v-card",{staticClass:"m-4",attrs:{outlined:"true"}},[a("v-card-title",[a("v-row",[a("v-col",{staticClass:"d-flex",attrs:{cols:"5"}},[a("h2",{staticClass:"mr-4"},[t._v("Leave management")]),a("date-picker",{attrs:{type:"year",placeholder:"Select year","disabled-date":t.afterJoinDateInCompany},on:{input:function(e){return t.saveDate(t.date)}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-center rounded text-light color-bg"},[a("small",[t._v("Remain leaves:")]),a("small",{staticClass:"badge bg-white text-danger ml-2"},[t._v(t._s(t.leaveUser[0].current_days_off))])])]),a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"text-center rounded text-light color-bg"},[a("small",[t._v("Annual leave last year:")]),a("small",{staticClass:"badge bg-white text-danger ml-2"},[t._v(t._s(t.leaveUser[0].annual_leave_last_year))])])]),a("v-col",{attrs:{cols:"2"}},[a("download-excel",{staticClass:"bg-info text-center rounded text-light",attrs:{data:t.leaveUser,fields:t.json_fields,worksheet:"My Worksheet",name:"leaveManagement.xls"}},[a("small",[t._v("Export Excel")])])],1)],1)],1),a("v-data-table",{staticClass:"table-striped",attrs:{headers:t.headers,items:t.leaveUser,"items-per-page":12,options:t.options,"hide-default-footer":""},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",[a("td",[t._v(t._s(e.item.month))]),a("td",[t._v(t._s(e.item.working_days))]),a("td",[t._v(t._s(e.item.leave_days_number)+" "),e.item.leave_days_number?a("a",{staticClass:"btn text-info",on:{click:function(a){return t.getDetailData(e.item.month,"leave_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.OT_days_number)+" "),e.item.OT_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.month,"OT_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.night_days_number)+" "),e.item.night_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.month,"night_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.remote_days_number)+" "),e.item.remote_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.month,"remote_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.insurance_days_number)+" "),e.item.insurance_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.month,"insurance_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()]),a("td",[t._v(t._s(e.item.unpaid_days_number)+" "),e.item.unpaid_days_number?a("a",{staticClass:"btn text-info ",on:{click:function(a){return t.getDetailData(e.item.month,"unpaid_days")}}},[a("font-awesome-icon",{attrs:{icon:["fas","info-circle"]}})],1):t._e()])])]}}])})],1)],1),a("v-dialog",{staticClass:"color",attrs:{width:"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline color mb-6"},[t._v("Detail")]),a("v-card-text",[a("v-data-table",{staticClass:"elevation-1 ",attrs:{headers:t.headersDetail,items:t.detailLeaveUser,"hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function(e){return[a("tr",{class:{"my-class":e.item.current>e.item.total}},[a("td",[t._v(t._s(t.detailLeaveUser.indexOf(e.item)+1))]),a("td",[t._v(t._s(e.item.date))]),a("td",[t._v(t._s(e.item.type))]),e.item.lunch?a("td",[t._v("Yes")]):a("td",[t._v("No")]),a("td",[t._v(t._s(e.item.type_off_title))])])]}}])})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"#43c9d0",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")])],1)],1)],1)],1)},ea=[],aa=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"get",value:function(t){var e=this.request({auth:!0}).get("".concat(this.entity,"?y=").concat(t));return e}},{key:"entity",get:function(){return"workday/user"}}]),a}(dt["a"]),sa=new aa,na=(a("411c"),{name:"LeaveDayStatistic",components:{DatePicker:Je["a"]},data:function(){var t=this;return{dialog:!1,date:new Date,leaveUser:[],detailLeaveUser:[],json_fields:{Month:"month","Working days in month":"working_days","Remain leaves":"current_days_off","Number of leave days":"leave_days_number","Leave days in month":{field:"leave_days",callback:function(e){return t.getCallBack(e)}},"Number of OT days":"OT_days_number","OT days in month":{field:"OT_days",callback:function(e){return t.getCallBack(e)}},"Number of remote days":"remote_days_number","Remote days in month":{field:"remote_days",callback:function(e){return t.getCallBack(e)}},"Number of insurance days":"insurance_days_number","Insurance days in month":{field:"insurance_days",callback:function(e){return t.getCallBack(e)}},"Number of unpaid days":"unpaid_days_number","Unpaid days in month":{field:"unpaid_days",callback:function(e){return t.getCallBack(e)}}},items:[{text:"Homepage",to:{name:"Index"}},{text:"Calendar",to:{name:"calendar"}},{text:"Leave Day Statistic",active:!0}],headers:[{text:"Month",value:"month"},{text:"Working days in month",value:"working_days"},{text:"Leave days in month",value:"leave_days"},{text:"OT days in month",value:"OT_days_number"},{text:"Night days in month",value:"night_days_number"},{text:"Remote days in month",value:"remote_days_number"},{text:"Insurance leave days in month",value:"insurance_days_number"},{text:"Unpaid leave days in month",value:"unpaid_days_number"}],headersDetail:[{text:"STT",value:"stt"},{text:"Date",value:"date"},{text:"Time",value:"type"},{text:"Lunch",value:"lunch"},{text:"Type of leave",value:"date_off_number"}]}},watch:{page:function(){this.getData()},month:function(){this.getData()}},created:function(){this.getData()},methods:{getCallBack:function(t){for(var e=[],a=0;a<t.length;a++){var s="".concat(a+1,". ").concat(t[a].date," - ").concat(t[a].type);t[a].lunch?s+=" - Have eat lunch":s+=" - Don't have eat lunch",e.push(s)}return e},afterJoinDateInCompany:function(t){var e=new Date,a=new Date("".concat(this.leaveUser[0].join_date.slice(0,4)-1));return!(t<=e&&t>a)},saveDate:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,sa.get(t.getFullYear());case 2:s=a.sent,e.leaveUser=s.data;case 4:case"end":return a.stop()}}),a)})))()},getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,sa.get(t.date.getFullYear());case 2:a=e.sent,t.leaveUser=a.data;case 4:case"end":return e.stop()}}),e)})))()},getDetailData:function(t,e){this.dialog=!0,this.detailLeaveUser=this.leaveUser.find((function(e){return e.month===t}))[e]}},head:function(){return{title:"Leave Day Statistic"}}}),ra=na,ia=(a("8bab"),Object(p["a"])(ra,ta,ea,!1,null,null,null)),oa=ia.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("LoadingDialog",{attrs:{loadingDialog:t.loadingDialog}}),a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},model:{value:t.reasonDialog,callback:function(e){t.reasonDialog=e},expression:"reasonDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2"},[t._v(" Reason reject ")]),a("div",[a("h5",[t._v(t._s(t.reasonReject))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btn btn-info btn-width",attrs:{color:"primary",text:"",dark:""},on:{click:function(e){t.reasonDialog=!1,t.reasonReject=""}}},[t._v(" Ok ")])],1)],1)],1)],1),a("v-row",{attrs:{justify:"center"}}),a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-app",{staticClass:"ml-5 mr-5"},[a("v-tabs",{staticClass:"mx-auto",attrs:{centered:"","icons-and-text":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-1"}},[a("v-badge",{directives:[{name:"show",rawName:"v-show",value:t.showNoti,expression:"showNoti"}],staticClass:"badge-vue",attrs:{color:"red",content:t.showNoti}},[t._v(" Request Management ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.showNoti,expression:"!showNoti"}]},[t._v(" Request Management ")])],1),a("v-tab",{attrs:{href:"#tab-2"}},[t._v(" My Request ")]),a("v-tab",{attrs:{href:"#tab-3"}},[t._v(" Admin Request Management ")])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(3,(function(e){return a("v-tab-item",{key:e,attrs:{value:"tab-"+e}},[a("v-card",{staticClass:"m-2",attrs:{flat:""}},[a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:1===e,expression:"i===1"}]},[a("v-card",{attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped",attrs:{"data-app":"",height:"640px",page:t.page,headers:t.headers,items:t.desserts,loading:t.loadingActive,"hide-default-footer":"","sort-by":""},on:{"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-card",{attrs:{flat:"",color:"white"}},[a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"search",refInFor:!0,attrs:{"append-icon":"mdi-magnify",placeholder:"Search with user, email, reason",dense:"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterDate(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),a("v-col",{attrs:{cols:"12 sm=6",md:"7"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"Y-m-d",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},name:"date",required:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("b-form-select",{ref:"typeFilter",refInFor:!0,attrs:{options:t.itemSelect,"text-field":"state","value-field":"abbr",label:"Select type filter",dense:""},on:{change:function(e){return t.filterDate()}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select type filter -- ")])]},proxy:!0}],null,!0),model:{value:t.typeFilter,callback:function(e){t.typeFilter=e},expression:"typeFilter"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("b-form-select",{ref:"statusFilter",refInFor:!0,attrs:{options:t.itemStatus,"text-field":"state","value-field":"abbr",label:"Select status request",dense:""},on:{change:function(e){return t.filterDate()}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select status request -- ")])]},proxy:!0}],null,!0),model:{value:t.statusFilter,callback:function(e){t.statusFilter=e},expression:"statusFilter"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"1"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"#43c9d0",dark:"",depressed:""},on:{click:function(e){return t.refreshDataActive()}}},[t._v(" Refresh ")])],1)],1)],1)],1)],1),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-container",{staticClass:"fixed-top"},[a("v-card",{staticClass:"mx-auto",attrs:{align:"left","max-width":"500px"}},[a("v-card-title",[a("span",{directives:[{name:"show",rawName:"v-show",value:"Approved"===t.actionItem.action,expression:"actionItem.action === 'Approved'"}],staticClass:"headline"},[t._v("Approve")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"Rejected"===t.actionItem.action,expression:"actionItem.action === 'Rejected'"}],staticClass:"headline"},[t._v("Reject")])]),a("v-divider"),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"font-weight-bold",attrs:{cols:"12"}},[t._v(" User: "+t._s(t.actionItem.request_off.profile.name)+" ")]),a("v-col",{staticClass:"font-weight-bold",attrs:{cols:"12"}},[t._v(" Date off: "),a("br"),a("table",{staticClass:"col table bg-white table-bordered "},[a("thead",[a("tr",[a("th",[t._v("Day off")]),a("th",[t._v("Type")])])]),t._l(t.actionItem.request_off.date_off,(function(e){return a("tbody",{key:e.Startday},[a("tr",[a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.type))])])])}))],2)]),a("v-col",{staticClass:"font-weight-bold",attrs:{cols:"12"}},[t._v(" Reason: "+t._s(t.actionItem.request_off.reason)+" ")]),"Rejected"==t.actionItem.action?a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{"append-icon":"mdi-comment",label:"Comment",rows:"2",outlined:""},model:{value:t.actionItem.comment,callback:function(e){t.$set(t.actionItem,"comment",e)},expression:"actionItem.comment"}})],1):t._e()],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"btn btn-secondary btn-width btn-lg m-2",attrs:{color:"white",dark:"",text:""},on:{click:t.close}},[t._v("Cancel ")]),a("v-spacer"),"Rejected"===t.actionItem.action?a("v-btn",{staticClass:"btn btn-danger m-2 btn-width btn-lg ",attrs:{color:"white",dark:"",text:""},on:{click:t.actionRequest}},[t._v("Reject ")]):a("v-btn",{staticClass:"btn btn-info m-2 btn-width btn-lg",attrs:{dark:"",color:"white",text:""},on:{click:t.actionRequest}},[t._v("Approve ")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item",fn:function(e){return[a("tr",[a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.request_off.profile.name)+" ")]),a("td",{attrs:{align:"center"}},[a("div",{staticClass:"container-fluid"},t._l(e.item.request_off.date_off,(function(e){return a("div",[t._v(" "+t._s(e.date)+" ("+t._s(e.type)+") ")])})),0)]),a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.request_off.type_off.title)+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.item.request_off.type_off.type,expression:"row.item.request_off.type_off.type === 1"}]},[t._v("( Insurance )")])]),a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.request_off.reason)+" ")]),a("td",{attrs:{scope:"row",align:"center"}},["Rejected"===e.item.request_off.status||"Cancel"===e.item.request_off.status?a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill badge-danger pointer",on:{click:function(a){return t.rejected_reason(e.item.request_off.status,e.item.request_off.request_detail)}}},[t._v(" "+t._s(e.item.request_off.status)+" ")]):a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill",class:{"badge-info":"Approved"===e.item.request_off.status,"badge-success":"Pending"===e.item.request_off.status||"Forwarded"===e.item.request_off.status}},[t._v(" "+t._s(e.item.request_off.status)+" ")])]),a("td",{attrs:{scope:"row",align:"center"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:!e.item.status&&"Cancel"!=e.item.request_off.status,expression:"\n                        !row.item.status &&\n                          row.item.request_off.status != 'Cancel'\n                      "}],staticClass:"btn btn-danger mr-1 btn-sm",attrs:{title:"Reject"},on:{click:function(a){return a.preventDefault(),t.rejectItem(e.item)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","times"]}})],1),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.item.status&&"Cancel"!=e.item.request_off.status,expression:"\n                        !row.item.status &&\n                          row.item.request_off.status != 'Cancel'\n                      "}],staticClass:"btn btn-info btn-sm",attrs:{title:"Approve"},on:{click:function(a){return a.preventDefault(),t.approveItem(e.item)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","check"]}})],1),e.item.status?a("div",["Rejected"===e.item.status?a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill badge-danger pointer",on:{click:function(a){return t.rejected_reason(e.item.status,[e.item.comment])}}},[t._v(" You have "+t._s(e.item.status)+" ")]):a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill",class:{"badge-info":"Approved"===e.item.status}},[t._v(" You have "+t._s(e.item.status)+" ")])]):t._e()])])]}},{key:"item.actions",fn:function(e){var s=e.item;return[s.status?a("div",["Rejected"===s.status?a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill badge-danger pointer",on:{click:function(e){return t.rejected_reason(s.status,[s.comment])}}},[t._v(" You have "+t._s(s.status)+" ")]):a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill",class:{"badge-info":"Approved"===s.status}},[t._v(" You have "+t._s(s.status)+" ")])]):a("div",[a("v-btn",{staticClass:"mr-2 btn btn-danger py-2",attrs:{small:"",text:""},on:{click:function(e){return t.rejectItem(s)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","times"]}})],1),a("v-btn",{staticClass:"btn btn-info py-2  btn-sm",attrs:{small:"",text:""},on:{click:function(e){return t.approveItem(s)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","check"]}})],1)],1)]}}],null,!0)})],1),a("v-pagination",{attrs:{color:"#43c9d0",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:2===e,expression:"i===2"}]},[a("v-card",{attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped fixed-header",attrs:{"data-app":"","fixed-header":"",height:"640px",loading:t.loadingMyRequest,page:t.pageRequest,"items-per-page":t.itemsPerPageRequest,headers:t.headersRequest,items:t.dessertsRequest,search:t.searchRequest,"hide-default-footer":"","sort-by":""},on:{"update:page":function(e){t.pageRequest=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-card",{attrs:{flat:"",color:"white"}},[a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"searchRequest",refInFor:!0,attrs:{"append-icon":"mdi-magnify",placeholder:"Search with user, reason","hide-details":"",dense:""},model:{value:t.searchRequest,callback:function(e){t.searchRequest=e},expression:"searchRequest"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"7"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"Y-m-d",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},name:"date",required:""},model:{value:t.dateMyRequest,callback:function(e){t.dateMyRequest=e},expression:"dateMyRequest"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("b-form-select",{ref:"typeFilterMyRequest",refInFor:!0,attrs:{options:t.itemSelect,"text-field":"state","value-field":"abbr",label:"Select type filter",outlined:"",dense:""},on:{change:function(e){return t.filterDateMyRequest()}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select type filter -- ")])]},proxy:!0}],null,!0),model:{value:t.typeFilterMyRequest,callback:function(e){t.typeFilterMyRequest=e},expression:"typeFilterMyRequest"}})],1),a("v-col",{attrs:{"data-app":"",cols:"12",sm:"6",md:"4"}},[a("b-form-select",{ref:"statusFilterMyRequest",refInFor:!0,attrs:{options:t.itemStatus,"text-field":"state","value-field":"abbr",label:"Select status request",outlined:"",dense:""},on:{change:function(e){return t.filterDateMyRequest()}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select status request -- ")])]},proxy:!0}],null,!0),model:{value:t.statusFilterMyRequest,callback:function(e){t.statusFilterMyRequest=e},expression:"statusFilterMyRequest"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"1"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"#43c9d0",dark:""},on:{click:function(e){return t.refreshDataMyRequest()}}},[t._v(" Refresh ")])],1)],1)],1)],1)],1),a("v-spacer")],1)]},proxy:!0},{key:"item",fn:function(e){return[a("tr",[a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.profile.name)+" ")]),a("td",{attrs:{scope:"row",align:"center"}},[a("div",{staticClass:"container-fluid"},t._l(e.item.date_off,(function(e){return a("div",[t._v(" "+t._s(e.date)+" ("+t._s(e.type)+") ")])})),0)]),a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.type_off.title)+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.item.type_off.type,expression:"row.item.type_off.type === 1"}]},[t._v("( Insurance )")])]),a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.reason)+" ")]),a("td",{attrs:{scope:"row",align:"center"}},[a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill",class:{"badge-danger":"Rejected"===e.item.status||"Cancel"===e.item.status,"badge-info":"Approved"===e.item.status,"badge-secondary":"Passed"===e.item.status,"badge-success":"Pending"===e.item.status||"Forwarded"===e.item.status},on:{click:function(a){return t.rejected_reason(e.item.status,e.item.request_detail)}}},[t._v(" "+t._s(e.item.status)+" ")])]),a("td",{attrs:{scope:"row",align:"center"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:"Cancel"!==e.item.status&&"Rejected"!==e.item.status,expression:"\n                      row.item.status !== 'Cancel' &&\n                        row.item.status !== 'Rejected'\n                    "}],staticClass:"btn btn-danger py-2  btn-sm",attrs:{title:"Cancel"},on:{click:function(a){return a.preventDefault(),t.withdraw(e.item)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","undo"]}})],1)])])]}}],null,!0)})],1),a("v-pagination",{attrs:{color:"#43c9d0",length:t.pageCountRequest},model:{value:t.pageRequest,callback:function(e){t.pageRequest=e},expression:"pageRequest"}})],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:3===e,expression:"i===3"}]},[a("RequestAdminManagement",{staticClass:"mt-12"})],1)],1)],1)})),1)],1)],1)},la=[],ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center",attrs:{"data-app":""}},[a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"#26c6da",dark:""}},[a("v-card-text",[t._v(" Please stand by "),a("br"),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"#fff"}})],1)],1)],1)],1)},da=[],ma={name:"LoadingDialog",props:{loadingDialog:Boolean}},fa=ma,va=Object(p["a"])(fa,ua,da,!1,null,null,null),ha=va.exports,pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-card",{attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped fixed-header",attrs:{"data-app":"","fixed-header":"",height:"640px",loading:t.loadingMyRequest,page:t.pageRequest,"items-per-page":t.itemsPerPageRequest,headers:t.headersRequest,items:t.dessertsRequest,"hide-default-footer":"","sort-by":""},on:{"update:page":function(e){t.pageRequest=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-card",{attrs:{flat:"",color:"white"}},[a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"searchRequest",attrs:{"append-icon":"mdi-magnify",placeholder:"Search with user, reason","hide-details":"",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterDateMyRequest(e)}},model:{value:t.searchRequest,callback:function(e){t.searchRequest=e},expression:"searchRequest"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"7"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"Y-m-d",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},name:"date",required:""},model:{value:t.dateMyRequest,callback:function(e){t.dateMyRequest=e},expression:"dateMyRequest"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("b-form-select",{ref:"typeFilterMyRequest",attrs:{options:t.itemSelect,"text-field":"state","value-field":"abbr",label:"Select type filter",outlined:"",dense:""},on:{change:function(e){return t.filterDateMyRequest()}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select type filter --")])]},proxy:!0}]),model:{value:t.typeFilterMyRequest,callback:function(e){t.typeFilterMyRequest=e},expression:"typeFilterMyRequest"}})],1),a("v-col",{attrs:{"data-app":"",cols:"12",sm:"6",md:"4"}},[a("b-form-select",{ref:"statusFilterMyRequest",attrs:{options:t.itemStatus,"text-field":"state","value-field":"abbr",label:"Select status request",outlined:"",dense:""},on:{change:function(e){return t.filterDateMyRequest()}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select status request --")])]},proxy:!0}]),model:{value:t.statusFilterMyRequest,callback:function(e){t.statusFilterMyRequest=e},expression:"statusFilterMyRequest"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"1"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"#43c9d0",depressed:"",dark:""},on:{click:function(e){return t.refreshDataMyRequest()}}},[t._v(" Refresh ")])],1)],1)],1)],1)],1),a("v-spacer")],1)]},proxy:!0},{key:"item",fn:function(e){return[a("tr",[a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.profile.name)+" ")]),a("td",{attrs:{scope:"row",align:"center"}},[a("div",{staticClass:"container-fluid"},t._l(e.item.date_off,(function(e){return a("div",[t._v(" "+t._s(e.date)+" ("+t._s(e.type)+") ")])})),0)]),a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.type_off.title)+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.item.type_off.type,expression:"row.item.type_off.type === 1"}]},[t._v("( Insurance )")])]),a("td",{attrs:{scope:"row",align:"center"}},[t._v(" "+t._s(e.item.reason)+" ")]),a("td",{attrs:{scope:"row",align:"center"}},[a("a",{staticClass:"text-white font-weight-bold text-center d-block w-100 py-2 badge badge-pill",class:{"badge-danger":"Rejected"===e.item.status||"Cancel"===e.item.status,"badge-info":"Approved"===e.item.status,"badge-secondary":"Passed"===e.item.status,"badge-success":"Pending"===e.item.status||"Forwarded"===e.item.status},on:{click:function(a){return t.rejected_reason(e.item.status,e.item.request_detail)}}},[t._v(" "+t._s(e.item.status)+" ")])]),a("td",{attrs:{scope:"row",align:"center"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:"Cancel"!==e.item.status&&"Rejected"!==e.item.status,expression:"\n                      row.item.status !== 'Cancel' &&\n                        row.item.status !== 'Rejected'\n                    "}],staticClass:"btn btn-danger py-2  btn-sm",attrs:{title:"Cancel"},on:{click:function(a){return a.preventDefault(),t.withdraw(e.item)}}},[a("font-awesome-icon",{staticClass:"text-white fa-fw",attrs:{icon:["fas","undo"]}})],1)])])]}}])})],1),a("v-pagination",{attrs:{color:"#43c9d0",length:t.pageCountRequest},model:{value:t.pageRequest,callback:function(e){t.pageRequest=e},expression:"pageRequest"}})],1)},ga=[];function _a(){return ba.apply(this,arguments)}function ba(){return ba=Object(st["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,r,i,o,c,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:1,a=l.length>1&&void 0!==l[1]?l[1]:10,s=l.length>2&&void 0!==l[2]?l[2]:"",n=l.length>3&&void 0!==l[3]?l[3]:"",r=l.length>4&&void 0!==l[4]?l[4]:"",i=l.length>5&&void 0!==l[5]?l[5]:"",o=l.length>6&&void 0!==l[6]?l[6]:"",t.prev=7,t.next=10,f.a.get("/workday/request/management",{params:{year:s,month:n,day:r,status:i,search:o,page:e,page_size:a}});case 10:return c=t.sent,t.abrupt("return",c);case 14:return t.prev=14,t.t0=t["catch"](7),t.abrupt("return",[]);case 17:case"end":return t.stop()}}),t,null,[[7,14]])}))),ba.apply(this,arguments)}function wa(){return ya.apply(this,arguments)}function ya(){return ya=Object(st["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,r,i,o,c,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:1,a=l.length>1&&void 0!==l[1]?l[1]:10,s=l.length>2&&void 0!==l[2]?l[2]:"",n=l.length>3&&void 0!==l[3]?l[3]:"",r=l.length>4&&void 0!==l[4]?l[4]:"",i=l.length>5&&void 0!==l[5]?l[5]:"",o=l.length>6&&void 0!==l[6]?l[6]:"",t.prev=7,t.next=10,f.a.get("/workday/request/admin",{params:{year:s,month:n,day:r,status:i,search:o,page:e,page_size:a}});case 10:return c=t.sent,t.abrupt("return",c);case 14:return t.prev=14,t.t0=t["catch"](7),t.abrupt("return",[]);case 17:case"end":return t.stop()}}),t,null,[[7,14]])}))),ya.apply(this,arguments)}function xa(){return ka.apply(this,arguments)}function ka(){return ka=Object(st["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,r,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:"",a=i.length>1&&void 0!==i[1]?i[1]:"",s=i.length>2&&void 0!==i[2]?i[2]:"",n=i.length>3&&void 0!==i[3]?i[3]:"",t.prev=4,t.next=7,f.a.get("/workday/request/user?year=".concat(e,"&month=").concat(a,"&day=").concat(s,"&status=").concat(n));case 7:return r=t.sent,t.abrupt("return",r);case 11:return t.prev=11,t.t0=t["catch"](4),t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[4,11]])}))),ka.apply(this,arguments)}function Ca(t){return Da.apply(this,arguments)}function Da(){return Da=Object(st["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("/workday/action",e);case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Da.apply(this,arguments)}function ja(){return Ra.apply(this,arguments)}function Ra(){return Ra=Object(st["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/workday/request/management/count");case 3:if(e=t.sent,!e||200!==e.status||!e.data){t.next=6;break}return t.abrupt("return",e.data);case 6:return t.abrupt("return",0);case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),Ra.apply(this,arguments)}var Oa={name:"RequestAdminManagement",mounted:function(){},components:{LoadingDialog:ha,flatPickr:Ut.a},data:function(){return{loadingMyRequest:!1,typeFilterMyRequest:null,statusFilterMyRequest:null,itemSelect:[{state:"All",abbr:""},{state:"Day",abbr:"day"},{state:"Month",abbr:"month"},{state:"Year",abbr:"year"}],itemStatus:[{state:"All",abbr:""},{state:"Pending",abbr:"Pending"},{state:"Forward",abbr:"Forwarded"},{state:"Rejected",abbr:"Rejected"},{state:"Canceled",abbr:"Cancel"},{state:"Approved",abbr:"Approved"}],dateMyRequest:(new Date).toISOString().substr(0,10),menuMyRequest:!1,pageMyRequest:1,desserts:[],editedIndex:-1,actionItem:{action:"",request_off:{id:"",profile:{name:""}},Date:0,Reason:0,Status:0,comment:""},defaultItem:{action:"",request_off:{profile:{name:""}},Date:0,Reason:0,Status:0,comment:""},pageRequest:1,pageCountRequest:0,dialogRequest:!1,itemsPerPageRequest:10,searchRequest:"",headersRequest:[{text:"User",align:"center",sortable:!1,value:"profile.name"},{text:"Date",value:"date_off",align:"center"},{text:"Type off",align:"center",value:"type_off.title"},{text:"Reason",align:"center",value:"reason"},{text:"Status",align:"center",value:"status"},{text:"Actions",align:"center",value:"actions",sortable:!1}],dessertsRequest:[],editedIndexRequest:-1,actionItemRequest:{action:"",id:"",profile:{name:""},Date:0,Reason:0,Status:0,comment:""},defaultItemRequest:{action:"",request_off:{profile:{name:""}},Date:0,Reason:0,Status:0,comment:""},reasonDialog:!1,reasonReject:"",loadingDialog:!1,myRequests:[],pageNumberRequest:1,pageCurrentRequest:1,items:[{text:"Homepage",to:{name:"Index"}},{text:"Leave Management",active:!0}],is_admin:localStorage.getItem("is_admin"),profileId:localStorage.getItem("profile_id")}},created:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.asyncDataActive();case 2:case"end":return e.stop()}}),e)})))()},watch:{date:function(){this.date&&this.typeFilter&&this.filterDate()},dateMyRequest:function(){this.dateMyRequest&&this.typeFilterMyRequest&&this.filterDateMyRequest()},pageRequest:function(){this.filterDateMyRequest()}},methods:{asyncDataActive:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingActive=!0,e.next=3,wa();case 3:a=e.sent,a&&200===a.status&&a.data.results&&(t.pageCountRequest=a.data.page_number,t.dessertsRequest=a.data.results),t.loadingActive=!1;case 6:case"end":return e.stop()}}),e)})))()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.actionItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},refreshDataMyRequest:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.asyncDataActive();case 2:t.searchRequest="",t.typeFilterMyRequest="",t.statusFilterMyRequest="",t.dateMyRequest=(new Date).toISOString().substr(0,10);case 6:case"end":return e.stop()}}),e)})))()},rejected_reason:function(t,e){if("Rejected"===t){for(var a in this.reasonDialog=!0,e)e[a]&&(this.reasonReject=e[a]);this.reasonReject||(this.reasonReject="No reason")}},withdraw:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(confirm("Are you sure you want to cancel request?")){a.next=2;break}return a.abrupt("return");case 2:return e.editedIndexRequest=e.dessertsRequest.indexOf(t),e.actionItemRequest=Object.assign({},t),s=new FormData,s.append("request_off_id",t.id),s.append("action","Cancel"),e.loadingDialog=!0,a.next=10,Ca(s);case 10:n=a.sent,201===n.status&&n.data?(e.$set(e.dessertsRequest,e.editedIndexRequest,n.data),e.$toast.success("Success")):e.$toast.error("Error: "+n),e.comment="",e.loadingDialog=!1;case 14:case"end":return a.stop()}}),a)})))()},filterDate:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page=1,e.next=3,t.filter();case 3:case"end":return e.stop()}}),e)})))()},filterDateMyRequest:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.dateMyRequest.split("-"),s="",t.loadingMyRequest=!0,e.t0=t.typeFilterMyRequest,e.next="day"===e.t0?6:"month"===e.t0?10:"year"===e.t0?14:18;break;case 6:return e.next=8,wa(t.pageRequest,10,a[0],a[1],a[2],t.statusFilterMyRequest,t.searchRequest);case 8:return s=e.sent,e.abrupt("break",21);case 10:return e.next=12,wa(t.pageRequest,10,a[0],a[1],"",t.statusFilterMyRequest,t.searchRequest);case 12:return s=e.sent,e.abrupt("break",21);case 14:return e.next=16,wa(t.pageRequest,10,a[0],"","",t.statusFilterMyRequest,t.searchRequest);case 16:return s=e.sent,e.abrupt("break",21);case 18:return e.next=20,wa(t.pageRequest,10,"","","",t.statusFilterMyRequest,t.searchRequest);case 20:s=e.sent;case 21:s&&200===s.status&&s.data?(t.pageCountRequest=s.data.page_number,t.dessertsRequest=s.data.results):(t.pageRequest=1,t.dessertsRequest=s,t.pageCountRequest=0),t.loadingMyRequest=!1;case 23:case"end":return e.stop()}}),e)})))()}}},Ia=Oa,Ea=Object(p["a"])(Ia,pa,ga,!1,null,"0edb290a",null),$a=Ea.exports,Sa={name:"LeaveManage",middleware:"authen",created:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.asyncDataActive();case 2:return e.next=4,t.asyncDataMyRequest();case 4:t.admin=localStorage.getItem("is_admin");case 5:case"end":return e.stop()}}),e)})))()},components:{LoadingDialog:ha,flatPickr:Ut.a,RequestAdminManagement:$a},computed:Object(u["a"])({},Object(d["b"])({showNoti:"showNoti"})),data:function(){return{admin:null,tab:null,loadingActive:!1,loadingMyRequest:!1,typeFilter:null,statusFilter:null,typeFilterMyRequest:null,statusFilterMyRequest:null,itemSelect:[{state:"All",abbr:""},{state:"Day",abbr:"day"},{state:"Month",abbr:"month"},{state:"Year",abbr:"year"}],itemStatus:[{state:"All",abbr:""},{state:"Pending",abbr:"Pending"},{state:"Forward",abbr:"Forwarded"},{state:"Rejected",abbr:"Rejected"},{state:"Canceled",abbr:"Cancel"},{state:"Approved",abbr:"Approved"}],date:(new Date).toISOString().substr(0,10),menu:!1,page:1,dateMyRequest:(new Date).toISOString().substr(0,10),menuMyRequest:!1,pageMyRequest:1,pageCount:0,dialog:!1,search:"",headers:[{text:"User",align:"center",value:"request_off.profile.name"},{text:"Date",value:"request_off.date_off",align:"center",sortable:!1},{text:"Type off",align:"center",value:"request_off.type_off.title"},{text:"Reason",align:"center",value:"request_off.reason"},{text:"Status",align:"center",value:"request_off.status"},{text:"Actions",align:"center",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,actionItem:{action:"",request_off:{id:"",profile:{name:""}},Date:0,Reason:0,Status:0,comment:""},defaultItem:{action:"",request_off:{profile:{name:""}},Date:0,Reason:0,Status:0,comment:""},pageRequest:1,pageCountRequest:0,dialogRequest:!1,itemsPerPageRequest:10,searchRequest:"",headersRequest:[{text:"User",align:"center",sortable:!1,value:"profile.name"},{text:"Date",value:"date_off",align:"center"},{text:"Type off",align:"center",value:"type_off.title"},{text:"Reason",align:"center",value:"reason"},{text:"Status",align:"center",value:"status"},{text:"Actions",align:"center",value:"actions",sortable:!1}],dessertsRequest:[],editedIndexRequest:-1,actionItemRequest:{action:"",id:"",profile:{name:""},Date:0,Reason:0,Status:0,comment:""},defaultItemRequest:{action:"",request_off:{profile:{name:""}},Date:0,Reason:0,Status:0,comment:""},reasonDialog:!1,reasonReject:"",loadingDialog:!1,dataDialog:"",comment:"",leave_days:[],acts:[],myRequests:[],pageNumber:1,pageCurrent:1,pageNumberRequest:1,pageCurrentRequest:1,lists:[],status:!1,namesort:!1,namecount:0,leaveRemainBoolean:!1,leaveRemainCount:0,fromBoolean:!1,fromCount:0,toBoolean:!1,toCount:0,statusBoolean:!1,statusCount:0,titleBoolean:!1,titleCount:0,items:[{text:"Homepage",to:{name:"Index"}},{text:"Leave Management",active:!0}],is_admin:localStorage.getItem("is_admin"),profileId:localStorage.getItem("profile_id")}},watch:{date:function(){this.date&&this.typeFilter&&this.filterDate()},dateMyRequest:function(){this.dateMyRequest&&this.typeFilterMyRequest&&this.filterDateMyRequest()},page:function(){this.filter()}},head:function(){return{title:"Leave Management"}},methods:{asyncDataMyRequest:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loadingMyRequest=!0,a.next=3,xa(t);case 3:s=a.sent,200===s.status&&s.data&&(e.pageCountRequest=Math.ceil(s.data.length/10)?Math.ceil(s.data.length/10):1,e.dessertsRequest=s.data),e.loadingMyRequest=!1;case 6:case"end":return a.stop()}}),a)})))()},action:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("comment",t.comment),a.append("request_off_id",t.dataDialog.id),a.append("action",t.dataDialog.action),t.dialog=!1,t.loadingDialog=!0,e.next=8,Ca(a);case 8:s=e.sent,201===s.status&&s.data?(t.$set(t.acts,t.dataDialog.index,s.data),t.$toast.success("Success")):t.$toast.error("Error"),t.comment="",t.loadingDialog=!1;case 12:case"end":return e.stop()}}),e)})))()},rejectItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.actionItem=Object.assign({},t),this.$set(this.actionItem,"action","Rejected"),this.dialog=!0},approveItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.actionItem=Object.assign({},t),this.$set(this.actionItem,"action","Approved"),this.dialog=!0},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.actionItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},actionRequest:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("comment",t.actionItem.comment),a.append("request_off_id",t.actionItem.request_off.id),a.append("action",t.actionItem.action),t.loadingDialog=!0,e.next=7,Ca(a);case 7:s=e.sent,201===s.status&&s.data?(t.$set(t.desserts,t.editedIndex,s.data),t.$toast.success("Success")):t.$toast.error("Error"),t.comment="",t.loadingDialog=!1,t.close();case 12:case"end":return e.stop()}}),e)})))()},asyncDataActive:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingActive=!0,e.next=3,_a();case 3:a=e.sent,a&&200===a.status&&a.data.results&&(t.pageCount=a.data.page_number,t.desserts=a.data.results),t.loadingActive=!1;case 6:case"end":return e.stop()}}),e)})))()},refreshDataActive:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.asyncDataActive();case 2:t.search="",t.typeFilter="",t.statusFilter="",t.date=(new Date).toISOString().substr(0,10);case 6:case"end":return e.stop()}}),e)})))()},refreshDataMyRequest:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.asyncDataMyRequest();case 2:t.searchRequest="",t.typeFilterMyRequest="",t.statusFilterMyRequest="",t.dateMyRequest=(new Date).toISOString().substr(0,10);case 6:case"end":return e.stop()}}),e)})))()},rejected_reason:function(t,e){if("Rejected"===t){for(var a in this.reasonDialog=!0,e)e[a]&&(this.reasonReject=e[a]);this.reasonReject||(this.reasonReject="No reason")}},withdraw:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(confirm("Are you sure you want to cancel request?")){a.next=2;break}return a.abrupt("return");case 2:return e.editedIndexRequest=e.dessertsRequest.indexOf(t),e.actionItemRequest=Object.assign({},t),s=new FormData,s.append("request_off_id",t.id),s.append("action","Cancel"),e.loadingDialog=!0,a.next=10,Ca(s);case 10:n=a.sent,201===n.status&&n.data?(e.$set(e.dessertsRequest,e.editedIndexRequest,n.data),e.$toast.success("Success")):e.$toast.error("Error: Over time"),e.comment="",e.loadingDialog=!1;case 14:case"end":return a.stop()}}),a)})))()},filter:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.date.split("-"),s="",t.loadingActive=!0,e.t0=t.typeFilter,e.next="day"===e.t0?6:"month"===e.t0?10:"year"===e.t0?14:18;break;case 6:return e.next=8,_a(t.page,10,a[0],a[1],a[2],t.statusFilter,t.search);case 8:return s=e.sent,e.abrupt("break",21);case 10:return e.next=12,_a(t.page,10,a[0],a[1],"",t.statusFilter,t.search);case 12:return s=e.sent,e.abrupt("break",21);case 14:return e.next=16,_a(t.page,10,a[0],"","",t.statusFilter,t.search);case 16:return s=e.sent,e.abrupt("break",21);case 18:return e.next=20,_a(t.page,10,"","","",t.statusFilter,t.search);case 20:s=e.sent;case 21:s&&200===s.status&&s.data?(t.pageCount=s.data.page_number,t.desserts=s.data.results):(t.page=1,t.desserts=s,t.pageCount=0),t.loadingActive=!1;case 23:case"end":return e.stop()}}),e)})))()},filterDate:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page=1,e.next=3,t.filter();case 3:case"end":return e.stop()}}),e)})))()},filterDateMyRequest:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loadingMyRequest=!0,a=t.dateMyRequest.split("-"),s="",e.t0=t.typeFilterMyRequest,e.next="day"===e.t0?6:"month"===e.t0?10:"year"===e.t0?14:18;break;case 6:return e.next=8,xa(a[0],a[1],a[2]+1,t.statusFilterMyRequest);case 8:return s=e.sent,e.abrupt("break",21);case 10:return e.next=12,xa(a[0],a[1],"",t.statusFilterMyRequest);case 12:return s=e.sent,e.abrupt("break",21);case 14:return e.next=16,xa(a[0],"","",t.statusFilterMyRequest);case 16:return s=e.sent,e.abrupt("break",21);case 18:return e.next=20,xa("","","",t.statusFilterMyRequest);case 20:s=e.sent;case 21:s&&200===s.status&&s.data&&(t.pageCountRequest=Math.ceil(s.data.length/10),t.dessertsRequest=s.data),t.loadingMyRequest=!1;case 23:case"end":return e.stop()}}),e)})))()}}},qa=Sa,Na=(a("3374"),Object(p["a"])(qa,ca,la,!1,null,"2ec511c7",null)),Ma=Na.exports,Pa=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[s("b-breadcrumb",{attrs:{items:e.items}})],1),s("div",{staticClass:"main-leaves row p-3",attrs:{id:"id_leaves"}},[s("div",{staticClass:"col-sm-9 mx-auto"},[e._m(0),s("form",{staticClass:"bg-white px-4 text-info mb-2",attrs:{id:"leaves",method:"POST"},on:{submit:function(t){return t.preventDefault(),e.handleClicktoModal("on")}}},[""!==this.error?s("div",{staticClass:"text-danger text-center my-2"},[e._v(" "+e._s(this.error)+" ")]):e._e(),s("br"),s("div",{staticClass:"form-group row my-3"},[s("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_user_name"}},[e._v("Name")]),s("div",{staticClass:"col-md-8 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_name,expression:"user_name"}],staticClass:"form-control",attrs:{id:"id_input_user_name",type:"text",placeholder:"user_name",disabled:""},domProps:{value:e.user_name},on:{input:function(t){t.target.composing||(e.user_name=t.target.value)}}})])]),s("div",{staticClass:"form-group row my-3"},[s("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_endday"}},[e._v("Available leave days")]),s("div",{staticClass:"col-md-8 ml-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.leave_day_number,expression:"leave_day_number"}],staticClass:"form-control",attrs:{id:"id_input_endday",type:"text",placeholder:"Leave days remaining",disabled:""},domProps:{value:e.leave_day_number},on:{input:function(t){t.target.composing||(e.leave_day_number=t.target.value)}}})])]),s("div",{staticClass:"form-group row my-3"},[e._m(1),s("div",{staticClass:"col-md-8 ml-2"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.type_leave,expression:"type_leave"}],staticClass:"form-control",attrs:{id:"id_selected_titles",type:"text",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));e.type_leave=t.target.multiple?a:a[0]}}},e._l(e.list_type_off,(function(t){return s("option",{key:t.index,attrs:{disabled:0===e.leave_day_number&&t.add_sub_day_off===e.ADD_SUP_DAY_OFF},domProps:{value:t.id}},[e._v(" "+e._s(t.type===e.INSURANCE?t.title+"( Insurance pay)":t.title)+" ")])})),0)])]),s("div",{staticClass:"form-group row my-3"},[e._m(2),s("div",{staticClass:"col-md-8 ml-1 pl-3 pr-2"},[s("div",{staticClass:"border rounded text-secondary"},[s("div",{staticClass:"md-form col-md-12 row d-flex justify-content-between"},[e._m(3),s("flat-pickr",{staticClass:"form-control bg-white col-md-4 mt-2",attrs:{config:{altInput:!0,altFormat:"d-m-Y",minDate:this.join_date,dateFormat:"Y-m-d",locale:{firstDayOfWeek:1},disable:this.disable()},placeholder:"Select date",name:"date"},on:{input:function(t){return e.get_day()}},model:{value:e.startday,callback:function(t){e.startday=t},expression:"startday"}}),e._m(4),s("flat-pickr",{staticClass:"form-control bg-white col-md-4 mt-2",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",minDate:this.startday?this.startday:this.today,locale:{firstDayOfWeek:1},disable:this.disable()},placeholder:"Select date",name:"date"},on:{input:function(t){return e.get_day()}},model:{value:e.endday,callback:function(t){e.endday=t},expression:"endday"}})],1),s("div",{staticClass:"col-md-12 mt-2 pt-2 pb-2 border-top rounded text-secondary"},[0==e.days.length?s("span",[e._v("No days off yet")]):s("div",[s("table",{staticClass:"table"},[e._m(5),e._l(e.days,(function(t,a){return s("tbody",{key:t.Startday},[s("tr",[s("td",[e._v(e._s(a+1))]),s("td",[e._v(e._s(e.format_date(t.date)))]),s("td",[s("input",{attrs:{id:"all-"+a,name:a,type:"radio",value:"All day",checked:""},on:{click:function(a){return e.change_type_off(t,a)}}}),s("label",{staticClass:"mr-3",attrs:{for:"all-"+a}},[s("span"),e._v("All day")]),s("input",{attrs:{id:"mor-"+a,name:a,type:"radio",value:"Morning"},on:{click:function(a){return e.change_type_off(t,a)}}}),s("label",{staticClass:"mr-3",attrs:{for:"mor-"+a}},[s("span"),e._v("Morning")]),s("input",{attrs:{id:"aft-"+a,name:a,type:"radio",value:"Afternoon"},on:{click:function(a){return e.change_type_off(t,a)}}}),s("label",{attrs:{for:"aft-"+a}},[s("span"),e._v("Afternoon")])]),s("td",[s("div",{staticClass:"ml-5"},[s("input",{staticClass:"form-check-input",attrs:{type:"checkbox"},on:{click:function(a){return e.change_lunch(t)}}})])]),s("td",[s("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","trash"]},on:{click:function(a){return e.remove_day(t)}}})],1)])])}))],2)])])])])]),s("div",{staticClass:"form-group row my-3"},[e._m(6),s("div",{staticClass:"col-md-8 ml-2"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],staticClass:"form-control",attrs:{id:"id_input_reason",form:"leaves",placeholder:"Tell me your reasons",required:""},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}})])]),e._m(7)]),s("b-modal",{ref:"certification_modal",staticClass:"font-weight-bold ",attrs:{"hide-footer":"",title:"Leave"}},[s("div",{staticClass:"d-block pl-2 pr-2 pt-3"},[s("div",{staticClass:"justify-content-between"},[s("div",[s("strong",[e._v("User:")]),e._v(" "+e._s(this.user_name))]),s("br"),s("div",[s("strong",[e._v("Type:")]),e._v(" "+e._s(this.list_type_off.find((function(e){return e.id===t.type_leave}))?this.list_type_off.find((function(e){return e.id===t.type_leave})).title:"")+" ")]),s("br"),s("table",{staticClass:"table bg-white table-bordered "},[s("thead",[s("tr",[s("th",[e._v("Day off")]),s("th",[e._v("Type")]),s("th",[e._v("Lunch")])])]),e._l(e.days,(function(t){return s("tbody",{key:t.Startday},[s("tr",[s("td",[e._v(e._s(e.format_date(t.date)))]),s("td",[e._v(e._s(t.type))]),s("td",[e._v(e._s(t.lunch?"Yes":"No"))])])])}))],2),s("div",[s("strong",[e._v("Reason:")]),e._v(" "+e._s(this.reason))]),s("br")])]),s("div",{attrs:{id:"user-lunch-modal-bottom"}},[s("div",{attrs:{id:"modify-button"}},[s("div",{staticClass:"row"},[s("b-button",{staticClass:"mt-3 mx-auto col-4",attrs:{variant:"danger"},on:{click:function(t){return e.handleClicktoModal()}}},[e._v("Cancel")]),s("b-button",{staticClass:"mt-3 mx-auto col-4",attrs:{variant:"info"},on:{click:function(t){return e.submit()}}},[e._v("Send")])],1)])])])],1)])])},La=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("Create request")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_title"}},[t._v("Types"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_reason"}},[t._v("Days"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-info mt-3 ml-3"},[t._v("From"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"text-info mt-3 ml-3"},[t._v("To"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{staticClass:"stt",attrs:{scope:"col"}},[t._v("No")]),a("th",{staticClass:"date",attrs:{scope:"col"}},[t._v("Date")]),a("th",{staticClass:"type",attrs:{scope:"col"}},[t._v("Type")]),a("th",{staticClass:"lunch",attrs:{scope:"col"}},[t._v("Lunch")]),a("th",{staticClass:"action",attrs:{scope:"col"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-md-3 col-form-label",attrs:{for:"input_reason"}},[t._v("Reason"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row my-3",attrs:{role:"group"}},[a("label",{staticClass:"col-md-3"}),a("div",{staticClass:"col-md-8 ml-2 d-flex justify-content-end"},[a("input",{staticClass:"btn btn-info borderform mx-2",attrs:{type:"submit",value:"Send"}})])])}],Aa={getTypeOff:Ta,getRetrieveDateStatistic:Fa,createRequestOff:Ua};function Ta(){return f.a.get("/workday/type")}function Fa(){return f.a.get("/workday/retrieve_date")}function Ua(t){return f.a.post("/workday/request/create",t)}var Ba={getTypeOff:za,addTypeOff:Ha,handleActiveTypeoff:Ya,editTypeOff:Va};function za(){return f.a.get("/workday/admin/types")}function Ha(t){return f.a.post("/workday/admin/type/create",t)}function Ya(t){return f.a.patch("/workday/admin/type/edit/".concat(t))}function Va(t,e){return f.a.put("/workday/admin/type/edit/".concat(t),e)}var Wa={getHolidays:Ga,addHoliday:Ja,removeHoliday:Za};function Ga(){return f.a.get("/workday/holidays")}function Ja(t){return f.a.post("/workday/holiday/create",t)}function Za(t){return f.a["delete"]("/workday/holiday/delete/".concat(t))}var Qa={getStatisticUser:Ka};function Ka(){return f.a.get("workday/calendar/user").then((function(t){return Xa(t.data)}))}function Xa(t){return t.map((function(t){return"All day"===t.type?{id:t.id,title:t.request_off.type_off.title,start:t.date,reason:t.request_off.reason,type:t.type,lunch:t.lunch?"Yes":"No"}:{id:t.id,title:t.request_off.type_off.title,start:"Morning"===t.type?t.date+"T08:30:00":t.date+"T13:30:00",end:"Morning"===t.type?t.date+"T12:00:00":t.date+"T17:30:00",reason:t.request_off.reason,type:t.type,lunch:t.lunch?"Yes":"No"}}))}var ts=a("479b"),es={name:"id_leaves",middleware:"authen",components:{flatPickr:Ut.a,FunctionalCalendar:ts["a"]},computed:Object(u["a"])({},Object(d["b"])({showNoti:"sidebar/showNoti"})),data:function(){return{INSURANCE:1,ADD_SUP_DAY_OFF:1,IS_OT:1,days:[],fullPage:!1,selected:"No",checkbox_value:!1,user_name:"",today:(new Date).toISOString().slice(0,10),startday:null,check:!1,endday:null,join_date:null,type_leave:"",virtual_title:"",insurance:"",list_type_off:[],type_insurances:[],reason:"",leave_day_number:"",annual_leave_last_year:0,current_days_off:0,month:2020,error:"",items:[{text:"Homepage",to:{name:"index"}},{text:"Create request",active:!0}]}},head:function(){return{title:"Create request"}},created:function(){var t=this;Aa.getRetrieveDateStatistic().then((function(e){t.current_days_off=e.data.current_days_off,t.annual_leave_last_year=e.data.annual_leave_last_year,t.user_name=e.data.profile.name,t.join_date=new Date(e.data.profile.join_date).toISOString(),t.month=e.data.month,t.get_total_leave_days()}))["catch"]((function(t){error({statusCode:404,message:"Post not found"})})),Aa.getTypeOff().then((function(e){t.list_type_off=[].concat(Object(at["a"])(e.data.filter((function(e){return e.type!==t.INSURANCE}))),Object(at["a"])(e.data.filter((function(e){return e.type===t.INSURANCE}))))}))},beforeUpdate:function(){""!==this.virtual_title&&this.virtual_title!==this.type_leave&&(this.days=[],this.startday=null,this.endday=null,this.virtual_title="")},methods:{disable:function(){var t=this;return""!==this.type_leave?this.list_type_off.find((function(e){return e.id===t.type_leave}))===this.list_type_off.find((function(e){return 0===e.is_ot_days&&e.id===t.type_leave}))?[this.datePicker]:this.list_type_off.find((function(e){return e.id===t.type_leave}))===this.list_type_off.find((function(e){return 1===e.is_ot_days&&e.id===t.type_leave}))?[this.datePickerOT]:[this.datePickerEnable]:[this.datePickerUnEnable]},change_type_off:function(t){var e=this.days.indexOf(this.days.find((function(e){return e.date===t.date})));this.days=[].concat(Object(at["a"])(this.days.slice(0,e)),[Object(u["a"])(Object(u["a"])({},t),{},{type:event.target.value})],Object(at["a"])(this.days.slice(e+1)))},change_lunch:function(t){var e=this.days.indexOf(this.days.find((function(e){return e.date===t.date})));this.days=[].concat(Object(at["a"])(this.days.slice(0,e)),[Object(u["a"])(Object(u["a"])({},t),{},{lunch:!t.lunch})],Object(at["a"])(this.days.slice(e+1)))},remove_day:function(t){var e=this.days.indexOf(this.days.find((function(e){return e.date===t.date})));e>-1&&(this.days=[].concat(Object(at["a"])(this.days.slice(0,e)),Object(at["a"])(this.days.slice(e+1))))},submit:function(t){var e=this,a=[];this.days.forEach((function(t){return a.push(Object(u["a"])(Object(u["a"])({},t),{},{date:t.date.toISOString().slice(0,10)}))}));var s={type_id:this.type_leave,reason:this.reason,date:a};Aa.createRequestOff(s).then((function(t){Aa.getRetrieveDateStatistic().then((function(t){e.current_days_off=t.data.current_days_off,e.annual_leave_last_year=t.data.annual_leave_last_year,e.user_name=t.data.profile.name,e.join_date=new Date(t.data.profile.join_date).toISOString(),e.month=t.data.month,e.get_total_leave_days()})),e.startday="",e.endtday="",e.reason="",e.checkbox_value=!1,e.selected="No",e.type_leave="",e.virtual_title="",e.days=[],e.$nextTick((function(){e.$refs["certification_modal"].hide();var t="Your leave day request was sent successfully";e.$toast.success(t,{position:"top-right"})})),e.$router.push("/leavemanage")}))["catch"]((function(t){var a="Your leave day request was sent error";""!==t.response.data.error&&(a=t.response.data.error),e.$nextTick((function(){e.$refs["certification_modal"].hide(),e.$toast.error(a,{position:"top-right"})}))}))},datePicker:function(t){return 0===t.getDay()||6===t.getDay()},datePickerOT:function(t){return 0!==t.getDay()&&6!==t.getDay()},datePickerUnEnable:function(t){return!0},datePickerEnable:function(t){return!1},get_total_leave_days:function(){(new Date).getMonth()>this.month-1||0===this.annual_leave_last_year?this.leave_day_number="".concat(this.current_days_off," days"):this.leave_day_number="".concat(this.current_days_off+this.annual_leave_last_year," days (").concat(this.current_days_off," days this years + ").concat(this.annual_leave_last_year," days remain last year)")},get_day:function(){var t=this;if(this.days=[],new Date(this.startday).getMonth()<this.month-1&&this.annual_leave_last_year>0?this.leave_day_number="".concat(this.current_days_off+this.annual_leave_last_year," days (").concat(this.current_days_off," days this years + ").concat(this.annual_leave_last_year," days remain last year)"):this.leave_day_number="".concat(this.current_days_off," days"),null!==this.startday&&null!==this.endday){this.virtual_title=this.type_leave;var e=new Date(this.endday),a=new Date(this.startday);if(this.type_leave&&this.list_type_off.find((function(e){return e.id===t.type_leave}))!==this.list_type_off.find((function(e){return e.is_ot_days===t.IS_OT})))for(;a<=e;){if(0!==a.getDay()&&6!==a.getDay()){var s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0);this.days.push({date:s,type:"All day",lunch:!1})}a.setDate(a.getDate()+1)}else for(;a<=e;){if(0===a.getDay()||6===a.getDay()){var n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0);this.days.push({date:n,type:"All day",lunch:!1})}a.setDate(a.getDate()+1)}}},get_number_for_days_off:function(){var t=0;return this.days.forEach((function(e){"All day"===e.type?t+=1:t+=.5})),t},handleClicktoModal:function(t){this.check=!0,this.error="","on"===t&&(0===this.days.length?(this.check=!0,this.error="No days off yet"):this.check=!1),this.check||this.$refs["certification_modal"].show(),this.$refs["certification_modal"].hide()},format_date:function(t){if(t)return bt()(String(t)).format("MMM Do YY")}}},as=es,ss=(a("a745"),Object(p["a"])(as,Pa,La,!1,null,"73aea0d4",null)),ns=ss.exports,rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"my-2 mx-auto calendar-main row"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("vue-cal",{ref:"vuecal",staticClass:"vuecal--blue-theme mt-3 col-9 mx-auto p-0 h-600",attrs:{id:"lunchStatistic",events:t.events,"on-event-click":t.onEventClick,"selected-date":t.selectedDate,"disable-views":["year","years","month","day"],time:!1,"default-view":"week","hide-weekends":"","resize-x":""}}),a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("b-modal",{ref:"mymodal",attrs:{size:"lg","hide-footer":"","hide-header":""},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("div",{staticClass:"d-block text-center text-grey pt-3",class:{"bg-eat":"Eat"===t.selectedEvent.title,"bg-no-eat":"No eat"===t.selectedEvent.title}},[a("h3",[t._v(t._s(t.selectedEvent.title))]),a("h3",[t._v(t._s(t.selectedEvent.content))]),a("h5",[t._v(t._s((t.selectedEvent.name||"").substr(0,10)))]),a("strong",[t._v(t._s((t.selectedEvent.start||"").substr(0,10)))]),a("hr")]),null!==t.selectedEvent.reason&&void 0!==t.selectedEvent.reason?a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},t._l(t.displayedPosts,(function(e){return a("ul",{key:e.index},[a("li",[t._v(t._s(e.name))])])})),0),a("div",{staticClass:"col-6"},t._l(t.displayedPost,(function(e){return a("ul",{key:e.index},[a("li",[t._v(t._s(e.name))])])})),0)]):t._e()])],1)])},is=[],os=a("7fa7"),cs=a.n(os),ls={name:"LunchStatistic",middleware:"authen",components:{VueCal:cs.a},asyncData:function(t){var e=t.$axios;t.params,t.error;return e.get("/lunch/").then((function(t){return{events:t.data}}))["catch"]((function(t){}))},data:function(){return{selectedDate:"",selectedEvent:{},showDialog:!1,events:[],pages:[],perPage:9,page:1,items:[{text:"Homepage",to:{name:"Index"}},{text:"Lunch Management",to:{name:"editLunch"}},{text:"Lunch Calendar",active:!0}]}},head:function(){return{title:"Lunch Calendar"}},computed:{displayedPost:function(){return this.selectedEvent.reason.slice(Math.ceil(this.selectedEvent.reason.length/2),this.selectedEvent.reason.length)},displayedPosts:function(){return this.selectedEvent.reason.slice(0,Math.ceil(this.selectedEvent.reason.length/2))}},methods:{onEventClick:function(t,e){this.selectedEvent=t,this.showDialog=!0,e.stopPropagation()}}},us=ls,ds=(a("3e61"),a("1f8a"),Object(p["a"])(us,rs,is,!1,null,"6f1e8bd2",null)),ms=ds.exports,fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[t._m(0),a("div",{staticClass:" d-flex justify-content-between py-4"},[a("div",{staticClass:"photos-title"},[a("font-awesome-icon",{attrs:{icon:["fas","images"]}}),a("span",[t._v("Photos")])],1),t.profile_id===t.profileId?a("span",{staticClass:"photos-button",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"choose file to upload"}},[a("button",{on:{click:function(e){return t.showModal()}}},[a("font-awesome-icon",{attrs:{icon:["fas","plus"]}}),t._v(" Upload Photos ")],1)]):t._e()]),a("div",{staticClass:"row"},t._l(t.photos,(function(e){return a("div",{key:e.index,staticClass:"col-4"},[a("div",{staticClass:"gallery"},[a("img",{staticClass:"pt-2",attrs:{src:e.photo,alt:""},on:{click:function(a){return t.showImageModal(e.photo)}}})])])})),0),a("b-modal",{ref:"imagemodal",attrs:{size:"xl","hide-footer":"","hide-header":""}},[a("div",{staticClass:"d-block text-center mx-auto px-auto"},[a("img",{staticClass:"modal_image",staticStyle:{"max-width":"-webkit-fill-available"},attrs:{src:t.photo}})])]),a("b-modal",{ref:"my-modal",attrs:{title:"Upload images"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.send()}}},[t._v(" OK ")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.hideModal()}}},[t._v(" Cancel ")])]},proxy:!0}])},[a("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:t.dropzoneOptions},on:{"vdropzone-thumbnail":t.vgetUrl,"@vdropzone-thumbnail":t.thumbnail}})],1)],1)},vs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header text-white bg-info text-left py-4"},[a("h5",[a("strong",[t._v("Photo")])])])}],hs=a("92c3"),ps=a.n(hs),gs=(a("1e3f"),{name:"Photo",components:{vueDropzone:ps.a},props:["profileId"],data:function(){return{profile_id:localStorage.getItem("profile_id"),UploadedUrlFiles:"/images/f.png",photos:[],photo:"",currentId:"",userId:localStorage.getItem("user_id"),admin:localStorage.getItem("is_admin"),items:[{text:"Homepage",to:{name:"Index"}},{text:"Photos",active:!0}],dropzoneOptions:{url:"https://httpbin.org/post",thumbnailWidth:100.05,thumbnailHeight:120,maxFilesize:.5,headers:{"My-Awesome-Header":"header value"},addRemoveLinks:!0}}},computed:{check:function(){var t=localStorage.getItem("user_id"),e=localStorage.getItem("param_id");return!(t!==e&&!this.admin)}},created:function(){this.asyncData()},methods:{asyncData:function(){var t=this;return f.a.get("/user/photo/".concat(this.profileId)).then((function(e){t.photos=e.data,t.currentId=t.$route.params.id}))},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},showImageModal:function(t){this.photo=t,this.$refs.imagemodal.show()},hideImageModal:function(){this.$refs.imagemodal.hide()},vgetUrl:function(t){for(var e=0;e<this.$refs.myVueDropzone.dropzone.files.length;e++)this.UploadedUrlFiles=this.$refs.myVueDropzone.dropzone.files[e].dataURL},template:function(){return'<div class="dz-preview dz-file-preview">\n                    <div class="dz-image">\n                        <div data-dz-thumbnail-bg></div>\n                    </div>\n                    <div class="dz-details">\n                        <div class="dz-size"><span data-dz-size></span></div>\n                        <div class="dz-filename"><span data-dz-name></span></div>\n                    </div>\n                    <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n                    <div class="dz-error-message"><span data-dz-errormessage></span></div>\n                    <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n                    <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n                </div>\n            '},send:function(){var t=this;this.UploadedFiles=this.$refs.myVueDropzone.dropzone.files;var e,a=[],s=new FormData,n=localStorage.getItem("profile_id");for(e in this.$refs.myVueDropzone.dropzone.files)a[e]=new File([this.$refs.myVueDropzone.dropzone.files[e]],this.$refs.myVueDropzone.dropzone.files[e].name),s.append("image",a[e]),s.append("profile",n);f.a.post("user/photo",s).then((function(e){t.hideModal(),f.a.get("user/photo/".concat(t.profileId)).then((function(e){t.photos=e.data}))["catch"]((function(t){}))}))["catch"]((function(t){}))},thumbnail:function(t,e){var a,s,n,r;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),n=t.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),a=0,s=n.length;a<s;a++)r=n[a],r.alt=t.name,r.style.backgroundImage='url("'+e+'")';return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}}},head:function(){return{title:"Photos"}}}),_s=gs,bs=(a("ab96"),Object(p["a"])(_s,fs,vs,!1,null,"441076ac",null)),ws=bs.exports,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-tabs",{attrs:{"fixed-tabs":"","background-color":"indigo"}},t._l(t.tabs,(function(e,s){return a("v-tab",{directives:[{name:"show",rawName:"v-show",value:!e.limit||"true"===t.admin||t.userId===t.currentUser,expression:"!tab.limit || (admin === 'true' || userId === currentUser)"}],key:s,attrs:{to:e.to.concat(t.userId)}},[t._v(" "+t._s(e.text)+" ")])})),1),a("router-view",{attrs:{name:"inner"}})],1)},xs=[],ks={name:"profile",data:function(){return{admin:localStorage.getItem("is_admin"),currentUser:localStorage.getItem("user_id"),userId:"",tabs:[{text:"General",to:"/profile/",limit:!1},{text:"Identity",to:"/profile/identity/",limit:!0},{text:"Contact",to:"/profile/contact/",limit:!0},{text:"Bank account",to:"/profile/bank/",limit:!0},{text:"Insurance",to:"/profile/insurance/",limit:!0},{text:"Education",to:"/profile/education/",limit:!0},{text:"Family members",to:"/profile/family/",limit:!0}],items:[{text:"Homepage",to:{name:"Index"}},{text:"Employee List",to:{name:"EmployeeList"}},{text:"Profile",active:!0}]}},created:function(){this.userId=this.$route.params.id}},Cs=ks,Ds=Object(p["a"])(Cs,ys,xs,!1,null,"3b3c7578",null),js=Ds.exports,Rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"background"},[s("center",[s("h2",{staticClass:"text-white text-justify mt-5",staticStyle:{display:"inline-block"}},[t._v(" Company name ")]),s("img",{staticClass:"icon",attrs:{src:a("474f")}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.password.new===t.password.confirm,expression:"password.new === password.confirm"}]}),s("div",{staticClass:"hero-content text-info"},[s("div",{staticClass:"container",attrs:{id:"loginform"}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-8 col-12"},[s("div",{staticClass:"card o-hidden border-0 shadow-lg my-5"},[s("div",{staticClass:"card-body p-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"p-5"},[t._m(0),s("form",{staticClass:"user text-danger",attrs:{id:"resetPassword",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.checkForm(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkForm(e)}}},[""!==t.error?s("div",[t._v(" "+t._s(t.error)+" ")]):t._e(),s("br"),s("div",{staticClass:"form-group mb-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password.new,expression:"password.new"}],staticClass:"form-control form-control-user borderform",attrs:{id:"new_pass","aria-describedby":"emailHelp",type:"password",placeholder:"New Password"},domProps:{value:t.password.new},on:{input:function(e){e.target.composing||t.$set(t.password,"new",e.target.value)}}})]),s("div",{staticClass:"form-group my-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password.confirm,expression:"password.confirm"}],staticClass:"form-control form-control-user borderform",attrs:{id:"confirm_pass",type:"password",placeholder:"Confirm Password"},domProps:{value:t.password.confirm},on:{input:function(e){e.target.composing||t.$set(t.password,"confirm",e.target.value)}}})]),s("hr",{staticClass:"my-4"}),s("input",{staticClass:"btn btn-info btn-user btn-block borderform mt-4",attrs:{type:"submit",value:"Reset"}})])])])])])])])])])])],1)},Os=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("h1",{staticClass:"h4 text-info mb-4"},[t._v(" Reset Password ")])])}],Is={layout:"empty",middleware:"afterlogin",data:function(){return{password:{new:"",confirm:""},error:""}},head:function(){return{title:"Reset Password"}},methods:{checkForm:function(t){var e=this;if(""===this.password["new"])this.error="New password required";else if(""===this.password.confirm)this.error="Confirm password required";else if(this.password["new"]!==this.password.confirm)this.error="New password and confirm password does not match";else{this.error="";var a=new FormData;a.append("token",this.$route.query.token),a.append("password",this.password["new"]),this.password={new:"",confirm:""},f.a.put("/actions/change_password/",a).then((function(t){e.$router.push("/login")}))["catch"]((function(t){e.error="Token is not valid"}))}}}},Es=Is,$s=(a("651b"),Object(p["a"])(Es,Rs,Os,!1,null,"afe50c86",null)),Ss=$s.exports,qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center ml-5 py-5 my-5"},[a("h1",{staticClass:"display-4 alert alert-success"},[t._v("Success")]),a("p",{staticClass:"lead"},[a("button",{staticClass:"btn pl-2"},[a("router-link",{attrs:{to:"/leavesday"}},[a("font-awesome-icon",{attrs:{icon:["fas","home"]}}),a("b-badge",{attrs:{variant:"light"}},[t._v("Continue To Homepage")])],1)],1)])])])},Ns=[],Ms={name:"SuccessPage",middleware:"authen"},Ps=Ms,Ls=Object(p["a"])(Ps,qs,Ns,!1,null,null,null),As=Ls.exports,Ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-4",attrs:{"data-app":""}},[s("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[s("b-breadcrumb",{attrs:{items:t.items}})],1),s("div",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors)+" ")]),s("div",[t.show?s("div",{staticClass:"row d-flex",on:{dblclick:function(e){return t.showEdit()}}},[s("h2",{style:t.color},[t._v(" "+t._s(t.team_name)+" ")]),s("div",{staticClass:"ml-auto"},[s("router-link",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin||t.team.project_manager===t.user_id,expression:"admin === 'true' || team.project_manager === user_id"}],staticClass:"btn btn-info ml-auto float-right px-4 py-2 mr-3 my-2 text-uppercase font-weight-bold",attrs:{to:"/addMember/"+t.team.id}},[s("font-awesome-icon",{attrs:{icon:["fas","user-plus"]}}),t._v(" Add Member ")],1),s("button",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],staticClass:"btn btn-primary ml-auto float-right px-4 py-2 mr-3 my-2 text-uppercase font-weight-bold",on:{click:function(e){return t.showModalManager()}}},[s("font-awesome-icon",{attrs:{icon:["fas","user-plus"]}}),t._v(" Add Project manager ")],1)],1)]):s("div",[s("h2",{staticClass:"row",style:t.color},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.team_name_update,expression:"team_name_update"}],staticClass:"form-control text-info font-weight-bold col-8",style:[t.borderradius,t.text],attrs:{type:"text"},domProps:{value:t.team_name_update},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTeamName()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel()}],input:function(e){e.target.composing||(t.team_name_update=e.target.value)}}}),s("font-awesome-icon",{staticClass:"text-info col",attrs:{icon:["fas","check-square"]},on:{click:function(e){return t.updateTeamName()}}}),s("font-awesome-icon",{staticClass:"text-danger col",attrs:{icon:["fas","times"]},on:{click:function(e){return t.cancel()}}})],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"No leader"===t.team_leader&&0!==t.rows.length,expression:"team_leader === 'No leader' && rows.length !== 0"}],staticClass:"text-center col-sm-12"},[s("label",{staticClass:"col-sm-12 col-form-label alert alert-danger"},[t._v("This team has no leader")])]),s("div",{staticClass:"table-responsive p-3",attrs:{id:"id_team_table"}},[s("table",{staticClass:"table table-bordered table-striped table-rounded table-fixed"},[s("thead",{},[s("tr",{},[t._m(0),s("th",{attrs:{scope:"col"}},[s("button",{staticClass:"btn text-white text-uppercase font-weight-bold",on:{click:function(e){return t.nameSort()}}},[t._v(" Member Name ")])]),s("th",{attrs:{scope:"col"}},[s("button",{staticClass:"btn text-white text-uppercase font-weight-bold",on:{click:function(e){return t.emailSort()}}},[t._v(" Member Email ")])]),t._m(1),t._m(2),s("th",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin||t.team.project_manager===t.user_id,expression:"admin === 'true' || team.project_manager === user_id"}],attrs:{scope:"col"}},[s("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Action ")])])])]),s("tbody",t._l(t.members,(function(e){return s("tr",{key:e.index},[s("td",{attrs:{scope:"row"}},[null!==e.image?s("img",{staticClass:"img-fluid",attrs:{src:e.image,alt:""}}):t._e(),null===e.image?s("img",{staticClass:"img-fluid",attrs:{src:a("7d5f"),alt:""}}):t._e()]),s("td",{attrs:{scope:"row"}},[s("router-link",{attrs:{to:"/profile/"+e.user,title:"Click to move to Profile page"}},[s("strong",{staticClass:"text-dark"},[t._v(" "+t._s(e.name)+" ")])])],1),s("td",[s("a",{staticClass:"btn",attrs:{href:"mailto:"+e.email,title:"Click to send a mail to : "+e.email}},[t._v(t._s(e.email))])]),s("td",[s("a",{staticClass:"text-dark",attrs:{href:"tel:"+e.phone,title:"Click to make a call to : "+e.phone}},[t._v(t._s(e.phone))])]),s("td",{staticClass:"text-center"},[s("div",{staticClass:"d-flex flex-column"},[e.user===t.team.team_leader?s("div",{staticClass:"text-white  bg-success badge badge-pill h4 p-2",staticStyle:{"font-size":"1em"}},[t._v(" Leader ")]):t._e(),e.user===t.team.project_manager?s("div",{staticClass:"text-white btn-primary badge  badge-pill h4 p-2",staticStyle:{"font-size":"1em"}},[t._v(" Project Manager ")]):t._e(),e.user!==t.team.team_leader&&e.user!==t.team.project_manager?s("div",{staticClass:"mt-2",staticStyle:{"font-size":"1em"}},[t._v(" Member ")]):t._e()])]),s("td",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin||t.team.project_manager===t.user_id,expression:"admin === 'true' || team.project_manager === user_id"}],attrs:{scope:"row"}},[s("div",{staticClass:"mt-2"},[s("button",{staticClass:"btn m-1 btn-sm",class:{"d-none":e.user===t.team.team_leader},attrs:{title:"Click to assign this member to leader"},on:{click:function(a){return t.showModalLead(e)}}},[s("font-awesome-icon",{staticClass:"fa-fw text-success",attrs:{icon:["fas","crown"]}})],1),s("button",{directives:[{name:"show",rawName:"v-show",value:"Leader"!==e.title,expression:"row.title !== 'Leader'"}],staticClass:"btn m-1 btn-sm",attrs:{title:"Click to move this member to another team"},on:{click:function(a){return t.showMoveTeamModal(e)}}},[s("font-awesome-icon",{staticClass:"fa-fw text-info",attrs:{icon:["fas","exchange-alt"]}})],1),s("button",{directives:[{name:"show",rawName:"v-show",value:"Leader"!==e.title,expression:"row.title !== 'Leader'"}],staticClass:"btn m-1 btn-sm",attrs:{title:"Click to remove this member"},on:{click:function(a){return t.showModal(e)}}},[s("font-awesome-icon",{staticClass:"fa-fw text-danger",attrs:{icon:["fas","user-times"]}})],1)])])])})),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.members.length,expression:"members.length === 0"}],staticClass:"text-center col-sm-12"},[s("label",{staticClass:"col-sm-12 col-form-label alert alert-danger"},[t._v("This team has no member")])]),s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-container",{staticClass:"fixed-top"},[s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[s("v-card-title",{staticClass:"headline d-block lighten-2 text-center text-danger"},[s("h3",[t._v("Removing member")]),s("hr")]),s("v-card-text",[s("div",{staticClass:"d-block text-center mb-4"},[t._v(" Do you want to remove "),s("p",{staticClass:"text-danger d-inline"},[t._v(t._s(t.currentUser.name))]),t._v(" from team? ")])]),s("v-card-actions",[s("v-btn",{staticClass:"ml-3 float-left col-3 btn-secondary text-light",attrs:{depressed:"",outlined:""},on:{click:function(e){return t.closeDialog()}}},[t._v(" Cancel ")]),s("v-spacer"),s("v-btn",{staticClass:"mr-3 col-3",attrs:{color:"#43c9d0",depressed:"",dark:""},on:{click:function(e){return t.del()}}},[t._v(" Confirm ")])],1)],1)],1)],1)],1),s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"500"},model:{value:t.dialogMove,callback:function(e){t.dialogMove=e},expression:"dialogMove"}},[s("v-container",{staticClass:"fixed-top"},[s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[s("v-card-title",{staticClass:"headline d-block lighten-2 text-center text-info"},[s("h3",[t._v("Moving member")]),s("hr")]),s("v-card-text",[s("div",{staticClass:"col-sm-12 ml-2"},[s("div",{staticClass:"text-center m-2"},[t._v("Please choose new team:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.new_team,expression:"new_team"}],staticClass:"form-control mb-2 mt-2",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.new_team=e.target.multiple?a:a[0]}}},t._l(t.new_teams,(function(e){return s("option",{key:e.id,attrs:{placeholder:"Teams"},domProps:{value:e.id}},[t._v(" "+t._s(e.team_name)+" ")])})),0)])]),s("v-card-actions",[s("v-btn",{staticClass:"btn ml-3 btn-secondary col-4 text-light",attrs:{depressed:"",outlined:""},on:{click:function(e){return t.closeDialogMove()}}},[t._v(" Cancel ")]),s("v-spacer"),s("v-btn",{staticClass:" mr-3 col-4",attrs:{color:"#43c9d0",depressed:"",dark:""},on:{click:function(e){return t.move()}}},[t._v(" Confirm ")])],1)],1)],1)],1)],1),s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"500"},model:{value:t.dialogLead,callback:function(e){t.dialogLead=e},expression:"dialogLead"}},[s("v-container",{staticClass:"fixed-top"},[s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[s("v-card-title",{staticClass:"headline d-block lighten-2 text-center text-info"},[s("h3",[t._v("Set leader")]),s("hr")]),s("v-card-text",[s("div",{staticClass:"d-block text-center mb-4"},[t._v(" Do you want to set "),s("p",{staticClass:"text-danger d-inline"},[t._v(t._s(t.currentUser.name))]),t._v(" as leader? ")])]),s("v-card-actions",[s("v-btn",{staticClass:"btn ml-3 btn-secondary col-4 text-light",attrs:{depressed:"",outlined:""},on:{click:function(e){return t.hideModalLead()}}},[t._v(" Cancel ")]),s("v-spacer"),s("v-btn",{staticClass:" mr-3 col-4",attrs:{color:"#43c9d0",depressed:"",dark:""},on:{click:function(e){return t.lead()}}},[t._v(" Confirm ")])],1)],1)],1)],1)],1),s("div",{staticClass:"text-center"},[s("v-dialog",{attrs:{width:"500"},model:{value:t.dialogManger,callback:function(e){t.dialogManger=e},expression:"dialogManger"}},[s("v-container",{staticClass:"fixed-top"},[s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[s("v-card-title",{staticClass:"headline d-block lighten-2 text-center text-info"},[s("h3",[t._v("Add project manager")]),s("hr")]),s("v-card-text",[s("div",{staticClass:"col-sm-12 ml-2"},[s("div",{staticClass:"text-center m-2"},[t._v("Please choose a project manager:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.currentPM,expression:"currentPM"}],staticClass:"form-control mb-2 mt-2",attrs:{id:"id_selected_bank_name",type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentPM=e.target.multiple?a:a[0]}}},t._l(t.pms,(function(e){return s("option",{key:e.id,attrs:{placeholder:"Teams"},domProps:{value:e.email}},[t._v(" "+t._s(e.profile.name+" ("+e.email+")")+" ")])})),0)])]),s("v-card-actions",[s("v-btn",{staticClass:"btn ml-3 btn-secondary col-4 text-light",attrs:{outlined:"",depressed:""},on:{click:function(e){return t.hideModalManager()}}},[t._v(" Cancel ")]),s("v-spacer"),s("v-btn",{staticClass:"btn mr-3 btn-info col-4 text-light",attrs:{outlined:""},on:{click:function(e){return t.setManager()}}},[t._v(" Confirm ")])],1)],1)],1)],1)],1)])},Fs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"firstrow",attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Avatar ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Phone ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold text-center"},[t._v(" Team Role ")])])}],Us=(a("466d"),{name:"id_team_table",middleware:"authen",data:function(){return{dialog:!1,dialogLead:!1,dialogMove:!1,dialogManger:!1,date:new Date,show:!0,namesort:!1,namecount:0,emailsort:!1,emailcount:0,subject:"",content:"",member_email:"",member_rows:[],team_id:"",rows:[],team_name:"",team_name_update:"",currentUser:"",admin:localStorage.getItem("is_admin"),user_id:localStorage.getItem("user_id"),items:[{text:"Homepage",to:{name:"Index"}},{text:"Team",to:{name:"Team"}},{text:"Team Info",active:!0}],reciever:null,borderradius:{borderRadius:"1.25rem",textAlign:"center"},color:{color:"#25c9d0",fontSize:"40px",marginLeft:"16px"},text:{fontSize:"20px"},errors:"",team_leader:"",new_teams:[],new_team:"",team:{},members:[],pms:[],currentPM:{}}},methods:{getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.get("".concat(t.$route.params.id));case 2:t.team=e.sent.data,t.members=t.team.employee_list,t.team_name=t.team.team_name;case 5:case"end":return e.stop()}}),e)})))()},sortFunction:function(t){return this.emailsort?this.emailcount%2===0?t.slice().sort((function(t,e){return t.email.localeCompare(e.email)})):t.slice().sort((function(t,e){return e.email.localeCompare(t.email)})):this.namesort?this.namecount%2===0?t.slice().sort((function(t,e){return t.name.localeCompare(e.name)})):t.slice().sort((function(t,e){return e.name.localeCompare(t.name)})):t.slice().sort((function(t,e){return t.title.localeCompare(e.title)}))},nameSort:function(){return this.teamsort=!1,this.emailsort=!1,this.namecount++,this.namesort=!0},emailSort:function(){return this.namesort=!1,this.teamsort=!1,this.emailcount++,this.emailsort=!0},updateTeamName:function(){var t=this;if(0!==this.team_name_update.length){var e=new FormData;return e.append("team_name",this.team_name_update),f.a.put("/team/".concat(this.team_id,"/"),e).then((function(e){return t.show=!t.show,t.errors="",f.a.get("/team/".concat(t.team_id,"/")).then((function(e){t.team_name=e.data.team.team_name,t.rows=e.data.team.employee_list,t.member_rows=e.data.non_members,t.team_id=params.id}))["catch"]((function(t){}))}))["catch"]((function(t){}))}this.team_name_update=this.team_name,this.errors="please enter your team name"},showEdit:function(){this.team_name_update=this.team_name,this.show=!this.show,this.errors=""},cancel:function(){this.errors="",this.show=!this.show},showModal:function(t){this.currentUser=t,this.dialog=!0,this.errors=""},closeDialog:function(){this.currentUser="",this.dialog=!1},showModalManager:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ee.getAllProjectManager();case 2:a=e.sent,t.pms=a.data,t.errors="",t.dialogManger=!0;case 6:case"end":return e.stop()}}),e)})))()},hideModalManager:function(){this.currentUser="",this.dialogManger=!1},setManager:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("email",t.currentPM),e.next=4,me.setManager(t.$route.params.id,a);case 4:s=e.sent,s.data&&s.data.Success?(t.$toast.success("Success"),n=t.members.indexOf(t.currentUser),t.$set(t.members,n,t.currentUser)):t.$toast.error("Error"),t.getData(),t.hideModalManager();case 8:case"end":return e.stop()}}),e)})))()},showMoveTeamModal:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.dialogMove=!0,a.next=3,me.getNewTeams(t.user);case 3:s=a.sent,e.new_teams=s.data,e.errors="",e.currentUser=t;case 7:case"end":return a.stop()}}),a)})))()},hideModal:function(){this.$refs.mymodal.hide()},submit:function(){var t=this,e=new FormData,a=this.team_id;e.append("email",this.member_email),f.a.put("/team/".concat(a,"/add_member/"),e).then((function(e){return f.a.get("/team/".concat(a,"/")).then((function(e){t.rows=e.data.team.employee_list}))["catch"]((function(t){}))}))["catch"]((function(t){alert(t)}))},showModalLead:function(t){this.currentUser=t,this.dialogLead=!0},hideModalLead:function(){this.currentUser=!1,this.dialogLead=!1},lead:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,s=t.$route.params.id,t.show=!0,t.errors="",a.append("email",t.currentUser.email),e.next=7,me.setLeader(s,a);case 7:if(n=e.sent,!n.data||!n.data.Success){e.next=14;break}return t.$toast.success("Success"),e.next=12,t.getData();case 12:e.next=15;break;case 14:t.$toast.error("Error");case 15:t.currentUser="",t.dialogLead=!1;case 17:case"end":return e.stop()}}),e)})))()},del:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,t.errors="",a.append("email",t.currentUser.email),e.next=5,me.removeMember(t.$route.params.id,a);case 5:s=e.sent,s.data&&s.data.Success?(n=t.members.indexOf(t.currentUser),t.members.splice(n,1),t.$toast.success("Success")):t.$toast.error("Error"),t.currentUser="",t.dialog=!1;case 9:case"end":return e.stop()}}),e)})))()},move:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("current_team_id",t.$route.params.id),a.append("user_id",t.currentUser.user),a.append("new_team_id",t.new_team),e.next=6,me.moveTeam(a);case 6:s=e.sent,s.data&&s.data.Success?(n=t.members.indexOf(t.currentUser),t.members.splice(n,1),t.$toast.success("Success")):t.$toast.error("Error"),t.dialogMove=!1;case 9:case"end":return e.stop()}}),e)})))()},closeDialogMove:function(){this.dialogMove=!1,this.currentUser=""}},computed:{filter:function(){var t=this;return this.rows.filter((function(e){return e.email.match(t.mailTo)}))}},created:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:case"end":return e.stop()}}),e)})))()}}),Bs=Us,zs=(a("262d"),Object(p["a"])(Bs,Ts,Fs,!1,null,"6eac71ae",null)),Hs=zs.exports,Ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-4"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),t.checked?t._e():a("div",{staticClass:"mt-5 col-6 mx-auto"},[t._m(0),a("div",{staticClass:"d-flex justify-content-center card-body my-auto py-5"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],staticClass:"btn btn-info float-right px-4 py-2 mr-4 text-uppercase font-weight-bold",attrs:{to:"/createteam/"}},[a("font-awesome-icon",{attrs:{icon:["fas","user-friends"]}}),t._v(" Create Team ")],1)],1)]),t.checked?a("div",{staticClass:"table-responsive p-3",attrs:{id:"id_team_table"}},[a("div",{staticClass:"row"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],staticClass:"btn btn-info ml-auto float-right px-4 py-2 mr-3 my-2 text-uppercase font-weight-bold",attrs:{to:"/createteam/"}},[a("font-awesome-icon",{attrs:{icon:["fas","user-friends"]}}),t._v(" Create Team ")],1)],1),a("table",{staticClass:" table table-bordered table-striped table-rounded table-fixed mt-3"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white text-uppercase font-weight-bold",on:{click:function(e){return t.nameSort()}}},[t._v(" Team Name ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white text-uppercase font-weight-bold",on:{click:function(e){return t.emailSort()}}},[t._v(" Team Email ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white text-uppercase font-weight-bold",on:{click:function(e){return t.leaderSort()}}},[t._v(" Team Leader ")])]),a("th",{attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white text-uppercase font-weight-bold",on:{click:function(e){return t.quantitySort()}}},[t._v(" Quantity ")])]),a("th",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white text-uppercase font-weight-bold"},[t._v(" Action ")])])])]),a("tbody",t._l(t.sortTermFunction(t.rows),(function(e){return a("tr",{key:e.index},[a("td",[a("router-link",{staticClass:"font-weight-bold text-center d-block w-100 py-2 badge my-2 badge-pill",class:{"badge-light text-dark":e.id%9===0,"badge-primary text-white":e.id%9===1,"badge-danger text-white":e.id%9===2,"badge-secondary text-white":e.id%9===3,"badge-success text-white":e.id%9===4,"badge-dark text-white":e.id%9===5,"badge-info text-white":e.id%9===6,"badge-warning text-dark":e.id%9===7,"badge-success text-dark":e.id%9===8},staticStyle:{"font-size":"1em"},attrs:{to:"/team/"+e.id}},[t._v(" "+t._s(e.team_name)+" ")])],1),a("td",[a("a",{staticClass:"btn",attrs:{href:"mailto:"+e.team_email,title:"Click to send mail"}},[t._v(t._s(e.team_email))])]),a("td",[a("router-link",{class:{"text-danger":"No leader"===e.leader_name},attrs:{to:"/team/"+e.id,title:"Click to move to another page"}},[t._v(" "+t._s(e.leader_name)+" ")])],1),a("td",[a("router-link",{attrs:{to:"/team/"+e.id,title:"Click to move to another page"}},[t._v(" "+t._s(e.employee_number)+" ")])],1),a("td",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],attrs:{scope:"row"}},[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{title:"Click to show remove box"},on:{click:function(a){return t.showModal(e.id,e.team_name)}}},[t._v(" Remove ")])])])})),0)]),a("b-modal",{ref:"mymodal",attrs:{"hide-footer":"","hide-header":""}},[a("div",{staticClass:"d-block text-center text-danger"},[a("h3",[t._v("Remove team")]),a("hr")]),a("div",{staticClass:"d-block text-center mb-4"},[t._v(" Do you want to remove team "),a("p",{staticClass:"text-danger d-inline"},[t._v(t._s(t.currentteamname))])]),a("div",{staticClass:"row"},[a("b-button",{staticClass:"mt-3 mx-auto col-4",attrs:{variant:"danger",block:""},on:{click:t.del}},[t._v("Remove")]),a("b-button",{staticClass:"mt-3 mx-auto col-4 bg-secondary text-light",attrs:{variant:"outline",block:""},on:{click:t.hideModal}},[t._v("Cancel")])],1)])],1):t._e()])},Vs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-info"},[a("h2",{staticClass:"text-white text-center"},[t._v("There's no team yet")])])}],Ws={name:"team_table",middleware:"authen",data:function(){return{rows:[],leadersort:!1,namesort:!1,emailsort:!1,quantitysort:!1,leadercount:0,namecount:0,emailcount:0,quantitycount:0,admin:localStorage.getItem("is_admin"),profile_id:localStorage.getItem("profile_id"),items:[{text:"Homepage",to:{name:"Index"}},{text:"Team",active:!0}],currentid:"",currentteamname:"",reciever:null,borderradius:{borderRadius:"1.25rem",textAlign:"center"},color:{color:"#25c9d0",fontSize:"40px",marginLeft:"16px"},text:{fontSize:"20px"},errors:"",subject:"",content:""}},head:function(){return{title:"Team"}},created:function(){this.asyncData(),this.sortTermFunction(this.rows)},computed:{splitedList:function(){var t=Object(at["a"])(this.list);return t.map((function(t){return t.codes===t.codes.split("+")})),t},checked:function(){return!!(null!==this.rows&void 0!==this.rows&0!==this.rows.length)}},methods:{asyncData:function(){var t=this;return f.a.get("/team/").then((function(e){t.rows=e.data}))},showModal:function(t,e){this.currentid=t,this.currentteamname=e,this.$refs.mymodal.show()},hideModal:function(){this.$refs.mymodal.hide()},del:function(){var t=this;return f.a["delete"]("/team/".concat(this.currentid)).then((function(e){return t.$refs.mymodal.hide(),f.a.get("team").then((function(e){t.rows=e.data}))["catch"]((function(t){}))}))["catch"]((function(t){alert(t)}))},sortTermFunction:function(t){return this.leadersort?this.leadercount%2===0?t.slice().sort((function(t,e){return t.leader_name.localeCompare(e.leader_name)})):t.slice().sort((function(t,e){return e.leader_name.localeCompare(t.leader_name)})):this.emailsort?this.emailcount%2===0?t.slice().sort((function(t,e){return t.team_email.localeCompare(e.team_email)})):t.slice().sort((function(t,e){return e.team_email.localeCompare(t.team_email)})):this.quantitysort?this.quantitycount%2===0?t.slice().sort((function(t,e){return t.employee_number-e.employee_number})):t.slice().sort((function(t,e){return e.employee_number-t.employee_number})):this.namesort?this.namecount%2===0?t.slice().sort((function(t,e){return t.team_name.localeCompare(e.team_name)})):t.slice().sort((function(t,e){return e.team_name.localeCompare(t.team_name)})):t.slice().sort((function(t,e){return e.active-t.active}))},leaderSort:function(){return this.namesort=!1,this.emailsort=!1,this.quantitysort=!1,this.leadercount++,this.leadersort=!0},nameSort:function(){return this.leadersort=!1,this.emailsort=!1,this.quantitysort=!1,this.namecount++,this.namesort=!0},emailSort:function(){return this.namesort=!1,this.leadersort=!1,this.quantitysort=!1,this.emailcount++,this.emailsort=!0},quantitySort:function(){return this.namesort=!1,this.leadersort=!1,this.emailsort=!1,this.quantitycount++,this.quantitysort=!0}}},Gs=Ws,Js=(a("a417"),Object(p["a"])(Gs,Ys,Vs,!1,null,"20da54c4",null)),Zs=Js.exports,Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-2 ma-auto calendar-main-content"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-container",[a("v-row",[a("v-spacer"),a("router-link",{staticClass:"btn btn-info float-right pt-2 text-uppercase font-weight-bold",attrs:{to:"/leavedayuserstatistic"}},[a("font-awesome-icon",{attrs:{icon:["fas","chart-bar"]}}),t._v(" Statistic ")],1)],1)],1),a("v-container",[a("FullCalendar",{attrs:{options:t.calendarOptions}})],1),a("b-modal",{ref:"mymodal",attrs:{"hide-footer":"","hide-header":""},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("div",{staticClass:"d-block text-center text-red pt-3",class:{"bg-morning":"Morning"===t.selectedEvent.type,"bg-afternoon":"Afternoon"===t.selectedEvent.type,"bg-full":"All day"===t.selectedEvent.type}},[a("h3",[t._v(t._s(t.selectedEvent.title))]),a("span",[t._v(t._s(t.selectedEvent.type))])])])],1)},Ks=[],Xs=a("3d20"),tn=a.n(Xs),en={name:"UserCalendar",middleware:"authen",components:{FullCalendar:vt["a"]},created:function(){var t=this;Qa.getStatisticUser().then((function(e){t.calendarOptions.events=e}))["catch"]((function(t){error({statusCode:404,message:"Post not found"})}))},data:function(){return{showDialog:!1,calendarOptions:{plugins:[ht["b"],pt["a"],gt["a"]],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},contentHeight:800,events:[],eventClick:this.handleEventClick},selectedEvent:{},title:"",content:"",events:[],items:[{text:"Homepage",to:{name:"Index"}},{text:"User Calendar",active:!0}]}},head:function(){return{title:"User Calendar"}},methods:{handleEventClick:function(t){this.selectedEvent=this.calendarOptions.events.find((function(e){return e.id===t.event.id})),tn.a.fire({title:this.selectedEvent.title,html:"<span>".concat(this.selectedEvent.start,"(").concat(this.selectedEvent.type,")</span> </br>")+'<p class="mt-3">'.concat(this.selectedEvent.reason?this.selectedEvent.reason:"No reason","</p>")+'<p class="mt-3">Lunch: '.concat(this.selectedEvent.lunch,"</p>")})},hideModal:function(){this.$refs.mymodal.hide()}}},an=en,sn=(a("1753"),Object(p["a"])(an,Qs,Ks,!1,null,"26b8d702",null)),nn=sn.exports,rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"col-9 mx-auto m-1"},[a("div",{staticClass:"my-2 btn-group p-1 d-flex justify-content-between",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-info py-2 text-uppercase font-weight-bold btn-sm text-truncate rounded",attrs:{type:"button",title:"Edit specific days"},on:{click:function(e){return t.Edit_Day_1()}}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-alt"]}}),t._v(" Schedule ")],1),a("button",{staticClass:"btn btn-info py-2 text-uppercase font-weight-bold btn-sm text-truncate rounded ml-2",attrs:{type:"button",title:"Edit specific days"},on:{click:t.Edit_Day}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-day"]}}),t._v(" Edit specific days ")],1),a("button",{staticClass:"btn btn-success  py-2 text-uppercase font-weight-bold border btn-sm text-truncate ml-2 rounded",attrs:{type:"button",title:"Add whole month"},on:{click:t.Edit_Month}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-plus"]}}),t._v(" Add whole month ")],1),a("button",{staticClass:"btn btn-danger py-2 text-uppercase font-weight-bold border btn-sm text-truncate ml-2 rounded",attrs:{type:"button",title:"Remove whole month"},on:{click:t.Remove_Month}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","calendar-minus"]}}),t._v(" Remove whole month ")],1)])]),a("div",{staticClass:"calendar-main"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1)]),a("vue-cal",{ref:"vuecal",staticClass:"vuecal--blue-theme col-9 mx-auto p-0 h-600 rounded",attrs:{id:"userLunchStatistic","disable-views":["year","years","day","week"],time:!1,events:t.events,"selected-date":t.selectedDate,"default-view":"month","hide-weekends":"","resize-x":""},on:{"cell-click":t.newEventCreation},scopedSlots:t._u([{key:"cell-content",fn:function(){},proxy:!0}])}),a("b-modal",{ref:"update_lunch_modal_by_days",attrs:{"ok-title":"Confirm","ok-variant":"info"},on:{ok:t.Request_Lunch_Day}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("b-badge",{staticClass:"p-3 w-100"},[t._v(" Please select the number of days you wanna choose ")])],1),a("div",{staticClass:"col-sm-12 mx-auto row my-4"},[a("div",{staticClass:"col-md-6 d-flex justify-content-between py-2"},[a("strong",{staticClass:"pt-2"},[t._v(" From: ")]),a("div",{staticClass:"md-form col-9"},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",minDate:t.today,locale:{firstDayOfWeek:1},disable:[t.datePicker]},placeholder:"Select date",name:"date",required:""},model:{value:t.startday,callback:function(e){t.startday=e},expression:"startday"}})],1)]),a("div",{staticClass:"col-md-6 d-flex justify-content-between py-2"},[a("strong",{staticClass:"pt-2"},[t._v(" To: ")]),a("div",{staticClass:"md-form col-9"},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",minDate:t.endDate(),locale:{firstDayOfWeek:1},disable:[t.datePicker]},placeholder:"Select date",name:"date",required:""},model:{value:t.endday,callback:function(e){t.endday=e},expression:"endday"}})],1)])]),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"mx-3 p-2 text-center",attrs:{label:"Individual radios"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"m-2",attrs:{type:"radio",value:"Add",name:"lunch",required:""},domProps:{checked:t._q(t.selected,"Add")},on:{change:function(e){t.selected="Add"}}}),a("label",{staticClass:"text-muted",attrs:{for:"selected"}},[t._v("Add")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"mx-2",attrs:{type:"radio",value:"Remove",name:"lunch"},domProps:{checked:t._q(t.selected,"Remove")},on:{change:function(e){t.selected="Remove"}}}),a("label",{staticClass:"text-muted",attrs:{for:"selected"}},[t._v("Remove")])])])])],2),a("b-modal",{ref:"lunchdaymodal",attrs:{"hide-footer":"","hide-header":""}},[a("div",{staticClass:"main-content text-center"},[a("h3",{staticClass:"my-auto text-info font-weight-bold"},[t._v(" Lunch ")]),a("label",{staticClass:"switch my-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedActive,expression:"checkedActive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checkedActive)?t._i(t.checkedActive,null)>-1:t.checkedActive},on:{change:[function(e){var a=t.checkedActive,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.checkedActive=a.concat([r])):i>-1&&(t.checkedActive=a.slice(0,i).concat(a.slice(i+1)))}else t.checkedActive=n},function(e){return t.change_status(t.checkedActive)}]}}),a("span",{staticClass:"slider round"})])]),a("div",{staticClass:"d-grid form-check header main-content mt-2 ml-4"},[t._l(t.days,(function(e){return a("span",{directives:[{name:"show",rawName:"v-show",value:t.checkedActive,expression:"checkedActive"}],key:e.id,staticClass:"mt-3"},[a("label",{staticClass:"container col-2 row"},[t._v(" "+t._s(e.name)+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_lunch_day,expression:"selected_lunch_day"}],staticClass:"form-check-input",attrs:{id:e.id,type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selected_lunch_day)?t._i(t.selected_lunch_day,e.id)>-1:t.selected_lunch_day},on:{change:function(a){var s=t.selected_lunch_day,n=a.target,r=!!n.checked;if(Array.isArray(s)){var i=e.id,o=t._i(s,i);n.checked?o<0&&(t.selected_lunch_day=s.concat([i])):o>-1&&(t.selected_lunch_day=s.slice(0,o).concat(s.slice(o+1)))}else t.selected_lunch_day=r}}}),a("span",{staticClass:"checkmark"})])])})),a("span",{staticClass:"text-danger text-center",attrs:{else:""}},[t._v(t._s(t.error))])],2),a("hr"),a("div",{staticClass:"d-grid form-check header main-content ml-4"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.checkedActive,expression:"checkedActive"}],staticClass:"mt-3"},[a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between"},[a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),t._v(" Veggie "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vegetarian,expression:"vegetarian"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.vegetarian)?t._i(t.vegetarian,null)>-1:t.vegetarian},on:{change:function(e){var a=t.vegetarian,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.vegetarian=a.concat([r])):i>-1&&(t.vegetarian=a.slice(0,i).concat(a.slice(i+1)))}else t.vegetarian=n}}}),a("span",{staticClass:"checkmark",attrs:{id:"veggiecheckmark"}})],1)]),a("span",{staticClass:"text-danger text-center",attrs:{else:""}},[t._v(t._s(t.error))])]),a("div",{staticClass:"footer text-center"},[a("button",{staticClass:"btn btn-info text-center mt-3",on:{click:function(e){return t.sendDate()}}},[t._v(" Save ")])])])],1)},on=[],cn=localStorage.getItem("profile_id"),ln={middleware:"authen",components:{VueCal:cs.a,flatPickr:Ut.a},data:function(){return{get_profile_lunch:{id:"",lunch:!1,lunch_weekly:[]},checkedActive:!0,selected_lunch_day:[],endday:(new Date).toISOString().slice(0,10),startday:(new Date).toISOString().slice(0,10),today:(new Date).toISOString().slice(0,10),selectedDate:"",selectedEvent:{},showDialog:!1,events:[],selected:"Add",items:[{text:"Homepage",to:{name:"index"}},{text:"User Lunch Statistic",active:!0}],days:[{id:"0",name:"Monday"},{id:"1",name:"Tuesday"},{id:"2",name:"Wednesday"},{id:"3",name:"Thursday"},{id:"4",name:"Friday"}],error:"",vegetarian:!1}},asyncData:function(t){var e=t.$axios;t.params,t.error;return e.get("/lunch/".concat(cn)).then((function(t){return{events:t.data}}))["catch"]((function(t){}))},head:function(){return{title:"User Lunch"}},methods:{Edit_Day_1:function(){var t=this;return this.$refs.lunchdaymodal.show(),this.$axios.get("/profile/".concat(cn,"/get_profile_lunch/")).then((function(e){t.vegetarian=e.data.veggie,t.checkedActive=e.data.lunch,t.selected_lunch_day=[],t.get_profile_lunch.lunch_weekly=e.data.lunch_weekly,null!==t.get_profile_lunch.lunch_weekly?t.get_profile_lunch.lunch_weekly=t.get_profile_lunch.lunch_weekly.split(","):(t.get_profile_lunch.lunch_weekly=[t.get_profile_lunch.lunch_weekly],null===t.get_profile_lunch.lunch_weekly[0]&&(t.checkedActive=!1)),t.selected_lunch_day=t.get_profile_lunch.lunch_weekly}))},endDate:function(){return null===this.startday?this.today:this.startday},datePicker:function(t){return 0===t.getDay()||6===t.getDay()},getdata:function(t){var e=this;return this.$axios.get("/lunch/".concat(cn)).then((function(a){e.events=a.data,e.$nextTick((function(){e.makeToast("Lunch",t,"success")}))}))["catch"]((function(t){}))},Edit_Day:function(){this.$refs.update_lunch_modal_by_days.show()},newEventCreation:function(t){var e=this,a=t.toLocaleDateString().split("/"),s=a[2]+"-"+a[0]+"-"+a[1],n=new FormData;n.append("profile",cn),n.append("date",s),this.$axios.post("/lunch/".concat(cn,"/update_lunch_user/"),n).then((function(t){var a=t.data.response;void 0===a&&(a="Removed successfully"),e.getdata(a)}))["catch"]((function(t){e.makeToast("Failed","Lunch order time is over","danger")}))},makeToast:function(t,e,a){this.$bvToast.toast(e,{title:t,variant:a,autoHideDelay:1e3})},Edit_Month:function(){var t=this,e=new FormData;return e.append("date",this.startday),this.$axios.post("/lunch/".concat(cn,"/create_user_lunch_month/"),e).then((function(e){t.getdata("Add month successfully"),t.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500)}))["catch"]((function(e){t.makeToast("Lunch time order is over","Lunch","danger")}))},Remove_Month:function(){var t=this;return this.$axios["delete"]("/lunch/".concat(cn,"/remove_user_lunch_month/"),{data:{date:this.startday}}).then((function(e){t.getdata("Remove month successfully"),t.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500)}))},Request_Lunch_Day:function(){var t=this,e=new FormData;return e.append("start_date",this.startday),e.append("end_date",this.endday),e.append("type",this.selected),this.$axios.post("/lunch/".concat(cn,"/update_user_lunch_by_days/"),e).then((function(e){t.getdata("Update successfully"),t.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500)}))["catch"]((function(e){t.makeToast("Error","danger","Lunch")}))},change_status:function(t){if(!1===t)this.selected=null,this.disable_status=!0;else{this.error="",this.selected=[];for(var e=0;e<this.days.length;e++)this.selected.push(this.days[e].id)}},sendDate:function(){var t=this;if(this.checkError()){var e=new FormData;return e.append("check",this.checkedActive),e.append("lunch_weekly",this.selected_lunch_day),e.append("veggie",this.vegetarian),this.$axios.put("/profile/".concat(cn,"/update_lunch/"),e).then((function(e){t.makeToast("Lunch","Success","success"),t.getdata(),t.$refs.lunchdaymodal.hide()}))}},checkError:function(){return this.error="",!0!==this.checkedActive||0!==this.selected_lunch_day.length||(this.error="No lunch has been found",!1)}}},un=ln,dn=(a("691f"),a("c74e"),Object(p["a"])(un,rn,on,!1,null,"6beca3b7",null)),mn=dn.exports,fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{staticClass:"my-5"},[a("div",{staticClass:"table-responsive mx-auto p-auto col-md-4"},[a("div",{staticClass:"text-center text-danger"},[t._v(t._s(t.error))]),a("h2",{staticClass:"card-header text-white bg-info text-left py-4"},[t._v(" Verify account ")]),a("form",{staticClass:"p-4 text-info text-center",attrs:{id:"id_change_password",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.button(e)}}},[a("div",[a("h3",[t._v("Welcome to our company!")])]),a("div",{staticClass:"row mt-3"},[a("label",{staticClass:"font-weight-bold col-md-3"},[t._v("Password: ")]),a("v-text-field",{staticClass:"col-md-7",attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",outlined:"",dense:"",rules:[t.rules.required,t.rules.min]},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("br"),a("button",{staticClass:"btn btn-info font-weight-bold py-2",attrs:{type:"submit"}},[t._v(" Verify "),a("font-awesome-icon",{attrs:{icon:["fas","user-check"]}})],1)])])])])},vn=[],hn=a("a78e"),pn={name:"id_verify",components:{Index:Y},layout:"empty",data:function(){return{password:"",show:!1,error:"",check:!1,rules:{required:function(t){return!!t||"Required."},min:function(t){return t.length>=6||"Min 6 characters"}}}},head:function(){return{title:"Verify"}},created:function(){hn.get("token")&&hn.remove("token")},methods:{button:function(t){var e=this,a=new FormData;a.append("token",this.$route.query.token),this.password?(a.append("password",this.password),this.check=!0):this.error="Please enter password",this.check&&f.a.post("/login/verify/",a).then((function(t){e.$router.push("/")}))}}},gn=pn,_n=(a("75fc"),Object(p["a"])(gn,fn,vn,!1,null,"a4a8810a",null)),bn=_n.exports,wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content d-flex justify-content-center"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("div",{staticClass:"table-responsive p-3 col-md-7"},[a("h2",{staticClass:"card-header text-white bg-info text-left py-4"},[t._v(" Create New Provider ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error.length>0,expression:"error.length > 0"}],staticClass:"text-danger pb-2 pl-4 pt-2 text-center"},[a("span",[t._v(t._s(t.error))])]),a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"id_create_form",method:"POST"}},[a("div",{staticClass:"form-group row"},[t._m(0),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{id:"id_input_email",type:"text",placeholder:"Name"},domProps:{value:t.name},on:{change:function(e){return t.clearError(t.name)},input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(1),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{id:"id_input_team_name",type:"number",placeholder:"Phone Number"},domProps:{value:t.phone},on:{change:function(e){return t.clearError(t.phone)},input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(2),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{id:"id_input_team_name",type:"text",placeholder:"Address"},domProps:{value:t.address},on:{change:function(e){return t.clearError(t.address)},input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(3),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{id:"id_input_team_name",type:"text",placeholder:"Description"},domProps:{value:t.description},on:{change:function(e){return t.clearError(t.description)},input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(4),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],staticClass:"form-control",attrs:{id:"id_input_team_name",type:"text",placeholder:"Link"},domProps:{value:t.link},on:{change:function(e){return t.clearError(t.link)},input:function(e){e.target.composing||(t.link=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(5),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.budget,expression:"budget"}],staticClass:"form-control",attrs:{id:"id_input_team_name",type:"number",placeholder:"000"},domProps:{value:t.budget},on:{change:function(e){return t.clearError(t.budget)},input:function(e){e.target.composing||(t.budget=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[t._m(6),a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between"},[a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.vegetarian,expression:"vegetarian"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.vegetarian)?t._i(t.vegetarian,null)>-1:t.vegetarian},on:{change:function(e){var a=t.vegetarian,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.vegetarian=a.concat([r])):i>-1&&(t.vegetarian=a.slice(0,i).concat(a.slice(i+1)))}else t.vegetarian=n}}}),a("span",{staticClass:"checkmark",attrs:{id:"veggiecheckmark"}})],1)]),a("br"),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-11 d-flex flex-row-reverse"},[a("button",{staticClass:"btn btn-info",on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("Create")])])])])])])},yn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputemailteam"}},[t._v("Name"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputnameteam"}},[t._v("Phone"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputnameteam"}},[t._v("Address"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputnameteam"}},[t._v("Description"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputnameteam"}},[t._v("Link Web"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputnameteam"}},[t._v("Budget"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputnameteam"}},[t._v("Vegetarian"),a("sup",{staticClass:"text-danger"},[t._v(" *")])])}],xn=(a("a4d3"),a("e01a"),a("9911"),function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/create"),t);return e}},{key:"get",value:function(){var t=this.request({auth:!0}).get("/".concat(this.entity));return t}},{key:"update",value:function(t){var e=t.data,a=t.id,s=this.request({auth:!0}).put("/".concat(this.entity,"/action/").concat(a),e);return s}},{key:"delete",value:function(t){var e=this.request({auth:!0})["delete"]("/".concat(this.entity,"/action/").concat(t));return e}},{key:"entity",get:function(){return"provider"}}]),a}(dt["a"])),kn=new xn,Cn={name:"CreateProvider",middleware:"authen",data:function(){return{error:"",name:"",address:"",phone:"",budget:"",vegetarian:!1,description:"",link:"",items:[{text:"Homepage",to:{name:"Index"}},{text:"Provider",to:{name:"manage-provider"}}]}},head:function(){return{title:"Create new provider"}},methods:{submit:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==t.checkForm()){e.next=6;break}return a={name:t.name,phone:t.phone,address:t.address,link:t.link,description:t.description,budget:t.budget,has_vegetarian:t.vegetarian},e.next=4,kn.create(a);case 4:s=e.sent,s&&s.data&&(n="Provider have just created successfully!",t.$router.push({path:"/manage-provider"}),t.$toast.success(n,{position:"top-right"}));case 6:case"end":return e.stop()}}),e)})))()},checkForm:function(){return this.error="",""===this.name?(this.error="Name is required",!1):""===this.phone?(this.error="Phone is required",!1):""===this.address?(this.error="Address is required",!1):""===this.description?(this.error="description is required",!1):""===this.link?(this.error="link is required",!1):""!==this.budget||(this.error="budget is required",!1)},clearError:function(t){return 0===t.length||(this.error=[],this.error)}}},Dn=Cn,jn=(a("5540"),Object(p["a"])(Dn,wn,yn,!1,null,"64b10d78",null)),Rn=jn.exports,On=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-5 mr-5",attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-card",{staticClass:"m-4",attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped",attrs:{headers:t.headers,items:t.desserts,"hide-default-footer":"",page:t.page,"items-per-page":t.itemsPerPage,search:t.search},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"m-3",attrs:{flat:"",color:"white"}},[a("h2",[t._v("Manage Provider")]),a("v-spacer"),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-dialog",{attrs:{"max-width":"650px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"#43c9d0",dark:"",depressed:""}},"v-btn",n,!1),s),[t._v("Add New Provider ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("validation-observer",{ref:"observer",attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(){return[a("validation-provider",{attrs:{name:"Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-row",[a("v-text-field",{attrs:{"error-messages":s,required:"",label:"Name*"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)]}}])}),a("validation-provider",{attrs:{name:"Phone",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-row",[a("v-text-field",{attrs:{type:"number","error-messages":s,label:"Phone*"},model:{value:t.editedItem.phone,callback:function(e){t.$set(t.editedItem,"phone",e)},expression:"editedItem.phone"}})],1)]}}])}),a("validation-provider",{attrs:{name:"Budget",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-row",[a("v-text-field",{attrs:{type:"number","error-messages":s,label:"Budget*"},model:{value:t.editedItem.budget,callback:function(e){t.$set(t.editedItem,"budget",e)},expression:"editedItem.budget"}})],1)]}}])}),a("validation-provider",{attrs:{name:"Address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-row",[a("v-text-field",{attrs:{"error-messages":s,label:"Address*"},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1)]}}])}),a("validation-provider",{attrs:{name:"Link",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("v-row",[a("v-text-field",{attrs:{"error-messages":s,label:"Link*"},model:{value:t.editedItem.link,callback:function(e){t.$set(t.editedItem,"link",e)},expression:"editedItem.link"}})],1)]}}])}),a("v-row",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedItem.has_vegetarian,expression:"editedItem.has_vegetarian"}],staticClass:"mr-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.editedItem.has_vegetarian)?t._i(t.editedItem.has_vegetarian,null)>-1:t.editedItem.has_vegetarian},on:{change:function(e){var a=t.editedItem.has_vegetarian,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.editedItem,"has_vegetarian",a.concat([r])):i>-1&&t.$set(t.editedItem,"has_vegetarian",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.editedItem,"has_vegetarian",n)}}}),a("label",{staticClass:"font-weight-bold"},[a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),t._v(" Has Veggie ")],1)])]},proxy:!0}])})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"danger",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{depressed:"",color:"#43c9d0",dark:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.has_vegetarian",fn:function(e){var s=e.item;return[s.has_vegetarian?a("td",[t._v("Yes")]):a("td",[t._v("No")])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{title:"Edit this",small:"",color:"green darken-2"},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{title:"Remove this",small:"",color:"red darken-2"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"item.lunch",fn:function(e){var s=e.item;return[a("v-icon",{attrs:{title:"Remove this",small:"",color:"teal darken-2"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-plus ")])]}},{key:"item.budget",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.budget),dark:""}},[t._v(t._s(s.budget))])]}}])})],1),a("v-pagination",{attrs:{length:t.pageCount,color:"#43c9d0"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)},In=[];Object(Fe["d"])("eager"),Object(Fe["c"])("required",Object(u["a"])(Object(u["a"])({},Te["c"]),{},{message:"{_field_} can not be empty"})),Object(Fe["c"])("max",Object(u["a"])(Object(u["a"])({},Te["b"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Fe["c"])("email",Object(u["a"])(Object(u["a"])({},Te["a"]),{},{message:"Email must be valid"}));var En={middleware:"authen",data:function(){return{dialog:!1,invite:{name:"",email:""},headers:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Phone",value:"phone"},{text:"Budget",value:"budget"},{text:"Address",value:"address"},{text:"Has Veggie",value:"has_vegetarian"},{text:"Link",value:"link"},{text:"Actions",value:"actions",sortable:!1}],search:"",page:1,pageCount:0,itemsPerPage:10,desserts:[],editedIndex:-1,editedItem:{name:"",phone:0,budget:0,address:"",link:""},defaultItem:{name:"",phone:0,budget:0,address:"",link:""}}},components:{ValidationProvider:Fe["b"],ValidationObserver:Fe["a"]},computed:{formTitle:function(){return-1===this.editedIndex?"New Provider":"Edit Provider"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.getProviders()},methods:{getProviders:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,kn.get();case 2:a=e.sent,t.desserts=a.data,t.pageCount=Math.ceil(t.desserts.length/10);case 5:case"end":return e.stop()}}),e)})))()},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},createProvider:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,kn.create(t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.desserts.indexOf(t),a.t0=confirm("Are you sure you want to delete this item?")&&e.desserts.splice(s,1),!a.t0){a.next=5;break}return a.next=5,kn["delete"](t.id);case 5:case"end":return a.stop()}}),a)})))()},close:function(){var t=this;this.dialog=!1,this.$refs.observer.reset(),this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!1,e.next=3,t.$refs.observer.validate().then((function(t){a=t}));case 3:if(a){e.next=5;break}return e.abrupt("return");case 5:if(!(t.editedIndex>-1)){e.next=14;break}return Object.assign(t.desserts[t.editedIndex],t.editedItem),e.next=9,kn.update({id:t.editedItem.id,data:t.editedItem});case 9:s=e.sent,s&&s.data.msg&&(n=s.data.msg,t.$toast.error(n,{position:"top-right"})),s&&s.data.name&&(r="Updated successfully!",t.$toast.success(r,{position:"top-right"})),e.next=18;break;case 14:return e.next=16,t.createProvider(t.editedItem);case 16:return e.next=18,t.getProviders();case 18:t.close();case 19:case"end":return e.stop()}}),e)})))()},getColor:function(t){return t>400?"purple":t>200?"orange":"teal"}}},$n=En,Sn=Object(p["a"])($n,On,In,!1,null,"1d04dd61",null),qn=Sn.exports,Nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{staticClass:"main-content d-flex justify-content-center"},[a("div",{staticClass:"table-responsive p-3 col-md-9"},[a("h2",{staticClass:"card-header text-white bg-info text-left py-4"},[t._v(" Create New Lunch ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.error.length>0,expression:"error.length > 0"}],staticClass:"text-danger pb-2 pl-4 pt-2 text-center"},[a("span",[t._v(t._s(t.error))])]),a("div",{staticClass:"bg-white p-4 text-info",attrs:{id:"id_create_form"}},[a("v-row",{staticClass:" d-flex justify-content-between align-items-center"},[a("v-col",{staticClass:"m-auto d-flex align-items-center",attrs:{cols:"10"}},[a("v-row",[a("v-col",{staticClass:"m-auto d-flex align-items-center",attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"date",label:"From"},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1),a("v-col",{staticClass:"m-auto d-flex align-items-center",attrs:{cols:"3"}},[a("v-text-field",{attrs:{type:"date",label:"To"},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}})],1),a("v-col",{staticClass:"m-auto d-flex align-items-center",attrs:{cols:"3"}},[a("b-dropdown",{staticClass:"w-90",attrs:{text:t.text?t.text:"Select provider",variant:"outline-info"}},t._l(t.providers,(function(e){return a("b-dropdown-item",{on:{click:function(a){t.provider=e.id,t.text=e.name}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),a("v-col",{staticClass:"m-auto d-flex align-items-center",attrs:{cols:"1"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vegetarian,expression:"vegetarian"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.vegetarian)?t._i(t.vegetarian,null)>-1:t.vegetarian},on:{change:function(e){var a=t.vegetarian,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.vegetarian=a.concat([r])):i>-1&&(t.vegetarian=a.slice(0,i).concat(a.slice(i+1)))}else t.vegetarian=n}}}),a("font-awesome-icon",{staticClass:"text-success fa-fw mr-1",attrs:{icon:["fas","leaf"]}})],1)],1)],1),a("v-col",{staticClass:"text-center",attrs:{cols:"2"}},[a("button",{staticClass:"btn btn-info",on:{click:t.addLunch}},[a("font-awesome-icon",{staticClass:"text-light",attrs:{icon:["fas","plus"]}})],1)])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-card",{staticClass:"mx-3",attrs:{outlined:""}},[a("v-simple-table",{staticClass:"table-striped",attrs:{"fixed-header":"",height:"400px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"py-2"},[a("tr",[a("th",{staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("From")]),a("th",{staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("To")]),a("th",{staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("Provider")]),a("th",{staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("Has Veggie")]),a("th",{staticClass:"text-uppercase",attrs:{scope:"row"}},[t._v("Action")])])]),a("tbody",t._l(t.initLunch,(function(e){return a("tr",{key:e.from},[a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.from))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.to))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.provider_name))]),a("td",{attrs:{align:"left",scope:"row"}},[t._v(t._s(e.has_veggie?"Yes":"No"))]),a("td",{attrs:{align:"left",scope:"row"}},[a("font-awesome-icon",{staticClass:"icon-trash",attrs:{title:"Remove this",type:"button",icon:["fas","trash"]},on:{click:function(a){return t.deleteEvent(e)}}})],1)])})),0)]},proxy:!0}])})],1)],1)],1),a("br"),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-11 d-flex flex-row-reverse"},[a("button",{staticClass:"btn btn-info",on:{click:function(e){return e.preventDefault(),t.createMany(e)}}},[t._v("Create")])])])],1)])])])},Mn=[],Pn=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/create"),t);return e}},{key:"createMany",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/list"),t);return e}},{key:"get",value:function(){var t=this.request({auth:!0}).get("/".concat(this.entity,"/list"));return t}},{key:"update",value:function(t){var e=t.data,a=t.id,s=this.request({auth:!0}).put("/".concat(this.entity,"/action/").concat(a),e);return s}},{key:"delete",value:function(t){var e=this.request({auth:!0})["delete"]("/".concat(this.entity,"/action/").concat(t));return e}},{key:"entity",get:function(){return"lunch"}}]),a}(dt["a"]),Ln=new Pn,An={name:"CreateLunch",middleware:"authen",data:function(){return{error:"",text:"",provider:"",date:(new Date).toISOString().substr(0,10),note:"",start:(new Date).toISOString().substr(0,10),end:null,providers:[],initLunch:[],dialog:!1,vegetarian:!1,from:null,to:null}},head:function(){return{title:"Create new lunch"}},created:function(){this.getProviders()},methods:{submit:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==t.checkForm()){e.next=7;break}return a={provider:t.provider,note:t.note,date:t.date,has_vegetarian:t.vegetarian},e.next=4,Ln.create(a);case 4:s=e.sent,s&&s.data.msg&&(n=s.data.msg,t.$toast.error(n,{position:"top-right"})),s&&s.data.note&&(r="Lunch have just created successfully!",t.$router.push({path:"/manage-lunch"}),t.$toast.success(r,{position:"top-right"}));case 7:case"end":return e.stop()}}),e)})))()},deleteEvent:function(t){var e=this.initLunch.indexOf(t);this.initLunch.splice(e,1)},addLunch:function(){var t=this;if(""===this.start||""===this.end||""===this.provider)return this.$toast.error("Start date or end date or provider are empty",{position:"top-right"});if(this.start>this.end)return this.$toast.error("End day must be greater than start day",{position:"top-right"});var e={list_dates:this.getDatesInRange(this.start,this.end),provider_name:this.providers.find((function(e){return e.id===t.provider})).name,provider:this.provider,has_veggie:this.vegetarian,note:this.note,from:this.start,to:this.end};this.initLunch.push(e),this.start="",this.end="",this.vegetarian=!1},getDatesInRange:function(t,e){var a=[],s=bt()(t);e=bt()(e);while(s<=e)a.push(bt()(s).format("YYYY-MM-DD")),s=bt()(s).add(1,"days");return a},createMany:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==t.checkForm()){e.next=9;break}if(!(t.initLunch.length>0)){e.next=7;break}return a={list_lunches:t.initLunch},e.next=5,Ln.createMany(a);case 5:e.sent,t.$router.push({path:"/manage-lunch"});case 7:e.next=10;break;case 9:alert("You must enter start and end time");case 10:case"end":return e.stop()}}),e)})))()},getProviders:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,kn.get();case 2:a=e.sent,t.providers=a.data;case 4:case"end":return e.stop()}}),e)})))()},checkForm:function(){return this.error="",""===this.date?(this.error="date is required",!1):""!==this.provider||(this.error="provider is required",!1)},clearError:function(t){return 0===t.length||(this.error=[],this.error)}}},Tn=An,Fn=(a("18f5"),Object(p["a"])(Tn,Nn,Mn,!1,null,null,null)),Un=Fn.exports,Bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-5 mr-5",attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-card",{staticClass:"m-4",attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped",attrs:{headers:t.headers,items:t.desserts,"sort-by":"budget","hide-default-footer":"",page:t.page,"items-per-page":t.itemsPerPage,search:t.search},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"m-3",attrs:{flat:"",color:"white"}},[a("h2",[t._v("Manage Lunch")]),a("v-spacer"),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search",placeholder:"Search name or date","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("router-link",{staticClass:"btn font-weight-bold text-left bg-info text-light",attrs:{to:"/create-lunch"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","utensils"]}}),t._v(" CHOOSE PROVIDER LUNCH ")],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"note"},model:{value:t.editedItem.note,callback:function(e){t.$set(t.editedItem,"note",e)},expression:"editedItem.note"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"date"},model:{value:t.editedItem.date,callback:function(e){t.$set(t.editedItem,"date",e)},expression:"editedItem.date"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between"},[a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),t._v(" Veggie "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedItem.has_veggie,expression:"editedItem.has_veggie"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.editedItem.has_veggie)?t._i(t.editedItem.has_veggie,null)>-1:t.editedItem.has_veggie},on:{change:function(e){var a=t.editedItem.has_veggie,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.editedItem,"has_veggie",a.concat([r])):i>-1&&t.$set(t.editedItem,"has_veggie",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.editedItem,"has_veggie",n)}}}),a("span",{staticClass:"checkmark",attrs:{id:"veggiecheckmark"}})],1)])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"#6c757d",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{depressed:"",color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.has_veggie",fn:function(e){var s=e.item;return[s.has_veggie?a("td",[t._v("Yes")]):a("td",[t._v("No")])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{title:"Remove this",small:"",color:"green darken-2"},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{title:"Remove this",small:"",color:"red darken-2"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"item.lunch",fn:function(e){var s=e.item;return[a("v-icon",{attrs:{title:"Remove this",small:"",color:"teal darken-2"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-plus ")])]}},{key:"item.date",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.date),dark:""}},[t._v(t._s(s.date))])]}}])})],1),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{color:"#43c9d0",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},zn=[],Hn={middleware:"authen",data:function(){return{dialog:!1,page:1,pageCount:0,itemsPerPage:10,search:"",headers:[{text:"Provider",value:"provider.name"},{text:"Note",value:"note"},{text:"Date",value:"date"},{text:"Has Veggie",value:"has_veggie"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{provider:"",note:"",date:""},defaultItem:{provider:"",note:"",date:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.getLunches()},methods:{getLunches:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ln.get();case 2:a=e.sent,t.desserts=a.data;case 4:case"end":return e.stop()}}),e)})))()},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.desserts.indexOf(t),a.t0=confirm("Are you sure you want to delete this item?")&&e.desserts.splice(s,1),!a.t0){a.next=5;break}return a.next=5,Ln["delete"](t.id);case 5:case"end":return a.stop()}}),a)})))()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.editedIndex>-1)){e.next=10;break}return Object.assign(t.desserts[t.editedIndex],t.editedItem),a={date:t.editedItem.date,note:t.editedItem.note,has_veggie:t.editedItem.has_veggie},e.next=5,Ln.update({id:t.editedItem.id,data:a});case 5:s=e.sent,s&&s.data.msg&&(n=s.data.msg,t.$toast.error(n,{position:"top-right"})),s&&s.data.note&&(r="Updated successfully!",t.$toast.success(r,{position:"top-right"})),e.next=11;break;case 10:t.desserts.push(t.editedItem);case 11:t.close();case 12:case"end":return e.stop()}}),e)})))()},getColor:function(t){return"teal"}}},Yn=Hn,Vn=Object(p["a"])(Yn,Bn,zn,!1,null,"fb3f916a",null),Wn=Vn.exports,Gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mr-3"},[a("v-row",{staticClass:"fill-height"},[a("v-col",[a("div",{staticClass:"d-flex mb-10 mr-4 ml-4"},[a("div",{staticClass:"d-flex wd-div"},[a("b-dropdown",{staticClass:"m-2 w-100",attrs:{text:"SET LUNCH",variant:"info"}},[a("v-btn",{staticClass:"mb-2 w-100 ",attrs:{color:"#43c9d0",dark:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v(" Set Range Lunch ")]),a("v-btn",{staticClass:"mb-2 w-100",attrs:{color:"#43c9d0",dark:""},on:{click:t.setToday}},[t._v(" Set Lunch Today ")]),t.is_set_veggie?t._e():a("v-btn",{staticClass:"mb-2 w-100",attrs:{dark:"",color:"#43c9d0"},on:{click:function(e){return t.setVeggieLunch()}}},[t._v(" Set veggie lunch ")])],1),a("b-dropdown",{staticClass:"m-2 w-100",attrs:{text:"CANCEL LUNCH",variant:"danger"}},[t.is_set_veggie?a("v-btn",{staticClass:"mb-2 w-100",attrs:{color:"#e02d1a",dark:""},on:{click:function(e){return t.cancelSetVeggieLunch()}}},[t._v(" Cancel set veggie lunch ")]):t._e(),a("v-btn",{staticClass:"mb-2 w-100",attrs:{dark:"",color:"#e02d1a"},on:{click:function(e){return t.deleteMany()}}},[t._v(" Cancel Setted Lunch ")])],1)],1),a("div",{staticClass:"ml-auto d-flex"},[a("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.prev}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-left")])],1),a("v-btn",{attrs:{fab:"",text:"",small:""},on:{click:t.next}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-right")])],1),a("v-btn",{attrs:{outlined:""}},[t._v(" "+t._s(t.title)+" ")])],1)]),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-container",[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent(e)}}},[a("label",[a("strong",[t._v("Start:")])]),a("v-text-field",{attrs:{type:"date"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("label",[a("strong",[t._v("End:")])]),a("v-text-field",{attrs:{type:"date"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between ml-1"},[t._v(" Has Veggie "),a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.has_veggie,expression:"has_veggie"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.has_veggie)?t._i(t.has_veggie,null)>-1:t.has_veggie},on:{change:function(e){var a=t.has_veggie,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.has_veggie=a.concat([r])):i>-1&&(t.has_veggie=a.slice(0,i).concat(a.slice(i+1)))}else t.has_veggie=n}}}),a("span",{staticClass:"checkmark"})],1)],1),a("v-row",[a("v-spacer"),a("v-btn",{staticClass:"mr-auto",attrs:{dark:"",type:"submit",color:"#43c9d0"},on:{click:function(e){return e.stopPropagation(),t.addEvent(e)}}},[t._v(" Create Lunch ")])],1)],1)],1)],1),a("v-sheet",{staticClass:"mr-3 ml-3",attrs:{height:"600"}},[a("v-calendar",{ref:"calendar",attrs:{color:"#20B2AA",events:t.events,"event-color":t.getEventColor,"event-margin-bottom":0,now:t.today,type:t.type},on:{"click:event":t.showEvent,change:t.updateRange},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[a("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteEvent(t.selectedEvent)}}},[a("v-icon",[t._v("mdi-delete")])],1),a("v-toolbar-title",{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),a("div",{staticClass:"flex-grow-1"})],1),a("v-card-text",[a("form",[a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between"},[t._v(" Has Veggie "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedEvent.has_veggie,expression:"selectedEvent.has_veggie"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectedEvent.has_veggie)?t._i(t.selectedEvent.has_veggie,null)>-1:t.selectedEvent.has_veggie},on:{change:function(e){var a=t.selectedEvent.has_veggie,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.selectedEvent,"has_veggie",a.concat([r])):i>-1&&t.$set(t.selectedEvent,"has_veggie",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.selectedEvent,"has_veggie",n)}}}),a("span",{staticClass:"checkmark",attrs:{id:"veggiecheckmark"}}),a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}})],1)])]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.selectedOpen=!1}}},[t._v(" close ")]),a("v-btn",{attrs:{text:"",type:"submit"},on:{click:function(e){return t.updateEvent(t.selectedEvent)}}},[t._v(" Update ")])],1)],1)],1)],1)],1)],1)],1)},Jn=[],Zn=a("560a"),Qn={data:function(){return{today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},name:"Lunch",details:null,start:null,is_set_veggie:!1,has_veggie:!1,end:null,color:"#20B2AA",currentlyEditing:null,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],dialog:!1,dialogDate:!1,startDate:(new Date).toISOString().substr(0,10),endDate:null}},mounted:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getEvents();case 2:case"end":return e.stop()}}),e)})))()},computed:{title:function(){var t=this.start,e=this.end;if(!t||!e)return"";var a=this.monthFormatter(t),s=this.monthFormatter(e),n=a===s?"":s,r=t.year,i=e.year,o=r===i?"":i,c=t.day+this.nth(t.day),l=e.day+this.nth(e.day);switch(this.type){case"month":return"".concat(a," ").concat(r);case"week":case"4day":return"".concat(a," ").concat(c," ").concat(r," - ").concat(n," ").concat(l," ").concat(o);case"day":return"".concat(a," ").concat(c," ").concat(r)}return""},monthFormatter:function(){return this.$refs.calendar.getFormatter({timeZone:"UTC",month:"long"})}},methods:{getEvents:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("event/getUserLunches");case 2:t.events=e.sent,t.events.map((function(e){!0===e.has_veggie&&(t.is_set_veggie=!0)}));case 4:case"end":return e.stop()}}),e)})))()},checkValidTime:function(){var t=new Date,e=t.getHours();if(e>Zn["VALID_TIME"])return this.$toast.error("Out of time to set lunch",{position:"top-right"})},deleteMany:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={date:t.today},e.next=3,ft.deleteMany(a);case 3:return s=e.sent,e.next=6,t.getEvents();case 6:s&&s.data.msg&&(n=s.data.msg,t.$toast.success(n,{position:"top-right"}),t.is_set_veggie=!1);case 7:case"end":return e.stop()}}),e)})))()},setVeggieLunch:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new Date,s=a.getHours(),!(s>Zn["VALID_TIME"])){e.next=4;break}return e.abrupt("return",t.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return n={date:t.today},e.next=7,ft.setVeggieMonth(n);case 7:return r=e.sent,i="Not found lunar day",e.next=11,t.getEvents();case 11:r&&r.data.msg!==i&&(o=r.data.msg,t.$toast.success(o,{position:"top-right"}),t.is_set_veggie=!0),r&&r.data.msg===i&&t.$toast.error(i,{position:"top-right"});case 13:case"end":return e.stop()}}),e)})))()},cancelSetVeggieLunch:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new Date,s=a.getHours(),!(s>Zn["VALID_TIME"])){e.next=4;break}return e.abrupt("return",t.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return n={date:t.today},e.next=7,ft.cancelSetVeggieMonth(n);case 7:return r=e.sent,e.next=10,t.getEvents();case 10:r&&r.data.msg&&(i=r.data.msg,t.$toast.success(i,{position:"top-right"})),t.is_set_veggie=!1;case 12:case"end":return e.stop()}}),e)})))()},viewDay:function(t){var e=t.date;this.focus=e,this.type="day"},getEventColor:function(t){return t.color},setToday:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new Date,s=a.getHours(),!(s>Zn["VALID_TIME"])){e.next=4;break}return e.abrupt("return",t.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return t.focus=t.today,n={name:t.name,has_veggie:t.has_veggie||!1,date:t.today},e.next=8,ft.create(n);case 8:return r=e.sent,e.next=11,t.getEvents();case 11:r&&r.data.date&&t.$toast.success("You have setted lunch for today",{position:"top-right"}),r&&r.data.error_msg&&t.$toast.error(r.data.error_msg,{position:"top-right"});case 13:case"end":return e.stop()}}),e)})))()},addEvent:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dialog=!1,a=new Date,s=a.getHours(),n=bt()(),!(t.startDate>t.endDate)){e.next=6;break}return e.abrupt("return",t.$toast.error("End day must be greater than start day",{position:"top-right"}));case 6:if(t.startDate===t.today&&s>Zn["VALID_TIME"]&&(t.startDate=bt()(n).add(1,"days")),!t.start||!t.end){e.next=17;break}return r={name:t.name,has_veggie:t.has_veggie,list_dates:t.getDatesUnRange(t.startDate,t.endDate)},e.next=11,ft.createMany(r);case 11:return i=e.sent,e.next=14,t.getEvents();case 14:i&&i.data.msg&&(o=i.data.msg,t.$toast.success(o,{position:"top-right"})),e.next=18;break;case 17:alert("You must enter start and end time");case 18:case"end":return e.stop()}}),e)})))()},editEvent:function(t){this.currentlyEditing=t.id},updateEvent:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=new Date,n=s.getHours(),!(n>Zn["VALID_TIME"])){a.next=4;break}return a.abrupt("return",e.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return r={has_veggie:t.has_veggie},a.next=7,ft.update({data:r,id:t.id});case 7:a.sent,e.selectedOpen=!1,e.currentlyEditing=null,e.getEvents();case 11:case"end":return a.stop()}}),a)})))()},deleteEvent:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=new Date,n=s.getHours(),!(n>Zn["VALID_TIME"]&&t.start<=e.today)){a.next=4;break}return a.abrupt("return",e.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return a.next=6,ft["delete"](t.id);case 6:r=a.sent,e.getEvents(),r&&r.data.msg&&(i=r.data.msg,e.$toast.success(i,{position:"top-right"})),e.selectedOpen=!1;case 10:case"end":return a.stop()}}),a)})))()},showEvent:function(t){var e=this,a=t.nativeEvent,s=t.event,n=function(){e.selectedEvent=s,e.selectedElement=a.target,setTimeout((function(){return e.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(n,10)):n(),a.stopPropagation()},updateRange:function(t){var e=t.start,a=t.end;this.start=e,this.end=a},getDatesUnRange:function(t,e){var a=[],s=bt()(t);e=bt()(e);while(s<=e)a.push(bt()(s).format("YYYY-MM-DD")),s=bt()(s).add(1,"days");return a},nth:function(t){return t>3&&t<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][t%10]}}},Kn=Qn,Xn=(a("de76"),Object(p["a"])(Kn,Gn,Jn,!1,null,null,null)),tr=Xn.exports,er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-5 mr-5",attrs:{id:"app"}},[a("v-app",[a("v-card",{staticClass:"m-4",attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped",attrs:{headers:t.headers,items:t.desserts,"sort-by":"budget","hide-default-footer":"",page:t.page,"items-per-page":t.itemsPerPage,search:t.search},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"m-3",attrs:{flat:"",color:"white"}},[a("h2",[t._v("Manage User Lunch")]),a("v-spacer"),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search",placeholder:"Search name or date","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"#43c9d0",dark:"",depressed:""}},"v-btn",n,!1),s),[t._v("Create new portions ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Lunch")])]),a("v-card-text",[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.addEvent(e)}}},[a("v-container",[a("v-row",[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},name:"date"},model:{value:t.editedItem.date,callback:function(e){t.$set(t.editedItem,"date",e)},expression:"editedItem.date"}})],1),a("v-row",[a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between"},[t.editedItem.is_hidden?a("v-text-field",{attrs:{type:"text",label:"Quantity"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}):t._e()],1)]),a("v-row",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedItem.has_veggie,expression:"editedItem.has_veggie"}],staticClass:"mr-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.editedItem.has_veggie)?t._i(t.editedItem.has_veggie,null)>-1:t.editedItem.has_veggie},on:{change:function(e){var a=t.editedItem.has_veggie,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.editedItem,"has_veggie",a.concat([r])):i>-1&&t.$set(t.editedItem,"has_veggie",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.editedItem,"has_veggie",n)}}}),a("label",{staticClass:"font-weight-bold"},[a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),t._v(" Has Veggie ")],1)])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"danger",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{depressed:"",color:"#43c9d0",dark:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1),a("v-toolbar",{staticClass:"m-3",attrs:{flat:"",color:"white"}},[a("div",{staticClass:"d-flex w-75"},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},name:"date",required:""},on:{"on-change":t.doSomethingOnChange},model:{value:t.startday,callback:function(e){t.startday=e},expression:"startday"}}),a("div",{staticClass:"w-100 m-auto ml-3 text-white rounded pt-1 pb-1 text-center color-bg"},[t._v("Normal Lunch : "+t._s(t.countHasNoVeggie)+" ")]),a("div",{staticClass:"w-100 m-auto ml-3 text-white rounded pt-1 pb-1 text-center color-bg"},[t._v("Veggie Lunch : "+t._s(t.countHasVeggie)+" ")]),t.providerOnDate?a("div",{staticClass:"w-100 m-auto ml-3 text-white rounded pt-1 pb-1 text-center color-bg"},[t._v(" Provider : "+t._s(t.providerOnDate.name)+" - "+t._s(t.providerOnDate.phone)+" ")]):a("div",{staticClass:"w-100 m-auto ml-3 text-white rounded pt-1 pb-1 text-center color-bg"},[t._v("Please choose provider lunch! ")])],1),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"#43c9d0",dark:"",depressed:""}},"v-btn",n,!1),s),[t._v("Lunch Provider Profile ")])]}}]),model:{value:t.dialogProvider,callback:function(e){t.dialogProvider=e},expression:"dialogProvider"}},[t.providerOnDate?a("v-card",[a("v-card-title",{staticClass:"bg-info text-center"},[a("span",{staticClass:"headline text-light"},[t._v("Information Provider Lunch")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("strong",[t._v("Name:")])]),a("v-col",{attrs:{cols:"6"}},[a("p",[t._v(t._s(t.providerOnDate.name))])]),a("v-col",{attrs:{cols:"6"}},[a("strong",[t._v("Phone:")])]),a("v-col",{attrs:{cols:"6"}},[a("p",[t._v(t._s(t.providerOnDate.phone))])]),a("v-col",{attrs:{cols:"6"}},[a("strong",[t._v("Address:")])]),a("v-col",{attrs:{cols:"6"}},[a("p",[t._v(t._s(t.providerOnDate.address))])]),a("v-col",{attrs:{cols:"6"}},[a("strong",[t._v("Has veggie:")])]),t.providerOnDate.has_vegetarian?a("v-col",{attrs:{cols:"6"}},[a("p",[t._v("Have")])]):a("v-col",{attrs:{cols:"6"}},[a("p",[t._v("Don't have:")])]),a("v-col",{attrs:{cols:"6"}},[a("strong",[t._v("Link")])]),a("v-col",{attrs:{cols:"6"}},[a("p",[t._v(t._s(t.providerOnDate.link))])]),a("v-col",{attrs:{cols:"6"}},[a("strong",[t._v("Budget:")])]),a("v-col",{attrs:{cols:"6"}},[a("p",[t._v(t._s(t.providerOnDate.budget))])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"danger",depressed:"",text:""},on:{click:function(e){t.dialogProvider=!1}}},[t._v("Close")])],1)],1):a("v-card",[a("v-card-title",[t._v("Please choose provider lunch!")])],1)],1)],1)]},proxy:!0},{key:"item.has_veggie",fn:function(e){var s=e.item;return[s.has_veggie?a("td",[t._v("Yes")]):a("td",[t._v("No")])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{title:"Edit this",small:"",color:"green darken-2"},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{title:"Remove this",small:"",color:"red darken-2"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"item.lunch",fn:function(e){var s=e.item;return[a("v-icon",{attrs:{title:"Remove this",small:"",color:"teal darken-2"},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-plus ")])]}},{key:"item.budget",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.budget),dark:""}},[t._v(t._s(s.budget))])]}}])})],1),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{length:t.pageCount,color:"#43c9d0"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)},ar=[],sr=(a("a630"),a("a9e3"),{name:"test",middleware:"authen",components:{flatPickr:Ut.a},data:function(){return{dialog:!1,page:1,pageCount:0,itemsPerPage:10,search:"",quantity:1,startday:(new Date).toISOString().substr(0,10),headers:[{text:"Name",align:"start",sortable:!1,value:"profile.name"},{text:"Veggie",value:"has_veggie"},{text:"Date",value:"date"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],dialogProvider:!1,providers:[],providerOnDate:"",editedIndex:-1,editedItem:{has_veggie:!1,date:(new Date).toISOString().substr(0,10),is_hidden:!0},defaultItem:{has_veggie:!1,date:(new Date).toISOString().substr(0,10),is_hidden:!0},dataArray:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Lunch":"Edit Lunch"},countHasVeggie:function(){return this.desserts.filter((function(t){return t.has_veggie})).length},countHasNoVeggie:function(){return this.desserts.filter((function(t){return!t.has_veggie})).length}},created:function(){this.getLunches()},watch:{dialog:function(t){t||this.close()}},methods:{getLunches:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ln.get();case 2:if(a=e.sent,t.providers=a.data,s=(new Date).toISOString().substr(0,10),t.providers.find((function(t){return t.date===s}))){e.next=8;break}return t.providerOnDate=null,e.abrupt("return");case 8:t.providerOnDate=t.providers.find((function(t){return t.date===s})).provider;case 9:case"end":return e.stop()}}),e)})))()},getUserLunches:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ft.getPagi(t.startday);case 2:return a=e.sent,t.desserts=a.data.results,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.$set(this.editedItem,"is_hidden",!1),this.dialog=!0},makeRepeat:function(t,e){var a;return(a=[]).concat.apply(a,Object(at["a"])(Array.from({length:e},(function(){return t}))))},addUserLunchByAdmin:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[{date:t.editedItem.date,has_veggie:t.editedItem.has_veggie}],s=t.makeRepeat(a,Number(t.quantity)),t.dataArray=s,e.next=5,ft.adminCreate(s);case 5:case"end":return e.stop()}}),e)})))()},endDate:function(){return null===this.editedItem.date?this.today:this.editedItem.date},deleteItem:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.desserts.indexOf(t),a.t0=confirm("Are you sure you want to delete this item?")&&e.desserts.splice(s,1),!a.t0){a.next=5;break}return a.next=5,ft["delete"](t.id);case 5:case"end":return a.stop()}}),a)})))()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.editedIndex>-1)){e.next=14;break}return Object.assign(t.desserts[t.editedIndex],t.editedItem),a={date:t.editedItem.date,has_veggie:t.editedItem.has_veggie},e.next=5,ft.updateByAdmin({id:t.editedItem.id,data:a});case 5:if(s=e.sent,s&&s.data.msg&&(n=s.data.msg,t.$toast.error(n,{position:"top-right"})),!s||!s.data.date){e.next=12;break}return e.next=10,t.getUserLunches();case 10:r="Updated successfully!",t.$toast.success(r,{position:"top-right"});case 12:e.next=21;break;case 14:return e.next=16,t.addUserLunchByAdmin();case 16:for(i=0;i<t.dataArray.length;i++)t.desserts.push(t.dataArray[i]);return e.next=19,t.getUserLunches();case 19:t.startday=t.editedItem.date,t.editedItem.date=(new Date).toISOString().substr(0,10);case 21:t.close();case 22:case"end":return e.stop()}}),e)})))()},getColor:function(t){return t>400?"purple":t>200?"orange":"teal"},doSomethingOnChange:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUserLunches();case 2:if(t.providers.find((function(e){return e.date===t.startday}))){e.next=5;break}return t.providerOnDate=null,e.abrupt("return");case 5:t.providerOnDate=t.providers.find((function(e){return e.date===t.startday})).provider;case 6:case"end":return e.stop()}}),e)})))()},prepareData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUserLunches();case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.prepareData();case 2:case"end":return e.stop()}}),e)})))()}}),nr=sr,rr=(a("0d43"),Object(p["a"])(nr,er,ar,!1,null,null,null)),ir=rr.exports,or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-5 mr-5",attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-card",{staticClass:"m-4",attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped",attrs:{headers:t.headers,items:t.desserts,"hide-default-footer":!0,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"m-3",attrs:{flat:"",color:"white"}},[a("h2",[t._v("Statistic User Lunch")])]),a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("div",{staticClass:"my-2 d-flex"},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},name:"date",required:""},on:{"on-change":t.doSomethingOnChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("v-btn",{staticClass:"ml-3",attrs:{color:"#43c9d0",depressed:"",dark:""},on:{click:function(e){return t.filterByWeek()}}},[t._v(" Filter by week ")]),a("v-btn",{staticClass:"ml-3",attrs:{color:"#5390D9",depressed:"",dark:""},on:{click:function(e){return t.filterByMonth()}}},[t._v(" Filter by month ")])],1),a("v-spacer"),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search",placeholder:"Search provider name","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)]},proxy:!0},{key:"item.total_budgets",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{color:t.getColor(s.total_budgets),dark:""}},[t._v(t._s(s.total_budgets))])]}}])})],1)],1)],1)},cr=[],lr={middleware:"authen",components:{flatPickr:Ut.a},data:function(){return{dialog:!1,search:"",isMonth:null,startday:(new Date).toISOString().substr(0,10),date:(new Date).toISOString().substr(0,10),headers:[{text:"Provider Name",align:"start",sortable:!1,value:"provider.name"},{text:"Provider Address",value:"provider.address"},{text:"Total budgets",value:"total_budgets"},{text:"Total lunches",value:"total_lunches"},{text:"Total set meals",value:"total_user_lunches"},{text:"Total normal lunches",value:"total_normal_lunch"},{text:"Total veggie lunches",value:"total_veggie_lunch"}],desserts:[],editedIndex:-1,editedItem:{has_veggie:!1,date:(new Date).toISOString().substr(0,10),is_hidden:!0},defaultItem:{has_veggie:!1,date:(new Date).toISOString().substr(0,10),is_hidden:!0},dataArray:[]}},watch:{dialog:function(t){t||this.close()}},methods:{statistic:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={is_month:t.isMonth,date:t.date},e.next=3,ft.statistic(a);case 3:return s=e.sent,t.desserts=s.data.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))()},getColor:function(t){return t>400?"purple":t>200?"orange":"teal"},filterByMonth:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isMonth=!0,e.next=3,t.statistic();case 3:case"end":return e.stop()}}),e)})))()},filterByWeek:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isMonth=!1,e.next=3,t.statistic();case 3:case"end":return e.stop()}}),e)})))()},doSomethingOnChange:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.statistic();case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.doSomethingOnChange();case 2:case"end":return e.stop()}}),e)})))()}},ur=lr,dr=Object(p["a"])(ur,or,cr,!1,null,"39c36390",null),mr=dr.exports,fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-5 mr-5",attrs:{id:"app"}},[[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.dialogCancel,callback:function(e){t.dialogCancel=e},expression:"dialogCancel"}},[a("div",{staticClass:"fixed-top"},[a("v-card",{staticClass:"mx-auto",attrs:{width:"500"}},[a("v-card-title",{staticClass:"headline"},[t._v(" Are you want to delete the event? ")]),a("v-card-actions",[a("v-btn",{staticClass:"btn btn-width btn-secondary m-2",attrs:{dark:"",text:""},on:{click:t.closeDialog}},[t._v(" No ")]),a("v-spacer"),a("v-btn",{staticClass:"btn btn-width btn-info m-2",attrs:{text:""},on:{click:t.cancelEvent}},[t._v(" Yes ")])],1)],1)],1)])],1)],[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"800"},model:{value:t.dialogEventDetail,callback:function(e){t.dialogEventDetail=e},expression:"dialogEventDetail"}},[a("v-card",{staticClass:"mx-auto",attrs:{width:"800"}},[a("v-card-title",{staticClass:"headline"},[t._v(" Detail ")]),a("v-divider",{staticClass:"mt-0 pt-0"}),a("v-card-text",[a("p",{staticClass:"text-dark font-weight-black"},[t._v(" Wishes: "+t._s(t.eventOfUser.wishes))]),a("p",{staticClass:"text-dark font-weight-black"},[t._v("Image:")]),a("v-img",{attrs:{contain:"","max-width":"800",src:t.urlImage}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btn btn-width btn-secondary m-2",attrs:{dark:"",text:""},on:{click:t.closeEventDetail}},[t._v(" Close ")])],1)],1)],1)],1)],a("v-app",{attrs:{id:"inspire"}},[a("v-card",{staticClass:"m-4",attrs:{outlined:""}},[a("v-data-table",{staticClass:"table-striped",attrs:{headers:t.headers,items:t.desserts,"hide-default-footer":"",page:t.page,"items-per-page":t.itemsPerPage,search:t.search},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"m-3",attrs:{flat:"",color:"white"}},[a("h2",[t._v("Manage Events")]),a("v-spacer"),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",placeholder:"Enter name ..."},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{attrs:{cols:"2"}},[a("b-form-select",{attrs:{options:t.options},on:{change:t.getUsers},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:"",disabled:""}},[t._v("Select month")])]},proxy:!0}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t.desserts[0]?a("v-btn",{staticClass:"mb-2 mt-2 btn btn-info",attrs:{dark:"",depressed:"",text:""},on:{click:function(e){t.dialog=!0}}},[t._v("Set Events For All ")]):t._e(),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-textarea",{attrs:{label:"Wishes",rows:"1",required:"",rules:[t.rules]},model:{value:t.wishes,callback:function(e){t.wishes=e},expression:"wishes"}}),a("v-file-input",{attrs:{placeholder:"Upload your image",label:"File input",multiple:"",rules:[t.rules],"prepend-icon":"mdi-paperclip"},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[t._v(" "+t._s(s)+" ")])]}}]),model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"btn btn-secondary font-weight-bold btn-width m-2",attrs:{dark:"",text:""},on:{click:t.close}},[t._v("Cancel ")]),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.eventOfUser.wishes,expression:"eventOfUser.wishes"}],staticClass:"btn btn-info font-weight-bold btn-width m-2",attrs:{dark:"",text:""},on:{click:function(e){return t.submitUpdate()}}},[t._v("Update ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.eventOfUser.wishes,expression:"!eventOfUser.wishes"}],staticClass:"btn btn-info font-weight-bold btn-width m-2",attrs:{dark:"",text:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[s.event?a("v-btn",{staticClass:"mr-2 btn-success ",attrs:{small:"",depressed:"",type:"submit",dark:"",text:""},on:{click:function(e){return t.update(s)}}},[t._v(" Edit ")]):t._e(),s.event?a("v-btn",{attrs:{small:"",depressed:"",type:"submit",color:"red",dark:""},on:{click:function(e){return t.cancelItem(s)}}},[t._v(" Delete ")]):a("v-btn",{attrs:{small:"",depressed:"",type:"submit",dark:"",color:"#43c9d0"},on:{click:function(e){return t.editItem(s)}}},[t._v(" Set Event ")])]}},{key:"item.detail",fn:function(e){var s=e.item;return[a("button",{directives:[{name:"show",rawName:"v-show",value:s.event,expression:"item.event"}],staticClass:"btn btn-link",on:{click:function(e){return t.showEvent(s)}}},[t._v("Detail")])]}},{key:"no-data",fn:function(){return[t._v(" "+t._s(t.msg)+" ")]},proxy:!0}])})],1),a("v-pagination",{attrs:{color:"#43c9d0",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],2)},vr=[],hr=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t){var e=this.request({auth:!0}).post("/".concat(this.entity,"/"),t);return e}},{key:"getUsers",value:function(t){var e=this.request({auth:!0}).get("/".concat(this.entity,"/users"),{params:{month:t}});return e}},{key:"getEvents",value:function(){var t=this.request({auth:!0}).get("/".concat(this.entity));return t}},{key:"cancelEvent",value:function(t){var e=this.request({auth:!0})["delete"]("/".concat(this.entity,"/").concat(t));return e}},{key:"update",value:function(t,e){var a=this.request({auth:!0}).put("/".concat(this.entity,"/").concat(t),e);return a}},{key:"entity",get:function(){return"event"}}]),a}(dt["a"]),pr=new hr,gr={middleware:"authen",data:function(){return{dialog:!1,dialogEventDetail:!1,dialogCancel:!1,rules:function(t){return!!t||"Required."},selected:(new Date).getMonth()+1,options:[{value:1,text:"January"},{value:2,text:"February"},{value:3,text:"March"},{value:4,text:"April"},{value:5,text:"May"},{value:6,text:"July"},{value:8,text:"August"},{value:9,text:"September"},{value:10,text:"October"},{value:11,text:"November"},{value:12,text:"December"}],headers:[{text:"Name",align:"start",value:"name"},{text:"Birthday",value:"birth_day"},{text:"Personal Email",value:"personal_email"},{text:"Detail",align:"start",sortable:!1,value:"detail"},{text:"Actions",value:"actions",align:"center",sortable:!1}],search:"",page:1,pageCount:0,itemsPerPage:10,desserts:[],editedIndex:-1,editedItem:{wishes:"",image:null},defaultItem:{wishes:"",image:null},events:[],image:null,wishes:"",eventOfUser:"",msg:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Set event for all":"Set event for user"},urlImage:function(){return Zn["b"]+this.eventOfUser.image},rules:function(){var t=[],e=function(t){return(t||"").length<=255||"A maximum of 255 characters is allowed"};return t.push(e),t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.getUsers(),this.getEvents()},methods:{getUsers:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pr.getUsers(t.selected);case 2:a=e.sent,a&&a.data.msg?(t.desserts=[],t.pageCount=1,t.msg=a.data.msg):(t.desserts=a.data,t.pageCount=Math.ceil(t.desserts.length/10));case 4:case"end":return e.stop()}}),e)})))()},getEvents:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pr.getEvents();case 2:a=e.sent,t.events=a.data;case 4:case"end":return e.stop()}}),e)})))()},createEvent:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialog=!0,a={image:e.image,wishes:e.wishes,profile:e.editedItem.a},t.next=4,pr.create(a);case 4:if(s=t.sent,!(s&&s.data&&s.data.msg)){t.next=7;break}return t.abrupt("return",e.$toast.success(s.data.msg,{position:"top-right"}));case 7:return t.abrupt("return",e.$toast.error(s.data.error_msg,{position:"top-right"}));case 8:case"end":return t.stop()}}),t)})))()},showEvent:function(t){this.eventOfUser=this.events.find((function(e){return e.profile.id===t.id})),this.dialogEventDetail=!0},cancelItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialogCancel=!0},cancelEvent:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.editedIndex>-1)){e.next=13;break}return e.next=3,pr.cancelEvent(t.editedItem.event);case 3:if(a=e.sent,!a||!a.data.msg){e.next=8;break}t.$toast.error(a.data.msg),e.next=13;break;case 8:return t.$toast.success("Success"),t.$set(t.editedItem,"event",""),t.$set(t.desserts,t.editedIndex,t.editedItem),e.next=13,t.getEvents();case 13:t.closeDialog();case 14:case"end":return e.stop()}}),e)})))()},update:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.eventOfUser=this.events.find((function(e){return e.profile.id===t.id})),this.wishes=this.eventOfUser.wishes,this.dialog=!0},checkEvent:function(t){var e=this.events.find((function(e){return e.profile.id===t.id}));return e.length>0},submitUpdate:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("wishes",t.wishes),t.image[0]&&a.append("image",t.image[0]),e.next=5,pr.update(t.editedItem.id,a);case 5:return s=e.sent,s&&s.msg?t.$toast.error(s.msg):t.$toast.success("Success"),t.close(),e.next=10,t.getEvents();case 10:case"end":return e.stop()}}),e)})))()},closeDialog:function(){this.editedItem=Object.assign({},this.defaultItem),this.dialogCancel=!1,this.editedIndex=-1},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.wishes="",t.image=[],t.editedIndex=-1,t.eventOfUser=""}))},save:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.wishes&&t.image.length){e.next=2;break}return e.abrupt("return");case 2:if(a="",!(t.editedIndex>-1)){e.next=13;break}return s=new FormData,s.append("wishes",t.wishes),s.append("image",t.image[0]),s.append("profile",t.editedItem.id),e.next=10,pr.create(s);case 10:a=e.sent,e.next=21;break;case 13:return n=new FormData,n.append("wishes",t.wishes),n.append("image",t.image[0]),n.append("is_send_to_all","all"),n.append("month",t.selected),e.next=20,pr.create(n);case 20:a=e.sent;case 21:return a&&a.msg?t.$toast.error(a.msg):t.$toast.success("Success"),t.close(),e.next=25,t.getUsers();case 25:return e.next=27,t.getEvents();case 27:case"end":return e.stop()}}),e)})))()},closeEventDetail:function(){this.eventOfUser="",this.dialogEventDetail=!1}}},_r=gr,br=(a("bb712"),Object(p["a"])(_r,fr,vr,!1,null,"6f588bab",null)),wr=br.exports,yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-app",[a("div",[a("div",{staticClass:"col-8 mx-auto"},[a("router-link",{staticClass:"btn btn-info float-right text-uppercase font-weight-bold text-light",attrs:{to:"/holidays"}},[a("font-awesome-icon",{attrs:{icon:["fas","chart-bar"]}}),t._v(" Holidays ")],1)],1)]),a("div",{staticClass:" row p-3"},[a("div",{staticClass:"col-md-8 mx-auto"},[a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("Requirements")]),a("font-awesome-icon",{staticClass:"fa-fw d-inline float-right mr-4",attrs:{icon:["fas","plus"]},on:{click:t.show_dialog_add}}),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline bg-info text-light mb-3"},[t._v(" "+t._s(t.title_dialog)+" ")]),a("v-card-text",[a("label",{staticClass:"float-left font-weight-bold"},[t._v("Choose type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?a:a[0]}}},t._l(t.types,(function(e,s){return a("option",{domProps:{value:s}},[t._v(t._s(e))])})),0),a("label",{staticClass:"float-left mt-2 font-weight-bold"},[t._v("Title:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{id:"typeid",rows:"2"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),0===t.type?a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("label",{staticClass:"font-weight-bold"},[t._v("Salary paid")])]),a("div",{staticClass:"col-8"},[a("label",{staticClass:"radio-inline",on:{click:function(e){return t.click_salary(!0)}},model:{value:t.is_salary,callback:function(e){t.is_salary=e},expression:"is_salary"}},[a("input",{attrs:{type:"radio",name:"salary"},domProps:{checked:t.is_salary}}),t._v(" Yes ")]),a("label",{staticClass:"radio-inline ml-3",on:{click:function(e){return t.click_salary(!1)}},model:{value:t.is_salary,callback:function(e){t.is_salary=e},expression:"is_salary"}},[a("input",{attrs:{type:"radio",name:"salary"},domProps:{checked:!1===t.is_salary}}),t._v(" No ")])])]):t._e(),0===t.type?a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("label",{staticClass:"font-weight-bold"},[t._v("Leave days counted")])]),a("div",{staticClass:"col-8"},[a("label",{staticClass:"radio-inline",on:{click:function(e){return t.click_absence(1)}},model:{value:t.is_absence,callback:function(e){t.is_absence=e},expression:"is_absence"}},[a("input",{attrs:{type:"radio",name:"absence"},domProps:{checked:t.is_absence}}),t._v(" Yes ")]),a("label",{staticClass:"radio-inline ml-3",on:{click:function(e){return t.click_absence(0)}},model:{value:t.is_absence,callback:function(e){t.is_absence=e},expression:"is_absence"}},[a("input",{attrs:{type:"radio",name:"absence"},domProps:{checked:0===t.is_absence}}),t._v(" No ")])])]):t._e(),0===t.type?a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("label",{staticClass:"font-weight-bold"},[t._v("Leave days types")])]),a("div",{staticClass:"col-8"},[a("label",{staticClass:"radio-inline",on:{click:function(e){return t.click_weekend(0)}},model:{value:t.is_weekend,callback:function(e){t.is_weekend=e},expression:"is_weekend"}},[a("input",{attrs:{type:"radio",name:"weekend"},domProps:{checked:0===t.is_weekend}}),t._v(" Business day ")]),a("label",{staticClass:"radio-inline ml-3",on:{click:function(e){return t.click_weekend(1)}},model:{value:t.is_weekend,callback:function(e){t.is_weekend=e},expression:"is_weekend"}},[a("input",{attrs:{type:"radio",name:"weekend"},domProps:{checked:1===t.is_weekend}}),t._v(" Weekend ")]),a("label",{staticClass:"radio-inline ml-3",on:{click:function(e){return t.click_weekend(2)}},model:{value:t.is_weekend,callback:function(e){t.is_weekend=e},expression:"is_weekend"}},[a("input",{attrs:{type:"radio",name:"weekend"},domProps:{checked:2===t.is_weekend}}),t._v(" All week ")])])]):t._e()]),a("v-card-actions",{staticClass:"mr-6"},[a("v-spacer"),a("v-btn",{attrs:{color:"dark",depressed:"",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{depressed:"",color:"#43c9d0",dark:""},on:{click:function(e){return t.submit(""!==t.id_type?t.id_type:0)}}},[t._v(" "+t._s(t.button_submit)+" ")])],1)],1)],1)],1),a("table",{staticClass:"w-100 table table-borderless"},[a("tr",[a("th",{staticClass:"type_stt"}),a("th",{staticClass:"type_title"},[t._v("Title")]),a("th",{staticClass:"type_salary"},[t._v("Salary paid")]),a("th",{staticClass:"type_weekend"},[t._v("Leave days types")]),a("th",{staticClass:"type_absence"},[t._v("Leave days counted")]),a("th",{staticClass:"type_action"},[t._v("Edit/Active")])]),a("tbody",[t._l(t.list_company_title,(function(e,s){return a("tr",[0===s?a("td",{attrs:{rowspan:t.list_company_title.length}},[t._v(t._s(t.types[t.COMPANY]))]):t._e(),!1===e.is_active?a("td",[a("s",[t._v(t._s(e.title))])]):a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(!0===e.is_paid_salary?"Yes":"No"))]),a("td",[t._v(t._s(0===e.is_ot_days?"Business day":1===e.is_ot_days?"Weekend":"All day"))]),a("td",[t._v(t._s(1===e.add_sub_day_off?"Yes":"No"))]),a("td",[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn",attrs:{title:"Edit type here"}},[a("v-icon",{on:{click:function(a){return t.show_dialog_edit(e)}}},[t._v("mdi-pencil")])],1),a("v-switch",{staticClass:"ml-2",attrs:{color:"#43c9d0"},on:{click:function(a){return t.switch_active(e)}},model:{value:e.is_active,callback:function(a){t.$set(e,"is_active",a)},expression:"type.is_active"}})],1)])])})),t._l(t.list_insurance_title,(function(e,s){return a("tr",[0===s?a("td",{attrs:{rowspan:t.list_insurance_title.length}},[t._v(t._s(t.types[t.INSURANCE]))]):t._e(),!1===e.is_active?a("td",[a("s",[t._v(t._s(e.title))])]):a("td",[t._v(t._s(e.title))]),a("td",[t._v("No")]),a("td",[t._v(t._s(0===e.is_ot_days?"Business day":1===e.is_ot_days?"Weekend":"All day"))]),a("td",[t._v("No")]),a("td",[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn",attrs:{title:"Edit type here"}},[a("v-icon",{on:{click:function(a){return t.show_dialog_edit(e)}}},[t._v("mdi-pencil")])],1),a("v-switch",{staticClass:"ml-2",attrs:{color:"#43c9d0"},on:{click:function(a){return t.switch_active(e)}},model:{value:e.is_active,callback:function(a){t.$set(e,"is_active",a)},expression:"type.is_active"}})],1)])])}))],2)])])])])],1)},xr=[],kr={name:"TypeOff",middleware:"authen",components:{flatPickr:Ut.a},computed:Object(d["b"])({showNoti:"sidebar/showNoti"}),created:function(){var t=this;Ba.getTypeOff().then((function(e){console.log(e.data),t.list_company_title=Object(at["a"])(e.data).filter((function(e){return e.type===t.COMPANY})).sort((function(e,a){return t.func_sort(e,a)})),t.list_insurance_title=Object(at["a"])(e.data).filter((function(e){return e.type===t.INSURANCE})).sort((function(e,a){return t.func_sort(e,a)}))}))},data:function(){return{COMPANY:0,INSURANCE:1,EDIT_TYPE:function(t){return"Edit '".concat(t,"' type")},BUTTON_SUBMIT:function(t){return"".concat(t)},ADD_TYPE:"Add requirements",button_submit:"Add more",title_dialog:"",dialog:!1,id_type:"",title:"",type:0,is_salary:null,is_weekend:null,is_absence:null,list_company_title:[],list_insurance_title:[],types:["Company pay","Insurance pay"],items:[{text:"Homepage",to:{name:"Index"}},{text:"Requirements",active:!0}]}},head:function(){return{title:"Type off"}},methods:{show_dialog_edit:function(t){console.log(t),this.title=t.title,this.type=t.type,this.id_type=t.id,this.is_salary=t.is_paid_salary,this.is_absence=t.add_sub_day_off,this.is_weekend=t.is_ot_days,this.title_dialog=this.EDIT_TYPE(t.title),this.button_submit=this.BUTTON_SUBMIT("Edit now"),this.dialog=!0},show_dialog_add:function(){this.title="",this.is_salary=null,this.is_absence=null,this.is_weekend=null,this.title_dialog=this.ADD_TYPE,this.button_submit=this.BUTTON_SUBMIT("Add more"),this.dialog=!0},submit:function(t){var e=this,a=null;this.type===this.INSURANCE?a={title:this.title,type:this.type,is_pay_salary:!1,add_sub_day_off:0,is_ot_days:0,descriptions:"No"}:""!==this.title&&null!==this.is_salary&&null!==this.is_weekend&&null!==this.is_absence&&(a={title:this.title,type:this.type,is_paid_salary:this.is_salary,add_sub_day_off:this.is_absence,is_ot_days:this.is_weekend,descriptions:"No"}),a&&(0===t?Ba.addTypeOff(a).then((function(t){201===t.status&&(e.dialog=!1,a.type===e.COMPANY?e.list_company_title=[].concat(Object(at["a"])(e.list_company_title),[t.data]).sort((function(t,a){return e.func_sort(t,a)})):e.list_insurance_title=[].concat(Object(at["a"])(e.list_insurance_title),[t.data]).sort((function(t,a){return e.func_sort(t,a)})),e.$toast.success("Add successfully",{position:"top-right"}),e.title="",e.is_salary=null,e.is_absence=null,e.is_weekend=null)}))["catch"]((function(t){e.$toast.error("An error occurred",{position:"top-right"})})):Ba.editTypeOff(t,a).then((function(s){if(200===s.status){if(e.dialog=!1,e.$toast.success("Edit successfully",{position:"top-right"}),a.type===e.COMPANY){var n=e.list_company_title.indexOf(e.list_company_title.find((function(e){return e.id===t})));e.list_company_title=[].concat(Object(at["a"])(e.list_company_title.slice(0,n)),[s.data],Object(at["a"])(e.list_company_title.slice(n+1)))}else{var r=e.list_insurance_title.indexOf(e.list_insurance_title.find((function(e){return e.id===t})));e.list_insurance_title=[].concat(Object(at["a"])(e.list_insurance_title.slice(0,r)),[s.data],Object(at["a"])(e.list_insurance_title.slice(r+1)))}e.title="",e.is_salary=null,e.is_absence=null,e.is_weekend=null}}))["catch"]((function(t){e.$toast.error("An error occurred",{position:"top-right"})})))},switch_active:function(t){var e=this;Ba.handleActiveTypeoff(t.id).then((function(t){200===t.status?e.$toast.success("".concat(t.data.is_active?"Active":"Hided"," successfully"),{position:"top-right"}):e.$toast.error("An error occurred",{position:"top-right"})}))},formatDate:function(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[n,a,s].join("-")},func_sort:function(t,e){return new Date(t.created_at)-new Date(e.created_at)},click_salary:function(t){this.is_salary=t},click_weekend:function(t){this.is_weekend=t},click_absence:function(t){this.is_absence=t}}},Cr=kr,Dr=(a("549e"),Object(p["a"])(Cr,yr,xr,!1,null,"19bfccf2",null)),jr=Dr.exports,Rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"row position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("div",{staticClass:"main row col-8 mx-auto",attrs:{id:"id_profile"}},[a("table",{staticClass:"table table-bordered table-striped text-center"},[a("thead",{},[a("tr",{},[a("th",{staticClass:"w-15",attrs:{scope:"col"}},[t._v(" # ")]),a("th",{staticClass:"w-35",attrs:{scope:"col"}},[t._v(" Date ")]),a("th",{staticClass:"w-50",attrs:{scope:"col"}},[t._v(" Description ")]),a("th",[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","plus"]},on:{click:t.add_holiday}})],1)])]),a("tbody",t._l(t.list_holiday,(function(e,s){return a("tr",[a("td",[t._v(" "+t._s(s+1)+" ")]),a("td",[t._v(" "+t._s(t.formatDate(e.date))+" ")]),a("td",[t._v(" "+t._s(e.descriptions)+" ")]),a("td",[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","trash"]},on:{click:function(a){return t.remove_holiday(e.id)}}})],1)])})),0)])]),a("v-app",[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2"},[t._v(" Add holidays ")]),a("v-card-text",[a("div",{staticClass:"md-form col-md-6 row d-flex justify-content-between ml-3"},[a("label",{staticClass:"in"},[t._v("Choose: ")]),a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",disable:[t.datePicker]},placeholder:"Select date",name:"date",required:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticClass:"ml-6"},[a("label",[t._v("Description: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),a("v-card-actions",{staticClass:"mr-5"},[a("v-spacer"),a("v-btn",{attrs:{color:"dark",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{color:"#43c9d0",dark:""},on:{click:t.add_more}},[t._v(" Add more ")])],1)],1)],1)],1)],1)},Or=[],Ir={name:"Holiday",middleware:"authen",components:{flatPickr:Ut.a},computed:Object(d["b"])({showNoti:"sidebar/showNoti"}),created:function(){var t=this;Wa.getHolidays().then((function(e){t.list_holiday=Object(at["a"])(e.data).sort((function(e,a){return t.func_sort(e,a)}))}))},data:function(){return{list_holiday:[],dialog:!1,date:null,description:"",items:[{text:"Homepage",to:{name:"Index"}},{text:"Types of Leaves",to:{name:"type_off"}},{text:"Holidays",active:!0}]}},head:function(){return{title:"Holidays"}},methods:{add_more:function(){var t=this;this.dialog=!1,this.date&&this.description&&(console.log(this.description),Wa.addHoliday({date:this.date,descriptions:this.description}).then((function(e){200===e.status&&(t.list_holiday=[].concat(Object(at["a"])(t.list_holiday),[e.data]).sort((function(e,a){return t.func_sort(e,a)})),t.$toast.success("Add successfully",{position:"top-right"}),t.date=null,t.description="")}))["catch"]((function(e){t.$toast.error("An error occurred",{position:"top-right"})})))},func_sort:function(t,e){return new Date(t.date)-new Date(e.date)},add_holiday:function(){this.dialog=!0},remove_holiday:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=e.list_holiday.find((function(e){return e.id===t})),n="Do you want to delete the date' ".concat(s.date,"' ?"),e.confirm(n).then((function(a){a.isConfirmed&&Wa.removeHoliday(t).then((function(t){if(204===t.status){e.$toast.success("Deleted successfully",{position:"top-right"});var a=e.list_holiday.indexOf(s);e.list_holiday=[].concat(Object(at["a"])(e.list_holiday.slice(0,a)),Object(at["a"])(e.list_holiday.slice(a+1))).sort((function(t,a){return e.func_sort(t,a)}))}else e.$toast.error("An error occurred",{position:"top-right"})}))}));case 3:case"end":return a.stop()}}),a)})))()},datePicker:function(t){return t.getFullYear()===(new Date).getFullYear()+1},formatDate:function(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[n,a,s].join("-")},confirm:function(t){return tn.a.fire({title:t,showCancelButton:!0,confirmButtonColor:"#43c9d0",cancelButtonColor:"dark",confirmButtonText:"Yes, delete it!"})}}},Er=Ir,$r=(a("58ed"),Object(p["a"])(Er,Rr,Or,!1,null,"3e6e62f5",null)),Sr=$r.exports,qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{staticClass:"main-content"},[a("div",{staticClass:"main-profile row p-3",attrs:{id:"id_profile"}},[a("div",{staticClass:"col-md-6 mx-auto"},[a("div",{staticClass:"card-header text-white bg-info text-left py-4 d-flex justify-content-center align-items-center"},[a("h5",[a("strong",[t._v(" General profile ")])]),a("v-spacer"),a("div",[a("router-link",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin||t.user.id===t.userId,expression:"admin === 'true' || user.id === userId"}],staticClass:"text-white ml-3",class:{"d-none":!1===t.check},attrs:{to:{path:"/editprofile/"+t.currentUserId,params:{profile:t.profile}},profile:this.profile}},[a("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1)],1)],1),a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"profile"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"}),a("div",{staticClass:"col-sm-6 ml-2"},[t.profile.image?t._e():a("img",{attrs:{src:t.defaultLogo,alt:"",height:"100px"},on:{click:function(e){return t.showImageModal(t.defaultLogo)}}}),a("img",{attrs:{src:t.profile.image,alt:""},on:{click:function(e){return t.showImageModal(t.profile.image)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Name")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.profile.name)+" ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Email")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.user.email)+" ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Gender")]),a("div",{staticClass:"col-sm-8 ml-2"},[void 0!==t.GENDERS[this.profile.gender]?a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.GENDERS[this.profile.gender].text)+" ")]):t._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin||t.user.id===t.userId,expression:"admin === 'true' || user.id === userId"}],staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Join date")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.profile.join_date)+" ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin||t.user.id===t.userId,expression:"admin === 'true' || user.id === userId"}],staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Personal email")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.profile.personal_email)+" ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Phone")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.profile.phone)+" ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Slack ID")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.profile.slack_id)+" ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Title")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.user.title)+" ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 mt-1"},[t._v("Birthday")]),a("div",{staticClass:"col-sm-8 ml-2"},[t.profile.birth_day?a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.profile.birth_day.split("-").reverse().join("-"))+" ")]):t._e()])]),t.check?a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Line manager")]),"true"===t.admin&&t.editLiner?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.managerEmail,expression:"managerEmail"}],staticClass:"btn mr-2 border-dark",attrs:{list:"names"},domProps:{value:t.managerEmail},on:{keyup:t.filterUsers,focus:t.filterUsers,input:function(e){e.target.composing||(t.managerEmail=e.target.value)}}}),a("datalist",{attrs:{id:"names"}},t._l(t.listUsers,(function(e){return a("option",{attrs:{"value-data":e.name}},[t._v(" "+t._s(String(e.name).concat(" ("+String(e.email)+")"))+" ")])})),0),a("v-btn",{staticClass:"mr-4",attrs:{color:"#43c9d0",dark:"",depressed:""},on:{click:function(e){return t.setLineManager()}}},[t._v(" Ok ")]),a("v-btn",{staticClass:"mr-4 secondary",attrs:{dark:"",depressed:""},on:{click:function(){return t.editLiner=!t.editLiner}}},[t._v(" Cancel ")])],1):t._e(),t.editLiner?t._e():a("div",{staticClass:"mx-3 d-inline-flex row"},[a("a",{staticClass:"col-sm-8",attrs:{href:"/profile/"+t.managerId,title:"Click to move to Profile page"}},[a("p",{staticClass:"mt-1 text-dark"},[t._v(" "+t._s(t.profile.line_manager_email)+" ")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin&&!t.editLiner&&!t.editBonus,expression:"admin === 'true' && !editLiner && !editBonus"}],staticClass:"btn font-weight-normal ml-3 col-sm-1 mt-3",class:{"d-none":!1===t.profile.active},attrs:{"data-toggle":"tooltip",title:"Click set line manager"},on:{click:function(){return t.editLiner=!t.editLiner}}},[a("font-awesome-icon",{staticClass:"text-info",attrs:{icon:["fas","edit"]}})],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin&&!t.editLiner&&!t.editBonus,expression:"admin === 'true' && !editLiner && !editBonus"}],staticClass:"btn font-weight-normal col-sm-1 mt-3",class:{"d-none":!1===t.profile.active},attrs:{"data-toggle":"tooltip",title:"Click remove line manager"},on:{click:function(e){return t.removeLineManager()}}},[a("font-awesome-icon",{staticClass:"text-danger",attrs:{icon:["fas","user-times"]}})],1)])]):t._e(),t.check?a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label mt-3"},[t._v("Maximum level approve")]),"true"===t.admin&&t.editLevel?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.levelApprove,expression:"levelApprove"}],staticClass:"btn mr-2 border-dark",attrs:{type:"number",list:"names"},domProps:{value:t.levelApprove},on:{input:function(e){e.target.composing||(t.levelApprove=e.target.value)}}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"#43c9d0",dark:"",depressed:""},on:{click:function(e){return t.setLevelApprove()}}},[t._v(" Ok ")]),a("v-btn",{staticClass:"mr-4 secondary",attrs:{dark:"",depressed:""},on:{click:function(e){t.editLevel=!t.editLevel}}},[t._v(" Cancel ")])],1):t._e(),t.editLevel?t._e():a("div",{staticClass:"mx-3 d-inline-flex row"},[a("span",{staticClass:"col-sm-8"},[a("p",{staticClass:"mt-1 text-dark"},[t._v(" "+t._s(t.profile.maximum_level_approved)+" ")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin&&!t.editLevel,expression:"admin === 'true' && !editLevel"}],staticClass:"btn font-weight-normal ml-3 col-sm-1 mt-3",attrs:{"data-toggle":"tooltip",title:"Click set level approve"},on:{click:function(e){t.editLevel=!t.editLevel}}},[a("font-awesome-icon",{staticClass:"text-info",attrs:{icon:["fas","edit"]}})],1)])]):t._e(),t.check?a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Bonus")]),"true"===t.admin&&t.editBonus&&t.user.id!==t.userId?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bonusNumber,expression:"bonusNumber"}],staticClass:"btn mr-2 border-dark",attrs:{type:"number"},domProps:{value:t.bonusNumber},on:{input:function(e){e.target.composing||(t.bonusNumber=e.target.value)}}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"#43c9d0",dark:"",depressed:""},on:{click:function(e){return t.setBonus(t.bonusNumber,t.profile.id)}}},[t._v(" Add ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin&&t.editBonus,expression:"admin === 'true' && editBonus"}],staticClass:"mr-4 secondary",attrs:{dark:"",depressed:""},on:{click:function(){return t.editBonus=!t.editBonus}}},[t._v(" Cancel ")])],1):t._e(),t.editBonus?t._e():a("div",{staticClass:"mx-3 d-inline-flex"},[a("a",{attrs:{href:"/profile/"+t.managerId,title:"Click to move to Profile page"}},[0!=t.bonusNumber?a("p",{staticClass:"mt-1 text-dark"},[t._v(" "+t._s(t.bonusNumber)+" ")]):t._e()])])]):t._e(),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-10 col-form-label"},[a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin&&!t.editBonus&&t.currentUserId!==t.userId&&!t.editLiner,expression:"admin === 'true' && !editBonus && currentUserId !== userId && !editLiner"}],staticClass:"btn btn-info font-weight-normal col-sm-3 mr-4",class:{"d-none":!1===t.profile.active},on:{click:function(){return t.editBonus=!t.editBonus}}},[t._v(" Add bonus ")])])]),a("label",{staticClass:"col-sm-2 col-form-label"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin&&!0===t.user.active&&!0!==t.user.admin,expression:"admin === 'true' && user.active === true && user.admin !== true"}],staticClass:"btn btn-danger font-weight-normal",class:{"d-none":!1===t.profile.active},on:{click:function(e){return t.showModal(t.profile.id,t.profile.name)}}},[t._v(" Deactive ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin&&!1===t.profile.active,expression:"admin === 'true' && profile.active === false"}],staticClass:"btn btn-info font-weight-normal mt-3 float-right",class:{"d-none":!0===t.profile.active},on:{click:function(e){return t.active(t.user.id)}}},[t._v(" Active ")])])])])]),a("div",{staticClass:"col-md-6 mx-auto"},[t.profile.id?a("Photo",{attrs:{profileId:t.profile.id}}):t._e()],1)]),a("b-modal",{ref:"imagemodal",attrs:{size:"xl","hide-footer":"","hide-header":""}},[a("div",{staticClass:"d-block text-center mx-auto px-auto"},[a("img",{staticClass:"modal_image",staticStyle:{"max-width":"-webkit-fill-available"},attrs:{src:t.photo,alt:".."}})])]),a("b-modal",{ref:"mymodal",attrs:{"hide-footer":"","hide-header":""}},[a("div",{staticClass:"d-block text-center text-danger"},[a("h3",[t._v("Deactivate")]),a("hr")]),"true"===t.admin?a("div",{staticClass:"d-block text-center mb-4"},[t._v(" Do you want to deactivate user "),a("p",{staticClass:"text-danger d-inline"},[t._v(" "+t._s(t.currentname)+" ")])]):t._e(),a("div",{staticClass:"row"},[a("b-button",{staticClass:"mt-3 mx-auto col-4",attrs:{variant:"danger",block:""},on:{click:t.del}},[t._v(" Confirm ")]),a("b-button",{staticClass:"mt-3 mx-auto col-4",attrs:{variant:"outline-dark",block:""},on:{click:t.hideModal}},[t._v(" Cancel ")])],1)]),a("b-modal",{ref:"imagemodal",attrs:{size:"xl","hide-footer":"","hide-header":""}},[a("div",{staticClass:"d-block text-center mx-auto px-auto"},[a("img",{staticClass:"modal_image",staticStyle:{"max-width":"-webkit-fill-available"},attrs:{src:t.photo}})])])],1)])},Nr=[],Mr=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t){var e=this.request({auth:!0}).post("".concat(this.entity),t);return e}},{key:"entity",get:function(){return"workday/add_bonus"}}]),a}(dt["a"]),Pr=new Mr,Lr={name:"general",middleware:"authen",components:{Photo:ws},data:function(){return{levelApprove:"",snackbar:{show:!1,message:null,color:null},bonusNumber:0,defaultLogo:se.a,editLiner:!1,editLevel:!1,editBonus:!1,user:{},profile:{},admin:localStorage.getItem("is_admin"),currentname:"",photo:"",userId:localStorage.getItem("user_id"),currentUserId:"",id:"",response:"",items:[{text:"Homepage",to:{name:"Index"}},{text:"Profile",active:!0}],managerEmail:"",managerId:"",row:{},listUsers:[]}},computed:{check:function(){var t=localStorage.getItem("user_id"),e=this.$route.params.id;return t===e||"true"===this.admin},GENDERS:function(){return ne["a"]}},created:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.asyncData(t.$route.params);case 2:case"end":return e.stop()}}),e)})))()},methods:{setBonus:function(t,e){var a=this;return Object(st["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n={profile_id:e,bonus:t},s.next=3,Pr.create(n);case 3:a.editBonus=!1;case 4:case"end":return s.stop()}}),s)})))()},filterUsers:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",f.a.get("/user?name=".concat(t.target.value)).then((function(t){e.listUsers=[],t.data.results.forEach((function(t){t.id!==e.user.id&&e.listUsers.push({name:t.profile.name,email:t.email,id:t.id})}))})));case 1:case"end":return a.stop()}}),a)})))()},removeLineManager:function(){var t=this;return f.a["delete"]("user/profile/".concat(this.profile.id,"/remove_line_manager")).then((function(){t.profile.line_manager_email=null,t.$toast.success("Remove line manager successfully!"),t.asyncData(t.$route.params)}))["catch"]((function(e){t.snackbar={message:e.response?e.response.data.detail:"Error occured",color:"error",show:!0}}))["finally"]((function(){t.editLiner=!1}))},setLineManager:function(){var t=this,e=this.managerEmail.indexOf("(");return this.managerEmail=this.managerEmail.substring(0,e-1),f.a.post("user/profile/".concat(this.profile.id,"/set_line_manager"),{name:this.managerEmail}).then((function(e){t.profile.line_manager_email=t.managerEmail,t.managerEmail="",t.managerId=e.data.manager_id,t.$toast.success("Set line manager successfully!"),t.editLiner=!1}))["catch"]((function(e){console.log(e);var a=e.response?e.response.data.detail:"Error occured";t.$toast.error(a)}))},setLevelApprove:function(){var t=this,e=this.managerEmail.indexOf("(");return this.managerEmail=this.managerEmail.substring(0,e-1),f.a.post("user/profile/".concat(this.profile.id,"/set_level_approved"),{level:this.levelApprove}).then((function(e){t.profile.maximum_level_approved=e.data.level,t.$toast.success("Set maximum level approve successfully!"),t.editLevel=!1}))["catch"]((function(e){var a=e.response?e.response.data.detail:"Error occured";t.$toast.error(a)}))},showModal:function(t,e){this.currentid=t,this.currentname=e,this.$refs.mymodal.show()},hideModal:function(){this.$refs.mymodal.hide()},showImageModal:function(t){this.photo=t,this.$refs.imagemodal.show()},hideImageModal:function(){this.$refs.imagemodal.hide()},active:function(t){var e=this;f.a.put("user/".concat(t,"/activate"),"").then((function(t){e.user.active=!0}))["catch"]((function(t){}))},del:function(){var t=this;f.a["delete"]("user/".concat(this.user.id)).then((function(e){t.$refs.mymodal.hide(),t.profile.active=!1}))["catch"]((function(t){}))},asyncData:function(t){var e=this;return f.a.get("/user/".concat(t.id)).then((function(t){e.user=t.data,e.profile=t.data.profile,e.managerId=t.data.profile.line_manager_user_id,e.currentUserId=t.data.profile.user}))["catch"]((function(t){error({statusCode:404,message:"Post not found"})}))}},head:function(){return{title:"Profile"}}},Ar=Lr,Tr=(a("2a47"),Object(p["a"])(Ar,qr,Nr,!1,null,"6107268e",null)),Fr=Tr.exports,Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-5"},[a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("Bank Account")]),a("span",{staticClass:"float-right"},[t.userBank.account_number?a("font-awesome-icon",{attrs:{icon:["fas","edit"]},on:{click:function(e){return t.toggleEditing()}}}):a("font-awesome-icon",{attrs:{icon:["fas","plus"]},on:{click:function(e){return t.toggleEditing()}}})],1)]),a("form",{staticClass:"bg-white p-4 text-info"},[t.userBank.account_number?a("div",[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Account number")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userBank.account_number)+" ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Bank name")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userBank.bank_name)+" ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Bank branch")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userBank.branch)+" ")])])])]):t._e()]),a("b-modal",{ref:"create_bank_modal",attrs:{"ok-disabled":this.$v.$invalid,"ok-title":"Confirm","ok-variant":"info"},on:{ok:function(e){return t.saveBank()}}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("b-badge",{staticClass:"p-3 w-100"},[t._v(" Input your bank account ")])],1),a("div",{staticClass:"col-sm-12 mx-auto row my-4"},[a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"id_invite_form"}},[a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.account_number.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v(" Account number "),a("sup",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.account_number,expression:"formData.account_number"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.account_number},on:{input:function(e){e.target.composing||t.$set(t.formData,"account_number",e.target.value)}}}),t.$v.formData.account_number.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v(" Bank "),a("sup",{staticClass:"text-danger"},[t._v("*")])]),a("div",{staticClass:"col-sm-7 pt-2 inner-addon right-addon row"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.bank,expression:"formData.bank"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"bank",e.target.multiple?a:a[0])}}},t._l(this.bankList,(function(e){return a("option",{domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),0)])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v(" Bank branch ")]),a("div",{staticClass:"col-sm-7 pt-2 inner-addon right-addon row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.branch,expression:"formData.branch"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.formData.branch},on:{input:function(e){e.target.composing||t.$set(t.formData,"branch",e.target.value)}}})])])])])])],2)],1)},Br=[],zr=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t,e){var a=this.request({auth:!0}).post("user/".concat(this.entity,"/").concat(t,"/add"),e);return a}},{key:"get",value:function(t){var e=this.request({auth:!0}).get("user/".concat(this.entity,"/").concat(t))["catch"]((function(t){return console.log(t)}));return e}},{key:"update",value:function(t,e){var a=this.request({auth:!0}).put("user/".concat(this.entity,"/").concat(t),e);return a}},{key:"delete",value:function(t){return this.request({auth:!0})["delete"]("user/".concat(this.entity,"/").concat(t))}},{key:"getBankList",value:function(){var t=this.request({auth:!0}).get("user/bank_list");return t}},{key:"entity",get:function(){return"bank"}}]),a}(dt["a"]),Hr=new zr,Yr=(a("c1c3"),{data:function(){return{userId:"",admin:localStorage.getItem("is_admin"),selected:"",formData:{account_number:"",bank:null,branch:""},keysToDelete:["user","id","create_at","delete_at"],userBank:{},bankList:[]}},validations:{formData:{account_number:{required:St["required"]}}},created:function(){this.userId=this.$route.params.id,this.getData()},methods:{toggleEditing:function(){this.showForm()},showForm:function(){this.$refs.create_bank_modal.show()},getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Hr.getBankList();case 2:return t.bankList=e.sent.data,e.next=5,Hr.get(t.userId);case 5:t.userBank=e.sent.data,t.formData=Object(u["a"])({},t.userBank),t.keysToDelete.forEach((function(e){return delete t.formData[e]}));case 8:case"end":return e.stop()}}),e)})))()},saveBank:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.userBank.account_number){e.next=7;break}return e.next=4,Hr.create(t.userId,t.formData);case 4:e.t0=e.sent.data,e.next=10;break;case 7:return e.next=9,Hr.update(t.userId,t.formData);case 9:e.t0=e.sent.data;case 10:t.userBank=e.t0,e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](0),e.t1.response&&e.t1.response.data&&t.$emit("openSnack",e.t1.response.data,"error");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}}}),Vr=Yr,Wr=Object(p["a"])(Vr,Ur,Br,!1,null,null,null),Gr=Wr.exports,Jr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-5"},[a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("Contact")]),a("span",{staticClass:"float-right"},[t.userContact.permanent_address?a("font-awesome-icon",{attrs:{icon:["fas","edit"]},on:{click:t.toggleEditing}}):a("font-awesome-icon",{attrs:{icon:["fas","plus"]},on:{click:t.toggleEditing}})],1)]),a("form",{staticClass:"bg-white p-4 text-info"},[t.userContact.permanent_address?a("div",[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Permanent address")]),a("div",{staticClass:"col-sm-7 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userContact.permanent_address)+" ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Temporary address")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userContact.temporary_address)+" ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Household registration number")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userContact.household_registration_number)+" ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Phone emergency")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userContact.contact_emergency)+" ")])])])]):t._e()]),a("b-modal",{ref:"create_contact_modal",attrs:{"ok-disabled":this.$v.$invalid,"ok-title":"Confirm","ok-variant":"info"},on:{ok:function(e){return t.saveContact()}}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("b-badge",{staticClass:"p-3 w-100"},[t._v(" Input your contact information ")])],1),a("div",{staticClass:"col-sm-12 mx-auto row my-4"},[a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"id_invite_form"}},[a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.permanent_address.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Permanent address"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.permanent_address,expression:"formData.permanent_address"}],staticClass:"form-control row form__input",attrs:{type:"text"},domProps:{value:t.formData.permanent_address},on:{input:function(e){e.target.composing||t.$set(t.formData,"permanent_address",e.target.value)}}}),t.$v.formData.permanent_address.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.temporary_address.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Temporary address"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.temporary_address,expression:"formData.temporary_address"}],staticClass:"form-control row form__input",attrs:{type:"text"},domProps:{value:t.formData.temporary_address},on:{input:function(e){e.target.composing||t.$set(t.formData,"temporary_address",e.target.value)}}}),t.$v.formData.temporary_address.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required. ")])])]),a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.household_registration_number.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Household registration number"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.household_registration_number,expression:"formData.household_registration_number"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.household_registration_number},on:{input:function(e){e.target.composing||t.$set(t.formData,"household_registration_number",e.target.value)}}}),t.$v.formData.household_registration_number.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required. ")]),t.$v.formData.household_registration_number.minLength?t._e():a("div",{staticClass:"error"},[t._v(" Required at least "+t._s(t.$v.formData.household_registration_number.$params.minLength.min)+" characters. ")])])]),a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.household_registration_number.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Phone emergency"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.contact_emergency,expression:"formData.contact_emergency"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.contact_emergency},on:{input:function(e){e.target.composing||t.$set(t.formData,"contact_emergency",e.target.value)}}}),t.$v.formData.contact_emergency.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required. ")]),t.$v.formData.contact_emergency.integer?t._e():a("div",{staticClass:"error"},[t._v(" Contact must be number ")]),t.$v.formData.contact_emergency.minLength?t._e():a("div",{staticClass:"error"},[t._v(" Required at least "+t._s(t.$v.formData.contact_emergency.$params.minLength.min)+" digits. ")])])])])])])],2)],1)},Zr=[],Qr=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t,e){var a=this.request({auth:!0}).post("user/".concat(this.entity,"/").concat(t,"/add"),e);return a}},{key:"get",value:function(t){var e=this.request({auth:!0}).get("user/".concat(this.entity,"/").concat(t));return e}},{key:"update",value:function(t,e){var a=this.request({auth:!0}).put("user/".concat(this.entity,"/").concat(t),e);return a}},{key:"delete",value:function(t){return this.request({auth:!0})["delete"]("user/".concat(this.entity,"/").concat(t))}},{key:"entity",get:function(){return"contact"}}]),a}(dt["a"]),Kr=new Qr,Xr={data:function(){return{userId:"",admin:localStorage.getItem("is_admin"),selected:"",formData:{permanent_address:"",temporary_address:"",household_registration_number:"",contact_emergency:""},keysToDelete:["user","id","create_at","delete_at"],userContact:{}}},validations:{formData:{permanent_address:{required:St["required"]},temporary_address:{required:St["required"]},household_registration_number:{required:St["required"],minLength:Object(St["minLength"])(5)},contact_emergency:{required:St["required"],integer:St["integer"],minLength:Object(St["minLength"])(9)}}},created:function(){this.userId=this.$route.params.id,this.getData()},methods:{toggleEditing:function(){this.showForm()},showForm:function(){this.$refs.create_contact_modal.show()},getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kr.get(t.userId);case 2:t.userContact=e.sent.data,t.formData=Object(u["a"])({},t.userContact),t.keysToDelete.forEach((function(e){return delete t.formData[e]}));case 5:case"end":return e.stop()}}),e)})))()},saveContact:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.userContact.permanent_address){e.next=7;break}return e.next=4,Kr.create(t.userId,t.formData);case 4:e.t0=e.sent.data,e.next=10;break;case 7:return e.next=9,Kr.update(t.userId,t.formData);case 9:e.t0=e.sent.data;case 10:t.userContact=e.t0,e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](0),e.t1.response&&e.t1.response.data&&t.$emit("openSnack",e.t1.response.data,"error");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}}},ti=Xr,ei=Object(p["a"])(ti,Jr,Zr,!1,null,null,null),ai=ei.exports,si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-5"},[a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("Employee Identity")]),a("span",{staticClass:"float-right"},[t.userIdentity.identity_number?a("font-awesome-icon",{attrs:{icon:["fas","edit"]},on:{click:t.toggleEditing}}):a("font-awesome-icon",{attrs:{icon:["fas","plus"]},on:{click:t.toggleEditing}})],1)]),a("form",{staticClass:"bg-white p-4 text-info"},[t.userIdentity.identity_number?a("div",[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Identity number")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userIdentity.identity_number)+" ")]),a("v-text-field",{attrs:{"error-messages":t.identityErrors,outlined:"",dense:"",required:""},on:{input:function(e){return t.$v.formData.identity_number.$touch()},blur:function(e){return t.$v.formData.identity_number.$touch()}},model:{value:t.formData.identity_number,callback:function(e){t.$set(t.formData,"identity_number",e)},expression:"formData.identity_number"}})],1)]),a("div",{staticClass:"form-group row mt-3"},[a("label",{staticClass:"col-sm-3"},[t._v("Issue date")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userIdentity.issue_date)+" ")]),a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},name:"date",required:""},model:{value:t.formData.issue_date,callback:function(e){t.$set(t.formData,"issue_date",e)},expression:"formData.issue_date"}})],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3"},[t._v("Issue place")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userIdentity.issue_place)+" ")]),a("v-text-field",{attrs:{"error-messages":t.issuePlaceErrors,outlined:"",dense:"",required:""},on:{input:function(e){return t.$v.formData.issue_place.$touch()},blur:function(e){return t.$v.formData.issue_place.$touch()}},model:{value:t.formData.issue_place,callback:function(e){t.$set(t.formData,"issue_place",e)},expression:"formData.issue_place"}})],1)]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Place of birth")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userIdentity.place_of_birth)+" ")]),a("v-text-field",{attrs:{"error-messages":t.pobErrors,outlined:"",dense:"",required:""},on:{input:function(e){return t.$v.formData.place_of_birth.$touch()},blur:function(e){return t.$v.formData.place_of_birth.$touch()}},model:{value:t.formData.place_of_birth,callback:function(e){t.$set(t.formData,"place_of_birth",e)},expression:"formData.place_of_birth"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.editting,expression:"editting"}],staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3"}),a("div",{staticClass:"col-sm-8 ml-2"},[a("button",{staticClass:"btn btn-primary mr-3",attrs:{disabled:this.$v.$invalid},on:{click:t.submitForm}},[t._v("Save")]),a("button",{staticClass:"btn btn-light",on:{click:t.toggleEditing}},[t._v("Cancel")])])])]):t._e()]),a("b-modal",{ref:"create_identity_modal",attrs:{"ok-disabled":this.$v.$invalid,"ok-title":"Confirm","ok-variant":"info"},on:{ok:function(e){return t.saveIdentity()}}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("b-badge",{staticClass:"p-3 w-100"},[t._v(" Input your identity account ")])],1),a("div",{staticClass:"col-sm-12 mx-auto row my-4"},[a("form",{staticClass:"bg-white p-4 text-info"},[a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.identity_number.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Identity number"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.identity_number,expression:"formData.identity_number"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.identity_number},on:{input:function(e){e.target.composing||t.$set(t.formData,"identity_number",e.target.value)}}}),t.$v.formData.identity_number.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")]),t.$v.formData.identity_number.integer?t._e():a("div",{staticClass:"error"},[t._v(" Must contain only numbers ")]),t.$v.formData.identity_number.minLength?t._e():a("div",{staticClass:"error"},[t._v(" Required at least "+t._s(t.$v.formData.identity_number.$params.minLength.min)+" digits. ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Issue Date"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.issue_date,expression:"formData.issue_date"}],staticClass:"form-control row",attrs:{type:"date"},domProps:{value:t.formData.issue_date},on:{input:function(e){e.target.composing||t.$set(t.formData,"issue_date",e.target.value)}}})])]),a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.issue_place.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Issue place"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2 inner-addon right-addon row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.issue_place,expression:"formData.issue_place"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.formData.issue_place},on:{input:function(e){e.target.composing||t.$set(t.formData,"issue_place",e.target.value)}}}),t.$v.formData.issue_place.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Place of birth")]),a("div",{staticClass:"col-sm-7 pt-2 inner-addon right-addon row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.place_of_birth,expression:"formData.place_of_birth"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.formData.place_of_birth},on:{input:function(e){e.target.composing||t.$set(t.formData,"place_of_birth",e.target.value)}}})])])])])])],2)],1)},ni=[],ri=(a("b64b"),function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t,e){var a=this.request({auth:!0}).post("user/".concat(this.entity,"/").concat(t,"/add"),e);return a}},{key:"get",value:function(t){var e=this.request({auth:!0}).get("user/".concat(this.entity,"/").concat(t));return e}},{key:"update",value:function(t,e){var a=this.request({auth:!0}).put("user/".concat(this.entity,"/").concat(t),e);return a}},{key:"delete",value:function(t){return this.request({auth:!0})["delete"]("user/".concat(this.entity,"/").concat(t))}},{key:"entity",get:function(){return"identity"}}]),a}(dt["a"])),ii=new ri,oi={data:function(){return{selected:"",userId:"",admin:localStorage.getItem("admin"),formData:{identity_number:"",issue_date:null,issue_place:"",place_of_birth:""},keysToDelete:["user","id","create_at","delete_at"],userIdentity:{}}},validations:{formData:{identity_number:{required:St["required"],integer:St["integer"],minLength:Object(St["minLength"])(9)},issue_place:{required:St["required"]},place_of_birth:{required:St["required"]}}},created:function(){this.userId=this.$route.params.id,this.getData()},methods:{submitModal:function(){this.userIdentity.identity_number?this.updateIdentity():this.createIdentity()},toggleEditing:function(){this.showForm()},showForm:function(){this.$refs.create_identity_modal.show()},getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ii.get(t.userId);case 2:t.userIdentity=e.sent.data,t.formData=Object(u["a"])({},t.userIdentity),t.keysToDelete.forEach((function(e){return delete t.formData[e]}));case 5:case"end":return e.stop()}}),e)})))()},saveIdentity:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.userIdentity.identity_number){e.next=7;break}return e.next=4,ii.create(t.userId,t.formData);case 4:e.t0=e.sent.data,e.next=10;break;case 7:return e.next=9,ii.update(t.userId,t.formData);case 9:e.t0=e.sent.data;case 10:t.userIdentity=e.t0,t.$toast.success("Update successfully"),e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](0),e.t1.response&&e.t1.response.data&&(a=e.t1.response.data,s=Object.keys(a),console.log(e.t1.response.data[s[0]]),t.$toast.error("".concat(s[0],": ").concat(a[s[0]])));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}},ci=oi,li=Object(p["a"])(ci,si,ni,!1,null,null,null),ui=li.exports,di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-5"},[a("h5",{staticClass:"card-header text-white bg-info text-left py-4"},[a("strong",[t._v("Employee social insurance")]),a("span",{staticClass:"float-right"},[t.userInsurance.social_insurance_code?a("font-awesome-icon",{attrs:{icon:["fas","edit"]},on:{click:t.toggleEditing}}):a("font-awesome-icon",{attrs:{icon:["fas","plus"]},on:{click:t.toggleEditing}})],1)]),a("form",{staticClass:"bg-white p-4 text-info"},[t.userInsurance.social_insurance_code?a("div",[a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Social insurance code")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userInsurance.social_insurance_code)+" ")])])]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-sm-3"},[t._v("Start date")]),a("div",{staticClass:"col-sm-8 ml-2"},[a("p",{staticClass:"text-dark"},[t._v(" "+t._s(t.userInsurance.start_date)+" ")])])])]):t._e()]),a("b-modal",{ref:"create_insurance_modal",attrs:{"ok-disabled":this.$v.$invalid,"ok-title":"Confirm","ok-variant":"info"},on:{ok:function(e){return t.saveInsurance()}}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("b-badge",{staticClass:"p-3 w-100"},[t._v(" Input your social insurance information ")])],1),a("div",{staticClass:"col-sm-12 mx-auto row my-4"},[a("form",{staticClass:"bg-white p-4 text-info",attrs:{id:"id_invite_form"}},[a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.social_insurance_code.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Social insurance code"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.social_insurance_code,expression:"formData.social_insurance_code"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.social_insurance_code},on:{input:function(e){e.target.composing||t.$set(t.formData,"social_insurance_code",e.target.value)}}}),t.$v.formData.social_insurance_code.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Start date"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.start_date,expression:"formData.start_date"}],staticClass:"form-control row",attrs:{type:"date"},domProps:{value:t.formData.start_date},on:{input:function(e){e.target.composing||t.$set(t.formData,"start_date",e.target.value)}}})])])])])])],2)],1)},mi=[],fi=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t,e){var a=this.request({auth:!0}).post("user/".concat(this.entity,"/").concat(t,"/add"),e);return a}},{key:"get",value:function(t){var e=this.request({auth:!0}).get("user/".concat(this.entity,"/").concat(t));return e}},{key:"update",value:function(t,e){var a=this.request({auth:!0}).put("user/".concat(this.entity,"/").concat(t),e);return a}},{key:"delete",value:function(t){return this.request({auth:!0})["delete"]("user/".concat(this.entity,"/").concat(t))}},{key:"entity",get:function(){return"insurance"}}]),a}(dt["a"]),vi=new fi,hi={data:function(){return{userId:"",admin:localStorage.getItem("is_admin"),selected:"",formData:{social_insurance_code:"",issue_date:null},keysToDelete:["user","id","create_at","delete_at"],userInsurance:{}}},validations:{formData:{social_insurance_code:{required:St["required"]}}},created:function(){this.userId=this.$route.params.id,this.getData()},methods:{toggleEditing:function(){this.showForm()},showForm:function(){this.$refs.create_insurance_modal.show()},getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vi.get(t.userId);case 2:t.userInsurance=e.sent.data,t.formData=Object(u["a"])({},t.userInsurance),t.keysToDelete.forEach((function(e){return delete t.formData[e]}));case 5:case"end":return e.stop()}}),e)})))()},saveInsurance:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.userInsurance.social_insurance_code){e.next=7;break}return e.next=4,vi.create(t.userId,t.formData);case 4:e.t0=e.sent.data,e.next=10;break;case 7:return e.next=9,vi.update(t.userId,t.formData);case 9:e.t0=e.sent.data;case 10:t.userInsurance=e.t0,e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](0),e.t1.response&&e.t1.response.data&&t.$emit("openSnack",e.t1.response.data,"error");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}}},pi=hi,gi=Object(p["a"])(pi,di,mi,!1,null,null,null),_i=gi.exports,bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-profile row p-3 m-4",attrs:{id:"id_profile"}},[a("table",{staticClass:"table table-bordered table-rounded table-fixed table-responsive"},[a("thead",{staticClass:"bg-info"},[a("tr",[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),a("th",{staticClass:"add text-center",attrs:{scope:"col"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","plus"]},on:{click:function(e){return t.toggleEditing()}}})],1)])]),a("tbody",t._l(t.userEducations,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-dark"},[t._v(" "+t._s(e.school)+" ")]),a("td",{staticClass:"text-dark"},[t._v(" "+t._s(e.degree)+" ")]),a("td",{staticClass:"text-dark"},[t._v(" "+t._s(e.field_of_study)+" ")]),a("td",{staticClass:"text-dark"},[t._v(" "+t._s(e.graduated_year)+" ")]),a("td",{staticClass:"text-dark"},[t._v(" "+t._s(e.additional_notes)+" ")]),a("td",{staticClass:"w-6 text-center text-dark"},[a("span",{staticClass:"mr-3",on:{click:function(a){return t.toggleEditing(e)}}},[a("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),a("span",{on:{click:function(a){return t.toggleConfirmDelete(e)}}},[a("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])])})),0)]),a("b-modal",{ref:"create_education_modal",attrs:{"ok-disabled":this.$v.$invalid,"ok-title":"Confirm","ok-variant":"info"},on:{ok:function(e){return t.submitModal()},hidden:t.resetModal}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("b-badge",{staticClass:"p-3 w-100"},[t._v(" Input your education information ")])],1),a("div",{staticClass:"col-sm-12 mx-auto row my-4"},[a("form",{staticClass:"bg-white p-4 text-info"},[a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.school.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("School name"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.school,expression:"formData.school"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.school},on:{input:function(e){e.target.composing||t.$set(t.formData,"school",e.target.value)}}}),t.$v.formData.school.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.degree.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Degree"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.degree,expression:"formData.degree"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.degree},on:{input:function(e){e.target.composing||t.$set(t.formData,"degree",e.target.value)}}}),t.$v.formData.degree.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Year of graduation")]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.graduated_year,expression:"formData.graduated_year"}],staticClass:"form-control row",attrs:{type:"number",min:"2000",max:"3000"},domProps:{value:t.formData.graduated_year},on:{input:function(e){e.target.composing||t.$set(t.formData,"graduated_year",e.target.value)}}})])]),a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.field_of_study.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Major"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.field_of_study,expression:"formData.field_of_study"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.field_of_study},on:{input:function(e){e.target.composing||t.$set(t.formData,"field_of_study",e.target.value)}}}),t.$v.formData.field_of_study.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Notes")]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.additional_notes,expression:"formData.additional_notes"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.additional_notes},on:{input:function(e){e.target.composing||t.$set(t.formData,"additional_notes",e.target.value)}}})])])])])])],2),a("b-modal",{ref:"delete_education_modal",attrs:{"ok-title":"Confirm","ok-variant":"danger"},on:{ok:function(e){return t.deleteEducation()}}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("p",{staticClass:"p-3 w-100 text-dark"},[t._v(" Do you want to remove? ")])]),a("div",{staticClass:"col-sm-12 mx-auto row my-4"})])],2)],1)},wi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"school",attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white font-weight-bold"},[t._v(" School name ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"degree",attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white font-weight-bold"},[t._v(" Degree ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"study",attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white font-weight-bold"},[t._v(" Major ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"year",attrs:{scope:"col"}},[a("span",{staticClass:"btn text-white font-weight-bold"},[t._v(" Year of graduation ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"notes",attrs:{scope:"col"}},[a("button",{staticClass:"btn dropdown-toggle text-white  font-weight-bold"},[t._v(" Notes ")])])}],yi=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t,e){var a=this.request({auth:!0}).post("user/".concat(this.entity,"/").concat(t,"/add"),e);return a}},{key:"get",value:function(t){var e=this.request({auth:!0}).get("user/".concat(this.entity,"/").concat(t));return e}},{key:"update",value:function(t,e){return this.request({auth:!0}).put("user/".concat(this.entity,"/").concat(t),e)}},{key:"delete",value:function(t,e){return f()({method:"delete",headers:{Authorization:"".concat(localStorage.getItem("token"))},url:Zn["a"]+"/user/".concat(this.entity,"/").concat(t),data:{education_id:e}})}},{key:"entity",get:function(){return"education"}}]),a}(dt["a"]),xi=new yi,ki=(a("5445"),{data:function(){return{educationToDelete:"",selected:"",formData:{education_id:"",school:"",degree:"",field_of_study:"",graduated_year:null,additional_notes:null},userId:"",admin:localStorage.getItem("admin"),userEducations:[]}},validations:{formData:{school:{required:St["required"]},degree:{required:St["required"]},field_of_study:{required:St["required"]}}},methods:{submitModal:function(){this.formData.id?this.updateEducation():this.createEducation()},toggleEditing:function(t){t&&(this.formData=Object(u["a"])({},t)),this.showForm()},toggleConfirmDelete:function(t){this.educationToDelete=t,this.$refs.delete_education_modal.show()},resetModal:function(){this.formData={id:"",school:"",degree:"",field_of_study:"",graduated_year:null,additional_notes:null}},showForm:function(){this.$refs.create_education_modal.show()},getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xi.get(t.userId);case 2:t.userEducations=e.sent.data;case 3:case"end":return e.stop()}}),e)})))()},createEducation:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t.userEducations,e.next=4,xi.create(t.userId,t.formData);case 4:e.t1=e.sent.data,e.t0.push.call(e.t0,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e["catch"](0),e.t2.response&&e.t2.response.data&&t.$emit("openSnack",e.t2.response.data,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},updateEducation:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xi.update(t.userId,t.formData);case 3:a=e.sent.data,e.t0=regeneratorRuntime.keys(t.userEducations);case 5:if((e.t1=e.t0()).done){e.next=12;break}if(s=e.t1.value,t.userEducations[s].id!==a.id){e.next=10;break}return t.userEducations[s]=Object(u["a"])({},a),e.abrupt("break",12);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t2=e["catch"](0),e.t2.response&&e.t2.response.data&&t.$emit("openSnack",e.t2.response.data,"error");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},deleteEducation:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xi["delete"](t.userId,t.educationToDelete.id);case 3:t.userEducations.splice(t.userEducations.indexOf(t.educationToDelete),1),t.educationToDelete={},e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response&&e.t0.response.data&&t.$emit("openSnack",e.t0.response.data,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.userId=this.$route.params.id,this.getData()}}),Ci=ki,Di=Object(p["a"])(Ci,bi,wi,!1,null,null,null),ji=Di.exports,Ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-profile row p-3 m-4",attrs:{id:"id_profile"}},[a("table",{staticClass:"table table-bordered table-rounded table-fixed"},[a("caption"),a("thead",{staticClass:"bg-info"},[a("tr",[a("th",{staticClass:"family-name",attrs:{scope:"col"}},[t._v(" Name ")]),a("th",{staticClass:"family-birth",attrs:{scope:"col"}},[t._v(" Date of birth ")]),a("th",{staticClass:"family-relation",attrs:{scope:"col"}},[t._v(" Relationship ")]),a("th",{staticClass:"add text-center",attrs:{scope:"col"}},[a("font-awesome-icon",{staticClass:"fa-fw",attrs:{icon:["fas","plus"]},on:{click:function(e){return t.toggleEditing()}}})],1)])]),a("tbody",t._l(t.userFamilyMembers,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-dark"},[t._v(" "+t._s(e.name)+" ")]),a("td",{staticClass:"text-dark"},[t._v(" "+t._s(e.date_of_birth)+" ")]),a("td",{staticClass:"text-capitalize text-dark"},[t._v(" "+t._s(e.relationship.toLowerCase())+" ")]),a("td",{staticClass:"w-6 text-center text-dark"},[a("span",{staticClass:"mr-3",on:{click:function(a){return t.toggleEditing(e)}}},[a("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),a("span",{on:{click:function(a){return t.toggleConfirmDelete(e)}}},[a("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])])})),0)]),a("b-modal",{ref:"create_family_modal",attrs:{"ok-disabled":this.$v.$invalid,"ok-title":"Confirm","ok-variant":"info"},on:{ok:function(e){return t.submitModal()},hidden:function(e){return t.resetModal()}}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("b-badge",{staticClass:"p-3 w-100"},[t._v(" Input member information ")])],1),a("div",{staticClass:"col-sm-12 mx-auto row my-4"},[a("form",{staticClass:"bg-white p-4 text-info"},[a("div",{staticClass:"form-group row",class:{"form-group--error":t.formData.name.$error}},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Name"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.name,expression:"formData.name"}],staticClass:"form-control row",attrs:{type:"text"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value)}}}),t.$v.formData.name.required?t._e():a("div",{staticClass:"error"},[t._v(" Field is required ")])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Relationship"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2 inner-addon right-addon row"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.relationship,expression:"formData.relationship"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"relationship",e.target.multiple?a:a[0])}}},t._l(this.RELATIONSHIPS,(function(e){return a("option",{domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),0)])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-5 col-form-label"},[t._v("Date of birth"),a("sup",{staticClass:"text-danger"},[t._v(" *")])]),a("div",{staticClass:"col-sm-7 pt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.date_of_birth,expression:"formData.date_of_birth"}],staticClass:"form-control row",attrs:{type:"date"},domProps:{value:t.formData.date_of_birth},on:{input:function(e){e.target.composing||t.$set(t.formData,"date_of_birth",e.target.value)}}})])])])])])],2),a("b-modal",{ref:"delete_member_modal",attrs:{"ok-title":"Confirm","ok-variant":"danger"},on:{ok:function(e){return t.deleteMember()}}},[t._t("default",[a("h5",{staticClass:"text-center"},[a("p",{staticClass:"p-3 w-100 text-dark"},[t._v(" Do you want to remove? ")])]),a("div",{staticClass:"col-sm-12 mx-auto row my-4"})])],2)],1)},Oi=[],Ii=[{text:"Father",value:"FATHER"},{text:"Mother",value:"MOTHER"},{text:"Child",value:"CHILD"},{text:"Spouse",value:"SPOUSE"}],Ei=function(t){Object(lt["a"])(a,t);var e=Object(ut["a"])(a);function a(){return Object(ot["a"])(this,a),e.apply(this,arguments)}return Object(ct["a"])(a,[{key:"create",value:function(t,e){var a=this.request({auth:!0}).post("user/".concat(this.entity,"/").concat(t,"/add"),e);return a}},{key:"get",value:function(t){var e=this.request({auth:!0}).get("user/".concat(this.entity,"/").concat(t));return e}},{key:"update",value:function(t,e){return this.request({auth:!0}).put("user/".concat(this.entity,"/").concat(t),e)}},{key:"delete",value:function(t,e){return f()({method:"delete",headers:{Authorization:"".concat(localStorage.getItem("token"))},url:Zn["a"]+"/user/".concat(this.entity,"/").concat(t),data:{id:e}})}},{key:"entity",get:function(){return"family"}}]),a}(dt["a"]),$i=new Ei,Si={data:function(){return{memberToDelete:"",selected:"",formData:{id:"",name:"",relationship:"",date_of_birth:null},userId:"",admin:localStorage.getItem("admin"),userFamilyMembers:[]}},validations:{formData:{name:{required:St["required"]}}},computed:{RELATIONSHIPS:function(){return Ii}},methods:{submitModal:function(){this.formData.id?this.updateFamilyMember():this.createFamilyMember()},toggleEditing:function(t){t&&(this.formData=Object(u["a"])({},t)),this.showForm()},toggleConfirmDelete:function(t){this.memberToDelete=t,this.$refs.delete_member_modal.show()},resetModal:function(){this.formData={id:"",name:"",relationship:"",date_of_birth:null}},showForm:function(){this.$refs.create_family_modal.show()},getData:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$i.get(t.userId);case 2:t.userFamilyMembers=e.sent.data;case 3:case"end":return e.stop()}}),e)})))()},createFamilyMember:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t.userFamilyMembers,e.next=4,$i.create(t.userId,t.formData);case 4:e.t1=e.sent.data,e.t0.push.call(e.t0,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e["catch"](0),e.t2.response&&e.t2.response.data&&t.$emit("openSnack",e.t2.response.data,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},updateFamilyMember:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{$i.update(t.userId,t.formData).then((function(){for(var e in t.userFamilyMembers)if(t.userFamilyMembers[e].id===t.formData.id){t.userFamilyMembers[e]=Object(u["a"])({},t.formData);break}}))}catch(error){error.response&&error.response.data&&t.$emit("openSnack",error.response.data,"error")}case 1:case"end":return e.stop()}}),e)})))()},deleteMember:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$i["delete"](t.userId,t.memberToDelete.id);case 3:t.userFamilyMembers.splice(t.userFamilyMembers.indexOf(t.memberToDelete),1),t.memberToDelete={},e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response&&e.t0.response.data&&t.$emit("openSnack",e.t0.response.data,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){this.userId=this.$route.params.id,this.getData()}},qi=Si,Ni=(a("34d6"),Object(p["a"])(qi,Ri,Oi,!1,null,null,null)),Mi=Ni.exports,Pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-2 ma-auto calendar-main-content"},[a("div",{staticClass:"position-absolute sticky-top mt-2 mybcrumb"},[a("b-breadcrumb",{attrs:{items:t.items}})],1),a("v-app",{staticClass:"mr-3 bg-light"},[a("v-row",{staticClass:"m-4"},[a("v-col",{attrs:{cols:"2"}},[a("v-row",{staticStyle:{height:"60px"}}),a("v-row",[a("router-link",{staticClass:"btn btn-info float-right pt-2 text-light m-2 w-100",attrs:{to:"/leavesday"}},[t._v(" ADD LEAVE ")])],1),a("v-row",[a("b-dropdown",{staticClass:"m-2 w-100",attrs:{text:"SET LUNCH",variant:"info"}},[a("v-btn",{staticClass:"mb-2 w-100 ",attrs:{color:"#43c9d0",depressed:"",dark:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v(" Range ")]),a("v-btn",{staticClass:"mb-2 w-100",attrs:{color:"#43c9d0",depressed:"",dark:""},on:{click:t.setToday}},[t._v(" Today ")]),t.is_set_veggie?t._e():a("v-btn",{staticClass:"mb-2 w-100",attrs:{dark:"",depressed:"",color:"#43c9d0"},on:{click:function(e){return t.setVeggieLunch()}}},[t._v(" Veggie ")])],1)],1),a("v-row",[a("b-dropdown",{staticClass:"m-2 w-100",attrs:{text:"CANCEL LUNCH",variant:"danger"}},[t.is_set_veggie?a("v-btn",{staticClass:"mb-2 w-100",attrs:{color:"#e02d1a",depressed:"",dark:""},on:{click:function(e){return t.cancelSetVeggieLunch()}}},[t._v(" Veggie ")]):t._e(),a("v-btn",{staticClass:"mb-2 w-100",attrs:{dark:"",color:"#e02d1a",depressed:""},on:{click:function(e){return t.deleteMany()}}},[t._v(" Set ")])],1)],1),a("v-row",[a("v-list",{staticClass:"bg-light"},[a("v-list-group",{attrs:{value:!0},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("My Calendar")])],1)]},proxy:!0}])},[a("v-list-item",[a("v-checkbox",{staticClass:"m-0 p-0",attrs:{color:"#F2CD5E",label:"My Lunch"},on:{click:t.checkBox},model:{value:t.lunch,callback:function(e){t.lunch=e},expression:"lunch"}},[t._v("My Lunch ")])],1),a("v-list-item",[a("v-checkbox",{staticClass:"m-0 p-0",attrs:{color:"info",label:"My Leave"},on:{click:t.checkBox},model:{value:t.leave,callback:function(e){t.leave=e},expression:"leave"}})],1)],1)],1)],1),a("v-row",[a("div",{staticClass:"m-3"},[a("strong",[t._v("Descriptions")])]),a("div",{staticClass:"text-center rounded text-light color-bg m-2 w-100"},[a("small",[t._v("Lunar Day")])]),a("div",{staticClass:"text-center rounded text-dark color-bg-2 m-2 w-100"},[a("small",[t._v("Current Day")])])])],1),a("v-col",{attrs:{cols:"10"}},[a("FullCalendar",{ref:"fullCalendar",attrs:{options:t.calendarOptions}})],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-container",[a("v-form",[a("div",{staticClass:"d-flex align-items-center mt-6"},[a("label",{staticClass:"mt-3 mr-3"},[t._v("From: ")]),a("flat-pickr",{staticClass:"bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",minDate:this.today,dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},placeholder:"Select date"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("label",{staticClass:"mt-3 mr-3 ml-3"},[t._v("To: ")]),a("flat-pickr",{staticClass:"bg-white",attrs:{config:{altInput:!0,altFormat:"d-m-Y",minDate:this.startDate?this.startDate:this.today,dateFormat:"Y-m-d",locale:{firstDayOfWeek:1}},placeholder:"Select date"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("label",{staticClass:"container row font-weight-bold col-5 pr-0 justify-content-between ml-1"},[t._v(" Has Veggie "),a("font-awesome-icon",{staticClass:"text-success fa-fw",attrs:{icon:["fas","leaf"]}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.has_veggie,expression:"has_veggie"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.has_veggie)?t._i(t.has_veggie,null)>-1:t.has_veggie},on:{change:function(e){var a=t.has_veggie,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.has_veggie=a.concat([r])):i>-1&&(t.has_veggie=a.slice(0,i).concat(a.slice(i+1)))}else t.has_veggie=n}}}),a("span",{staticClass:"checkmark"})],1)]),a("v-row",[a("v-spacer"),a("v-btn",{staticClass:"mr-auto",attrs:{dark:"",color:"#43c9d0",depressed:""},on:{click:function(e){return t.addEvent()}}},[t._v(" Create Lunch ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:t.dialogDetail,callback:function(e){t.dialogDetail=e},expression:"dialogDetail"}},["Lunch"===t.selectedEvent.title||"Veggie Lunch"===t.selectedEvent.title?a("v-card",[a("v-card-title",{staticClass:"headline text-center"},[t._v(" "+t._s(t.selectedEvent.title)+" "),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteEvent(t.selectedEvent)}}},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-delete")])],1)],1),a("v-card-actions",[a("div",{staticClass:"d-flex align-items-center ml-4"},[a("v-checkbox",{attrs:{color:"#43c9d0"},model:{value:t.selectedEvent.has_veggie,callback:function(e){t.$set(t.selectedEvent,"has_veggie",e)},expression:"selectedEvent.has_veggie"}}),t._v(" Has veggie "),a("font-awesome-icon",{staticClass:"text-success fa-fw text-info ml-3",attrs:{icon:["fas","leaf"]}})],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:"",type:"submit",depressed:"",color:"#43c9d0"},on:{click:function(e){return t.updateEvent(t.selectedEvent)}}},[t._v(" Update ")])],1)],1):a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" "+t._s(t.selectedEvent.title)+" ")]),a("v-card-text",[t._v(" "+t._s(t.selectedEvent.start)+" - "+t._s(t.selectedEvent.type)+" ")]),t.selectedEvent.reason?a("v-card-text",[t._v(" Reason: "+t._s(t.selectedEvent.reason)+" ")]):a("v-card-text",[t._v(" No reason ")]),a("v-card-text",[t._v("Lunch: "+t._s(t.selectedEvent.lunch))])],1)],1)],1)],1)},Li=[],Ai=(a("3942"),{name:"fullcalendar",middleware:"authen",components:{FullCalendar:vt["a"],flatPickr:Ut.a},data:function(){return{dialogAddLeave:!1,lunch:!0,leave:!0,showDialog:!1,calendarOptions:{themeSystem:"bootstrap",plugins:[ht["b"],pt["a"],gt["a"]],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},contentHeight:800,events:[],eventClick:this.handleEventClick},selectedEvent:{},title:"",content:"",eventsLunch:[],eventsLeave:[],items:[{text:"Homepage",to:{name:"Index"}},{text:"User Calendar",active:!0}],today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),name:"Lunch",details:null,start:null,is_set_veggie:!1,has_veggie:!1,end:null,color:"#20B2AA",currentlyEditing:null,selectedElement:null,selectedOpen:!1,events:[],dialog:!1,dialogDate:!1,startDate:(new Date).toISOString().substr(0,10),endDate:null,dialogDetail:!1,lunarDay:[]}},head:function(){return{title:"User Calendar"}},mounted:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.lunarDays(),e.next=3,t.getLeave();case 3:return e.next=5,t.getEvents();case 5:case"end":return e.stop()}}),e)})))()},methods:{lunarDays:function(){for(var t=this.$refs.fullCalendar.getApi(),e=t.getDate(),a=e.getFullYear(),s=e.getMonth(),n=0;n<32;n++){var r=bt()().year(a).month(s).date(n).lunar().format("DD");if(15==r||1==r){var i="".concat(a,"-").concat(s+1,"-").concat(n),o="".concat(a,"-").concat(s+1,"-").concat(n+1);s<9?(i="".concat(a,"-0").concat(s+1,"-").concat(n),o="".concat(a,"-0").concat(s+1,"-").concat(n+1),31==n&&(o="".concat(a,"-0").concat(s+2,"-01")),n<10&&(i="".concat(a,"-0").concat(s+1,"-0").concat(n),o="".concat(a,"-0").concat(s+1,"-0").concat(n+1))):(31==n&&(o="".concat(a,"-").concat(s+2,"-01")),n<10&&(i="".concat(a,"-").concat(s+1,"-0").concat(n),o="".concat(a,"-").concat(s+1,"-0").concat(n+1)));var c={start:i,end:o,display:"background",backgroundColor:"#45BCF3"};this.lunarDay.push(c)}}},checkBox:function(){!1===this.leave&&!0===this.lunch?this.calendarOptions.events=this.eventsLunch.concat(this.lunarDay):!1===this.leave&&!1===this.lunch?this.calendarOptions.events=this.lunarDays:!0===this.leave&&!1===this.lunch?this.calendarOptions.events=this.eventsLeave.concat(this.lunarDay):this.calendarOptions.events=this.eventsLeave.concat(this.eventsLunch,this.lunarDay)},getLeave:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qa.getStatisticUser().then((function(e){t.eventsLeave=e}))["catch"]((function(t){error({statusCode:404,message:"Post not found"})}));case 2:case"end":return e.stop()}}),e)})))()},getEvents:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("event/getUserLunches");case 2:t.eventsLunch=e.sent,t.calendarOptions.events=t.eventsLeave.concat(t.eventsLunch,t.lunarDay),t.eventsLunch.map((function(e){!0===e.has_veggie&&(t.is_set_veggie=!0)}));case 5:case"end":return e.stop()}}),e)})))()},handleEventClick:function(t){this.selectedEvent=this.calendarOptions.events.find((function(e){return e.id===t.event.id})),this.dialogDetail=!0},deleteMany:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={date:t.today},e.next=3,ft.deleteMany(a);case 3:return s=e.sent,e.next=6,t.getEvents();case 6:s&&s.data.msg&&(n=s.data.msg,t.$toast.success(n,{position:"top-right"}),t.is_set_veggie=!1);case 7:case"end":return e.stop()}}),e)})))()},setVeggieLunch:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new Date,s=a.getHours(),!(s>Zn["VALID_TIME"])){e.next=4;break}return e.abrupt("return",t.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return n={date:t.today},e.next=7,ft.setVeggieMonth(n);case 7:return r=e.sent,i="Not found lunar day",e.next=11,t.getEvents();case 11:r&&r.data.msg!==i&&(o=r.data.msg,t.$toast.success(o,{position:"top-right"}),t.is_set_veggie=!0),r&&r.data.msg===i&&t.$toast.error(i,{position:"top-right"});case 13:case"end":return e.stop()}}),e)})))()},cancelSetVeggieLunch:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new Date,s=a.getHours(),!(s>Zn["VALID_TIME"])){e.next=4;break}return e.abrupt("return",t.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return n={date:t.today},e.next=7,ft.cancelSetVeggieMonth(n);case 7:return r=e.sent,e.next=10,t.getEvents();case 10:r&&r.data.msg&&(i=r.data.msg,t.$toast.success(i,{position:"top-right"})),t.is_set_veggie=!1;case 12:case"end":return e.stop()}}),e)})))()},setToday:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new Date,s=a.getHours(),!(s>Zn["VALID_TIME"])){e.next=4;break}return e.abrupt("return",t.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return t.focus=t.today,n={name:t.name,has_veggie:t.has_veggie||!1,date:t.today},e.next=8,ft.create(n);case 8:return r=e.sent,e.next=11,t.getEvents();case 11:r&&r.data.date&&t.$toast.success("You have setted lunch for today",{position:"top-right"}),r&&r.data.error_msg&&t.$toast.error(r.data.error_msg,{position:"top-right"});case 13:case"end":return e.stop()}}),e)})))()},addEvent:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dialog=!1,a=new Date,s=a.getHours(),n=bt()(),!(t.startDate>t.endDate)){e.next=6;break}return e.abrupt("return",t.$toast.error("End day must be greater than start day",{position:"top-right"}));case 6:if(!(t.startDate<t.today)){e.next=8;break}return e.abrupt("return",t.$toast.error("Start day must be greater than today",{position:"top-right"}));case 8:if(t.startDate===t.today&&s>Zn["VALID_TIME"]&&(t.startDate=bt()(n).add(1,"days")),!t.startDate||!t.endDate){e.next=19;break}return r={name:t.name,has_veggie:t.has_veggie,list_dates:t.getDatesUnRange(t.startDate,t.endDate)},e.next=13,ft.createMany(r);case 13:return i=e.sent,e.next=16,t.getEvents();case 16:i&&i.data.msg&&(o=i.data.msg,t.$toast.success(o,{position:"top-right"})),e.next=20;break;case 19:alert("You must enter start and end time");case 20:case"end":return e.stop()}}),e)})))()},editEvent:function(t){this.currentlyEditing=t.id},updateEvent:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=new Date,n=s.getHours(),!(n>Zn["VALID_TIME"]&&t.start<=e.today)){a.next=4;break}return a.abrupt("return",e.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return r={has_veggie:t.has_veggie},a.next=7,ft.update({data:r,id:t.id});case 7:return e.currentlyEditing=null,a.next=10,e.getEvents();case 10:e.dialogDetail=!1;case 11:case"end":return a.stop()}}),a)})))()},deleteEvent:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=new Date,n=s.getHours(),!(n>Zn["VALID_TIME"]&&t.start<=e.today)){a.next=4;break}return a.abrupt("return",e.$toast.error("Out of time to set lunch",{position:"top-right"}));case 4:return a.next=6,ft["delete"](t.id);case 6:return r=a.sent,a.next=9,e.getEvents();case 9:r&&r.data.msg&&(i=r.data.msg,e.$toast.success(i,{position:"top-right"})),e.dialogDetail=!1;case 11:case"end":return a.stop()}}),a)})))()},getDatesUnRange:function(t,e){var a=[],s=bt()(t),n=bt()(e);while(s<=n)a.push(bt()(s).format("YYYY-MM-DD")),s=bt()(s).add(1,"days");return a}}}),Ti=Ai,Fi=(a("8b97"),Object(p["a"])(Ti,Pi,Li,!1,null,"5ab85821",null)),Ui=Fi.exports,Bi=[{path:"/profile",name:"profile",component:js,children:[{path:":id",name:"general",components:{inner:Fr}},{path:"bank/:id",name:"bank",components:{inner:Gr}},{path:"contact/:id",name:"contact",components:{inner:ai}},{path:"insurance/:id",name:"insurance",components:{inner:_i}},{path:"identity/:id",name:"identity",components:{inner:ui}},{path:"family/:id",name:"family",components:{inner:Mi}},{path:"education/:id",name:"education",components:{inner:ji}}]},{path:"/",name:"Index",component:Y},{path:"/login",name:"Login",component:K},{path:"/calendar",name:"Calendar",component:kt},,{path:"/changepassword",name:"ChangePassword",component:It},{path:"/createteam",name:"CreateTeam",component:Pt},{path:"/editLunch",name:"EditLunch",component:Qt},{path:"/editprofile/:id",name:"ListTable",props:!0,component:ce},{path:"/addMember/:id",name:"AddMember",component:pe},{path:"/editteam",name:"EditTeam",component:xe},{path:"/employeelist",name:"EmployeeList",component:Oe},{path:"/import",name:"Import",component:Ne},{path:"/invite",name:"Invite",component:He},{path:"/leavedaystatistic",name:"LeaveDayStatistic",component:Xe},{path:"/leavedayuserstatistic",name:"LeaveDayUserStatistic",component:oa},{path:"/leavemanage",name:"LeaveManage",component:Ma},{path:"/leavesday",name:"LeavesDay",component:ns},{path:"/lunchStatistic",name:"LunchStatistic",component:ms},{path:"/photos/:id",name:"Photos",component:ws},{path:"/resetPassword",name:"ResetPassword",component:Ss},{path:"/calendar",name:"calendar",component:kt},{path:"/successpage",name:"SuccessPage",component:As},{path:"/team/:id",name:"Team-id",component:Hs},{path:"/team",name:"Team",component:Zs},{path:"/userCalendar",name:"UserCalendar",component:nn},{path:"/userLunchStatistic",name:"UserLunchStatistic",component:mn},{path:"/verify",name:"Verify",component:bn},{path:"/create-provider",name:"create-provider",component:Rn},{path:"/manage-provider",name:"manage-provider",component:qn},{path:"/create-lunch",name:"create-lunch",component:Un},{path:"/manage-lunch",name:"manage-lunch",component:Wn},{path:"/create-userLunch",name:"create-userLunch",component:tr},{path:"/manage-userLunch",name:"manage-userLunch",component:ir},{path:"/statistic-userLunch",name:"statistic-userLunch",component:mr},{path:"/type_off",name:"type_off",component:jr},{path:"/holidays",name:"holidays",component:Sr},{path:"/manage-events",name:"manage-events",component:wr},{path:"/full-calendar",name:"fullcalendar",component:Ui}],zi={currentUser:{id:"",name:"",email:"",profile_id:"",phone:""}},Hi={isAdmin:function(t){return 1===t.currentUser.role}},Yi=a("f42f"),Vi=a.n(Yi),Wi={SET_CURRENT_USER:function(t,e){t.currentUser.id=e.user,t.currentUser.email=e.email,t.currentUser.name=e.name,t.currentUser.profile_id=e.profile_id,t.currentUser.is_admin=e.is_admin}},Gi={namespaced:!0,state:zi,mutations:Wi,getters:Hi,actions:Vi.a},Ji={state:{events:[]}},Zi={getUserLunches:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,ft.get();case 3:return s=e.sent,n=s.data.map((function(t){return{title:t.has_veggie?"Veggie Lunch":"Lunch",id:t.id,start:t.date,end:t.date,has_veggie:t.has_veggie,color:t.has_veggie?"#90BE6D":"#F9C74F"}})),a("SET_USER_lUNCHES",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()}},Qi={SET_USER_lUNCHES:function(t,e){t.events=e}},Ki={namespaced:!0,state:Ji,mutations:Qi,actions:Zi},Xi=a("cee2");s["default"].use(d["a"]);var to=new d["a"].Store({state:{token:null,countNoti:0},mutations:{setToken:function(t,e){t.token=e},add:function(t){t.countNoti+=1},subtract:function(t){t.countNoti-=1},setCountNoti:function(t,e){t.countNoti=e.count}},actions:{nuxtServerInit:function(t,e){var a=t.commit,s=e.req,n=null;if(s.headers.cookie){var r=Xi.parse(s.headers.cookie);try{n=JSON.parse(r.token)}catch(i){}}a("setToken",n)},setCountNoti:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,ja();case 3:s=e.sent,a("setCountNoti",s);case 5:case"end":return e.stop()}}),e)})))()}},getters:{showNoti:function(t){return t.countNoti}},modules:{user:Gi,event:Ki}}),eo=a("a78e");function ao(t,e,a){return so.apply(this,arguments)}function so(){return so=Object(st["a"])(regeneratorRuntime.mark((function t(e,a,s){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=to.state.user.currentUser.profile_id,"Index"===e.name){t.next=4;break}return t.next=4,to.dispatch("setCountNoti");case 4:if(!n)try{r={id:localStorage.getItem("user_id"),email:localStorage.getItem("email"),name:localStorage.getItem("name"),profile_id:localStorage.getItem("profile_id")},to.commit("user/SET_CURRENT_USER",r),s()}catch(a){console.log(a)}s();case 6:case"end":return t.stop()}}),t)}))),so.apply(this,arguments)}function no(t,e,a){var s=eo.get("token");return"Verify"==t.name||"ResetPassword"==t.name||"Login"===t.name||s?a():a({name:"Login"})}function ro(t,e,a){window.document.title="Paradox",a()}s["default"].use($["a"]);var io=new $["a"]({mode:"history",base:"/",routes:Bi});io.beforeEach(no),io.beforeEach(ro),io.beforeEach(ao);var oo=io,co={computed:{$currentUser:function(){return this.$store.state.user.currentUser}}};s["default"].mixin(co);var lo=a("a78e");f.a.defaults.baseURL=Zn["a"]?"".concat(Zn["a"]):"http://localhost:8001",f.a.defaults.headers.common={Authorization:lo.get("token")?lo.get("token"):""},s["default"].use(f.a);var uo=a("ce5b"),mo=a.n(uo);s["default"].use(mo.a);var fo=new mo.a({icons:{iconfont:"mdi"}}),vo=a("7399"),ho=a("5f5b"),po=a("b1e0"),go=a("ecee"),_o=a("ad3d"),bo=a("c074"),wo=a("9062"),yo=a.n(wo),xo=(a("e40d"),a("da96"),a("6c42")),ko=a("3f9d"),Co=a("f2d9");s["default"].component("downloadExcel",Co["a"]),s["default"].component("font-awesome-icon",_o["a"]),s["default"].use(yo.a),s["default"].use(xo["a"]),s["default"].use(ho["a"]),s["default"].use(po["a"]),s["default"].use(r.a),s["default"].use(ko["a"]),s["default"].use(vo["a"]),go["c"].add(bo["a"]),s["default"].config.productionTip=!1,new s["default"]({router:oo,store:to,vuetify:fo,render:function(t){return t(E)}}).$mount("#app")},"589a":function(t,e,a){"use strict";(function(t){var s=a("bc3a"),n=a.n(s);t.client&&a("a78e");e["a"]={name:"id_change_password",middleware:"authen",data:function(){return{currentPassword:"",sent:!1,newPassword:"",repeatedNewPassword:"",items:[{text:"Homepage",to:{name:"Index"}},{text:"Change password",active:!0}],errors:""}},head:function(){return{title:"Change password"}},methods:{submit:function(){var t=this;if(this.check_form()){var e=new FormData,a=localStorage.getItem("user_id");e.append("current_password",this.currentPassword),e.append("new_password",this.newPassword),n.a.put("/user/".concat(a,"/change_password"),e).then((function(e){t.sent=!0,t.errors=""}))["catch"]((function(e){t.errors="Your current password is not correct",t.sent=!1}))}},check_form:function(){return this.currentPassword.length<6?(this.errors="Current password need more than 6 characters",!1):this.newPassword.length<6?(this.errors="New Password need more than 6 characters",!1):this.repeatedNewPassword<6?(this.errors="Repeated New Password need more than 6 characters",!1):this.newPassword===this.repeatedNewPassword||(this.errors="New Password and Repeated New Password don't match",!1)}}}}).call(this,a("4362"))},"58ed":function(t,e,a){"use strict";var s=a("a61f"),n=a.n(s);n.a},"5b71":function(t,e,a){"use strict";var s=a("8a96"),n=a.n(s);n.a},6502:function(t,e,a){t.exports=a.p+"img/symbol.a917b666.png"},"651b":function(t,e,a){"use strict";var s=a("edd9"),n=a.n(s);n.a},"658a":function(t,e,a){},"65e1":function(t,e,a){},"691f":function(t,e,a){"use strict";var s=a("f61a"),n=a.n(s);n.a},6962:function(t,e,a){},"6d94":function(t,e,a){"use strict";var s=a("861e"),n=a.n(s);n.a},"75fc":function(t,e,a){"use strict";var s=a("91c5"),n=a.n(s);n.a},"798c":function(t,e,a){"use strict";var s=a("0058"),n=a.n(s);n.a},"7d5f":function(t,e,a){t.exports=a.p+"img/icon.758ae371.png"},"861e":function(t,e,a){},"88dd":function(t,e,a){},"8a36":function(t,e,a){},"8a96":function(t,e,a){},"8ae2":function(t,e,a){},"8b79":function(t,e,a){"use strict";var s=a("f368"),n=a.n(s);n.a},"8b97":function(t,e,a){"use strict";var s=a("88dd"),n=a.n(s);n.a},"8bab":function(t,e,a){"use strict";var s=a("313a"),n=a.n(s);n.a},"8ebc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-2 ml-1 d-flex align-items-center m-auto"},[a("div",{staticClass:"col-md-2 inner-addon right-addon mt-1"},[a("v-text-field",{staticClass:"pt-0",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",placeholder:"Enter Name or Email"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(1)}},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1),a("div",{staticClass:"col-md-2 inner-addon right-addon mt-2"},[a("b-form-select",{attrs:{options:this.MONTHS},on:{change:function(e){return t.search(1)}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("Search by birthday")])]},proxy:!0}]),model:{value:t.searchData.birthdayMonth,callback:function(e){t.$set(t.searchData,"birthdayMonth",e)},expression:"searchData.birthdayMonth"}})],1),a("div",{staticClass:"col-md-2 inner-addon right-addon mt-2"},[a("flat-pickr",{staticClass:"form-control bg-white",attrs:{config:this.flatpickrConfig,placeholder:"Search by join date",name:"date"},model:{value:t.searchData.joinDate,callback:function(e){t.$set(t.searchData,"joinDate",e)},expression:"searchData.joinDate"}})],1),a("div",{staticClass:"col-md-1 inner-addon right-addon mt-2"},[a("b-form-select",{attrs:{options:t.GENDERS},on:{change:function(e){return t.search(1)}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("Gender")])]},proxy:!0}]),model:{value:t.searchData.gender,callback:function(e){t.$set(t.searchData,"gender",e)},expression:"searchData.gender"}})],1),a("div",{staticClass:"col-md-2 inner-addon right-addon mt-2"},[a("b-form-select",{attrs:{options:t.optionsTitle},on:{change:function(e){return t.search(1)}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("Title")])]},proxy:!0}]),model:{value:t.searchData.title,callback:function(e){t.$set(t.searchData,"title",e)},expression:"searchData.title"}})],1),a("div",{staticClass:"col-md-2 inner-addon right-addon mt-2"},[a("b-form-select",{attrs:{options:t.optionsTeam},on:{change:function(e){return t.search(1)}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("Team")])]},proxy:!0}]),model:{value:t.searchData.team,callback:function(e){t.$set(t.searchData,"team",e)},expression:"searchData.team"}})],1),a("div",{staticClass:"col-md-1 inner-addon right-addon mt-2 text-center"},[a("label",{staticClass:"switch my-auto mr-3",attrs:{title:"Toggle active user"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.active,expression:"searchData.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.searchData.active)?t._i(t.searchData.active,null)>-1:t.searchData.active},on:{change:function(e){var a=t.searchData.active,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.searchData,"active",a.concat([r])):i>-1&&t.$set(t.searchData,"active",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.searchData,"active",n)}}}),a("span",{staticClass:"slider round"})])])])},n=[],r=(a("4160"),a("b0c0"),a("ac1f"),a("841c"),a("159b"),a("96cf"),a("1da1")),i=a("d4ec"),o=a("bee2"),c=a("262e"),l=a("2caf"),u=a("26b3"),d=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getTitleOption",value:function(){var t=this.request({auth:!0}).get("user/get_all_title");return t}},{key:"getTeamOption",value:function(){var t=this.request({auth:!0}).get("team?limit=1");return t}},{key:"get",value:function(t,e,a,s,n,r,i,o,c,l){var u=!0===o?1:0,d=this.request({auth:!0}).get("".concat(this.entity),{params:{email:e,name:t,title:r,birthday:a,joindate:s,gender:n,team:i,active:u,page:c,page_size:l}});return d}},{key:"entity",get:function(){return"user/search"}}]),a}(u["a"]),m=new d,f=[{text:"All",value:""},{text:"January",value:"01"},{text:"February",value:"02"},{text:"March",value:"03"},{text:"April",value:"04"},{text:"May",value:"05"},{text:"June",value:"06"},{text:"July",value:"07"},{text:"August",value:"08"},{text:"September",value:"09"},{text:"October",value:"10"},{text:"November",value:"11"},{text:"December",value:"12"}],v=a("efa4"),h=a("ec45"),p=(a("411c"),a("c1df")),g=a.n(p),_=a("c38f"),b=a.n(_),w=a("c723"),y=a.n(w),x=(a("eb08"),{name:"FilterBox",components:{DatePicker:h["a"],flatPickr:b.a},props:["page_size"],data:function(){return{flatpickrConfig:{plugins:[new y.a({shorthand:!0})]},searchData:{name:"",email:"",birthdayMonth:null,joinDate:"",gender:null,team:null,title:null,active:!0},optionsTeam:[],optionsTitle:[]}},watch:{"searchData.joinDate":function(){this.search(1)},"searchData.active":function(){this.search(1)}},created:function(){this.setOptionTitle(),this.setOptionTeam(),v["a"].length<4&&v["a"].push({text:"All",value:""})},computed:{MONTHS:function(){return f},GENDERS:function(){return v["a"]}},methods:{getSearchData:function(){return this.searchData},setOptionTitle:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.getTitleOption();case 2:a=e.sent,a&&a.data&&(a.data.data.forEach((function(e){e.title&&t.optionsTitle.push(e.title)})),t.optionsTitle.push("All"));case 4:case"end":return e.stop()}}),e)})))()},setOptionTeam:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.getTeamOption();case 2:a=e.sent,a&&a.data&&(a.data.data.forEach((function(e){return t.optionsTeam.push(e.team_name)})),t.optionsTeam.push("All"));case 4:case"end":return e.stop()}}),e)})))()},validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())},search:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:1,e.validateEmail(e.searchData.name)&&(e.searchData.email=e.searchData.name,e.searchData.name=""),n=e.format_date(e.searchData.joinDate),a.next=5,m.get(e.searchData.name,e.searchData.email,e.searchData.birthdayMonth,n,e.searchData.gender,e.searchData.title,e.searchData.team,e.searchData.active,s,e.page_size);case 5:r=a.sent,r&&r.data&&e.$emit("loadData",r,!0);case 7:case"end":return a.stop()}}),a)})))()},clearFilter:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.searchData={name:"",email:"",birthdayMonth:null,joinDate:"",gender:null,team:null,title:null,active:!0},t.$emit("getData");case 1:case"end":return e.stop()}}),e)})))()},format_date:function(t){if(t)return g()(String(t)).format("YYYY-MM")}}}),k=x,C=(a("5235"),a("2877")),D=Object(C["a"])(k,s,n,!1,null,"27ea41c0",null);e["a"]=D.exports},"91c5":function(t,e,a){},9667:function(t,e,a){"use strict";var s=a("c950"),n=a.n(s);n.a},9814:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5 col-6 mx-auto"},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"===t.admin,expression:"admin === 'true'"}],staticClass:"d-flex justify-content-center card-body bg-light my-auto py-5"},[a("router-link",{staticClass:"btn btn-info float-right px-4 py-2 mr-4 text-uppercase font-weight-bold",attrs:{to:"/invite"}},[a("font-awesome-icon",{attrs:{icon:["fas","user-plus"]}}),t._v(" INVITE ")],1),a("router-link",{staticClass:"btn btn-info float-right px-4 py-2 mr-4 text-uppercase font-weight-bold",attrs:{to:"/import"}},[a("font-awesome-icon",{attrs:{icon:["fas","file-import"]}}),t._v(" IMPORT FILE ")],1)],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-info"},[a("h2",{staticClass:"text-white text-center"},[t._v("Welcome to Company App Management")])])}],r={name:"InviteBox",data:function(){return{admin:localStorage.getItem("is_admin")}}},i=r,o=a("2877"),c=Object(o["a"])(i,s,n,!1,null,"f0869cb4",null);e["a"]=c.exports},"9ac7":function(t,e,a){"use strict";a("99af");var s=a("d4ec"),n=a("bee2"),r=a("262e"),i=a("2caf"),o=a("26b3"),c=function(t){Object(r["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a,[{key:"get",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=this.request({auth:!0}).get("".concat(this.entity,"?page_size=").concat(t,"&page=").concat(e,"&active=").concat(a));return s}},{key:"entity",get:function(){return"user"}}]),a}(o["a"]);e["a"]=new c},"9cf5":function(t,e,a){t.exports=a.p+"img/background.b68bf19a.png"},"9e67":function(t,e,a){"use strict";var s=a("3f7d"),n=a.n(s);n.a},"9ebc":function(t,e,a){"use strict";var s=a("cb2a"),n=a.n(s);n.a},"9fb5":function(t,e,a){},a011:function(t,e,a){},a06b:function(t,e,a){},a417:function(t,e,a){"use strict";var s=a("c58a"),n=a.n(s);n.a},a527:function(t,e,a){"use strict";var s=a("e62e"),n=a.n(s);n.a},a61f:function(t,e,a){},a661:function(t,e,a){},a745:function(t,e,a){"use strict";var s=a("9fb5"),n=a.n(s);n.a},ab96:function(t,e,a){"use strict";var s=a("bdef"),n=a.n(s);n.a},b810:function(t,e,a){"use strict";var s=a("65e1"),n=a.n(s);n.a},bb712:function(t,e,a){"use strict";var s=a("2d67"),n=a.n(s);n.a},bcfd:function(t,e,a){},bdef:function(t,e,a){},be92:function(t,e,a){},c1c3:function(t,e,a){},c253:function(t,e,a){},c58a:function(t,e,a){},c74e:function(t,e,a){"use strict";var s=a("dfda"),n=a.n(s);n.a},c7a0:function(t,e,a){"use strict";var s=a("d4ec"),n=a("bee2"),r=a("262e"),i=a("2caf"),o=a("26b3"),c=function(t){Object(r["a"])(a,t);var e=Object(i["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a,[{key:"get",value:function(){var t=this.request({auth:!0}).get("".concat(this.entity));return t}},{key:"search",value:function(t,e,a,s,n,r,i,o){var c=!0===o?1:0,l=this.request({auth:!0}).get("user/search_non_paginate",{params:{email:e,name:t,title:r,birthday:a,joindate:s,gender:n,team:i,active:c}});return l}},{key:"entity",get:function(){return"user/get_non_paginate"}}]),a}(o["a"]);e["a"]=new c},c8ed:function(t,e,a){},c950:function(t,e,a){},cade:function(t,e,a){},cb2a:function(t,e,a){},d12d:function(t,e,a){"use strict";var s=a("a661"),n=a.n(s);n.a},d1c7:function(t,e,a){"use strict";var s=a("bcfd"),n=a.n(s);n.a},d28f:function(t,e,a){},de76:function(t,e,a){"use strict";var s=a("6962"),n=a.n(s);n.a},dfda:function(t,e,a){},e3d1:function(t,e,a){},e5db:function(t,e,a){"use strict";var s=a("3ce7"),n=a.n(s);n.a},e62e:function(t,e,a){},edd9:function(t,e,a){},ede1:function(t,e,a){},efa4:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var s=[{text:"Male",value:0},{text:"Female",value:1},{text:"Other",value:2}]},f368:function(t,e,a){},f42f:function(t,e){},f61a:function(t,e,a){},fd33:function(t,e,a){"use strict";var s=a("cade"),n=a.n(s);n.a}});
//# sourceMappingURL=app.a7314c0a.js.map